(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function R1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wc={exports:{}},Mo={},xc={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function M1(){if(ng)return Je;ng=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.iterator;function g(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,w={};function x(V,W,ee){this.props=V,this.context=W,this.refs=w,this.updater=ee||y}x.prototype.isReactComponent={},x.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},x.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function E(){}E.prototype=x.prototype;function b(V,W,ee){this.props=V,this.context=W,this.refs=w,this.updater=ee||y}var S=b.prototype=new E;S.constructor=b,p(S,x.prototype),S.isPureReactComponent=!0;var T=Array.isArray,O=Object.prototype.hasOwnProperty,L={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function _(V,W,ee){var J,te={},re=null,fe=null;if(W!=null)for(J in W.ref!==void 0&&(fe=W.ref),W.key!==void 0&&(re=""+W.key),W)O.call(W,J)&&!M.hasOwnProperty(J)&&(te[J]=W[J]);var ue=arguments.length-2;if(ue===1)te.children=ee;else if(1<ue){for(var Y=Array(ue),j=0;j<ue;j++)Y[j]=arguments[j+2];te.children=Y}if(V&&V.defaultProps)for(J in ue=V.defaultProps,ue)te[J]===void 0&&(te[J]=ue[J]);return{$$typeof:t,type:V,key:re,ref:fe,props:te,_owner:L.current}}function P(V,W){return{$$typeof:t,type:V.type,key:W,ref:V.ref,props:V.props,_owner:V._owner}}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function R(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ee){return W[ee]})}var A=/\/+/g;function B(V,W){return typeof V=="object"&&V!==null&&V.key!=null?R(""+V.key):W.toString(36)}function D(V,W,ee,J,te){var re=typeof V;(re==="undefined"||re==="boolean")&&(V=null);var fe=!1;if(V===null)fe=!0;else switch(re){case"string":case"number":fe=!0;break;case"object":switch(V.$$typeof){case t:case e:fe=!0}}if(fe)return fe=V,te=te(fe),V=J===""?"."+B(fe,0):J,T(te)?(ee="",V!=null&&(ee=V.replace(A,"$&/")+"/"),D(te,W,ee,"",function(j){return j})):te!=null&&(N(te)&&(te=P(te,ee+(!te.key||fe&&fe.key===te.key?"":(""+te.key).replace(A,"$&/")+"/")+V)),W.push(te)),1;if(fe=0,J=J===""?".":J+":",T(V))for(var ue=0;ue<V.length;ue++){re=V[ue];var Y=J+B(re,ue);fe+=D(re,W,ee,Y,te)}else if(Y=g(V),typeof Y=="function")for(V=Y.call(V),ue=0;!(re=V.next()).done;)re=re.value,Y=J+B(re,ue++),fe+=D(re,W,ee,Y,te);else if(re==="object")throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return fe}function z(V,W,ee){if(V==null)return V;var J=[],te=0;return D(V,J,"","",function(re){return W.call(ee,re,te++)}),J}function I(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ee){(V._status===0||V._status===-1)&&(V._status=1,V._result=ee)},function(ee){(V._status===0||V._status===-1)&&(V._status=2,V._result=ee)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var G={current:null},U={transition:null},q={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:U,ReactCurrentOwner:L};function $(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:z,forEach:function(V,W,ee){z(V,function(){W.apply(this,arguments)},ee)},count:function(V){var W=0;return z(V,function(){W++}),W},toArray:function(V){return z(V,function(W){return W})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Je.Component=x,Je.Fragment=r,Je.Profiler=i,Je.PureComponent=b,Je.StrictMode=n,Je.Suspense=f,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Je.act=$,Je.cloneElement=function(V,W,ee){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var J=p({},V.props),te=V.key,re=V.ref,fe=V._owner;if(W!=null){if(W.ref!==void 0&&(re=W.ref,fe=L.current),W.key!==void 0&&(te=""+W.key),V.type&&V.type.defaultProps)var ue=V.type.defaultProps;for(Y in W)O.call(W,Y)&&!M.hasOwnProperty(Y)&&(J[Y]=W[Y]===void 0&&ue!==void 0?ue[Y]:W[Y])}var Y=arguments.length-2;if(Y===1)J.children=ee;else if(1<Y){ue=Array(Y);for(var j=0;j<Y;j++)ue[j]=arguments[j+2];J.children=ue}return{$$typeof:t,type:V.type,key:te,ref:re,props:J,_owner:fe}},Je.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},Je.createElement=_,Je.createFactory=function(V){var W=_.bind(null,V);return W.type=V,W},Je.createRef=function(){return{current:null}},Je.forwardRef=function(V){return{$$typeof:l,render:V}},Je.isValidElement=N,Je.lazy=function(V){return{$$typeof:d,_payload:{_status:-1,_result:V},_init:I}},Je.memo=function(V,W){return{$$typeof:c,type:V,compare:W===void 0?null:W}},Je.startTransition=function(V){var W=U.transition;U.transition={};try{V()}finally{U.transition=W}},Je.unstable_act=$,Je.useCallback=function(V,W){return G.current.useCallback(V,W)},Je.useContext=function(V){return G.current.useContext(V)},Je.useDebugValue=function(){},Je.useDeferredValue=function(V){return G.current.useDeferredValue(V)},Je.useEffect=function(V,W){return G.current.useEffect(V,W)},Je.useId=function(){return G.current.useId()},Je.useImperativeHandle=function(V,W,ee){return G.current.useImperativeHandle(V,W,ee)},Je.useInsertionEffect=function(V,W){return G.current.useInsertionEffect(V,W)},Je.useLayoutEffect=function(V,W){return G.current.useLayoutEffect(V,W)},Je.useMemo=function(V,W){return G.current.useMemo(V,W)},Je.useReducer=function(V,W,ee){return G.current.useReducer(V,W,ee)},Je.useRef=function(V){return G.current.useRef(V)},Je.useState=function(V){return G.current.useState(V)},Je.useSyncExternalStore=function(V,W,ee){return G.current.useSyncExternalStore(V,W,ee)},Je.useTransition=function(){return G.current.useTransition()},Je.version="18.3.1",Je}var ag;function id(){return ag||(ag=1,xc.exports=M1()),xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function N1(){if(ig)return Mo;ig=1;var t=id(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(l,f,c){var d,v={},g=null,y=null;c!==void 0&&(g=""+c),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(y=f.ref);for(d in f)n.call(f,d)&&!o.hasOwnProperty(d)&&(v[d]=f[d]);if(l&&l.defaultProps)for(d in f=l.defaultProps,f)v[d]===void 0&&(v[d]=f[d]);return{$$typeof:e,type:l,key:g,ref:y,props:v,_owner:i.current}}return Mo.Fragment=r,Mo.jsx=u,Mo.jsxs=u,Mo}var og;function O1(){return og||(og=1,wc.exports=N1()),wc.exports}var _t=O1(),hn=id(),Nu={},bc={exports:{}},Dr={},Ec={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function I1(){return sg||(sg=1,function(t){function e(U,q){var $=U.length;U.push(q);e:for(;0<$;){var V=$-1>>>1,W=U[V];if(0<i(W,q))U[V]=q,U[$]=W,$=V;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var q=U[0],$=U.pop();if($!==q){U[0]=$;e:for(var V=0,W=U.length,ee=W>>>1;V<ee;){var J=2*(V+1)-1,te=U[J],re=J+1,fe=U[re];if(0>i(te,$))re<W&&0>i(fe,te)?(U[V]=fe,U[re]=$,V=re):(U[V]=te,U[J]=$,V=J);else if(re<W&&0>i(fe,$))U[V]=fe,U[re]=$,V=re;else break e}}return q}function i(U,q){var $=U.sortIndex-q.sortIndex;return $!==0?$:U.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}var f=[],c=[],d=1,v=null,g=3,y=!1,p=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=U)n(c),q.sortIndex=q.expirationTime,e(f,q);else break;q=r(c)}}function T(U){if(w=!1,S(U),!p)if(r(f)!==null)p=!0,I(O);else{var q=r(c);q!==null&&G(T,q.startTime-U)}}function O(U,q){p=!1,w&&(w=!1,E(_),_=-1),y=!0;var $=g;try{for(S(q),v=r(f);v!==null&&(!(v.expirationTime>q)||U&&!R());){var V=v.callback;if(typeof V=="function"){v.callback=null,g=v.priorityLevel;var W=V(v.expirationTime<=q);q=t.unstable_now(),typeof W=="function"?v.callback=W:v===r(f)&&n(f),S(q)}else n(f);v=r(f)}if(v!==null)var ee=!0;else{var J=r(c);J!==null&&G(T,J.startTime-q),ee=!1}return ee}finally{v=null,g=$,y=!1}}var L=!1,M=null,_=-1,P=5,N=-1;function R(){return!(t.unstable_now()-N<P)}function A(){if(M!==null){var U=t.unstable_now();N=U;var q=!0;try{q=M(!0,U)}finally{q?B():(L=!1,M=null)}}else L=!1}var B;if(typeof b=="function")B=function(){b(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,z=D.port2;D.port1.onmessage=A,B=function(){z.postMessage(null)}}else B=function(){x(A,0)};function I(U){M=U,L||(L=!0,B())}function G(U,q){_=x(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){p||y||(p=!0,I(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(U){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var $=g;g=q;try{return U()}finally{g=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=g;g=U;try{return q()}finally{g=$}},t.unstable_scheduleCallback=function(U,q,$){var V=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,U={id:d++,callback:q,priorityLevel:U,startTime:$,expirationTime:W,sortIndex:-1},$>V?(U.sortIndex=$,e(c,U),r(f)===null&&U===r(c)&&(w?(E(_),_=-1):w=!0,G(T,$-V))):(U.sortIndex=W,e(f,U),p||y||(p=!0,I(O))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var q=g;return function(){var $=g;g=q;try{return U.apply(this,arguments)}finally{g=$}}}}(Sc)),Sc}var ug;function z1(){return ug||(ug=1,Ec.exports=I1()),Ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function F1(){if(lg)return Dr;lg=1;var t=id(),e=z1();function r(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,s){u(a,s),u(a+"Capture",s)}function u(a,s){for(i[a]=s,a=0;a<s.length;a++)n.add(s[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function g(a){return f.call(v,a)?!0:f.call(d,a)?!1:c.test(a)?v[a]=!0:(d[a]=!0,!1)}function y(a,s,h,m){if(h!==null&&h.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function p(a,s,h,m){if(s===null||typeof s>"u"||y(a,s,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function w(a,s,h,m,C,k,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=m,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=a,this.type=s,this.sanitizeURL=k,this.removeEmptyString=F}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];x[s]=new w(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function b(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(E,b);x[s]=new w(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(E,b);x[s]=new w(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(E,b);x[s]=new w(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function S(a,s,h,m){var C=x.hasOwnProperty(s)?x[s]:null;(C!==null?C.type!==0:m||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(p(s,h,C,m)&&(h=null),m||C===null?g(s)&&(h===null?a.removeAttribute(s):a.setAttribute(s,""+h)):C.mustUseProperty?a[C.propertyName]=h===null?C.type===3?!1:"":h:(s=C.attributeName,m=C.attributeNamespace,h===null?a.removeAttribute(s):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,m?a.setAttributeNS(m,s,h):a.setAttribute(s,h))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),L=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),R=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),U=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var $=Object.assign,V;function W(a){if(V===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+a}var ee=!1;function J(a,s){if(!a||ee)return"";ee=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(le){var m=le}Reflect.construct(a,[],s)}else{try{s.call()}catch(le){m=le}a.call(s.prototype)}else{try{throw Error()}catch(le){m=le}a()}}catch(le){if(le&&m&&typeof le.stack=="string"){for(var C=le.stack.split(`
`),k=m.stack.split(`
`),F=C.length-1,K=k.length-1;1<=F&&0<=K&&C[F]!==k[K];)K--;for(;1<=F&&0<=K;F--,K--)if(C[F]!==k[K]){if(F!==1||K!==1)do if(F--,K--,0>K||C[F]!==k[K]){var X=`
`+C[F].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=F&&0<=K);break}}}finally{ee=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?W(a):""}function te(a){switch(a.tag){case 5:return W(a.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return a=J(a.type,!1),a;case 11:return a=J(a.type.render,!1),a;case 1:return a=J(a.type,!0),a;default:return""}}function re(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case L:return"Portal";case P:return"Profiler";case _:return"StrictMode";case B:return"Suspense";case D:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case R:return(a.displayName||"Context")+".Consumer";case N:return(a._context.displayName||"Context")+".Provider";case A:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case z:return s=a.displayName||null,s!==null?s:re(a.type)||"Memo";case I:s=a._payload,a=a._init;try{return re(a(s))}catch{}}return null}function fe(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(s);case 8:return s===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ue(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Y(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function j(a){var s=Y(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),m=""+a[s];if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,k=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return C.call(this)},set:function(F){m=""+F,k.call(this,F)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(F){m=""+F},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Q(a){a._valueTracker||(a._valueTracker=j(a))}function ce(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var h=s.getValue(),m="";return a&&(m=Y(a)?a.checked?"true":"false":a.value),a=m,a!==h?(s.setValue(a),!0):!1}function he(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function me(a,s){var h=s.checked;return $({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Le(a,s){var h=s.defaultValue==null?"":s.defaultValue,m=s.checked!=null?s.checked:s.defaultChecked;h=ue(s.value!=null?s.value:h),a._wrapperState={initialChecked:m,initialValue:h,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function $e(a,s){s=s.checked,s!=null&&S(a,"checked",s,!1)}function Xe(a,s){$e(a,s);var h=ue(s.value),m=s.type;if(h!=null)m==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?Se(a,s.type,h):s.hasOwnProperty("defaultValue")&&Se(a,s.type,ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function ke(a,s,h){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var m=s.type;if(!(m!=="submit"&&m!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,h||s===a.value||(a.value=s),a.defaultValue=s}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Se(a,s,h){(s!=="number"||he(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Me=Array.isArray;function Oe(a,s,h,m){if(a=a.options,s){s={};for(var C=0;C<h.length;C++)s["$"+h[C]]=!0;for(h=0;h<a.length;h++)C=s.hasOwnProperty("$"+a[h].value),a[h].selected!==C&&(a[h].selected=C),C&&m&&(a[h].defaultSelected=!0)}else{for(h=""+ue(h),s=null,C=0;C<a.length;C++){if(a[C].value===h){a[C].selected=!0,m&&(a[C].defaultSelected=!0);return}s!==null||a[C].disabled||(s=a[C])}s!==null&&(s.selected=!0)}}function Ie(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return $({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function qe(a,s){var h=s.value;if(h==null){if(h=s.children,s=s.defaultValue,h!=null){if(s!=null)throw Error(r(92));if(Me(h)){if(1<h.length)throw Error(r(93));h=h[0]}s=h}s==null&&(s=""),h=s}a._wrapperState={initialValue:ue(h)}}function je(a,s){var h=ue(s.value),m=ue(s.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),s.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),m!=null&&(a.defaultValue=""+m)}function Qe(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function ge(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?ge(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ne,de=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,h,m,C){MSApp.execUnsafeLocalFunction(function(){return a(s,h,m,C)})}:a}(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(ne=ne||document.createElement("div"),ne.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ne.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function ae(a,s){if(s){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=s;return}}a.textContent=s}var se={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ce=["Webkit","ms","Moz","O"];Object.keys(se).forEach(function(a){Ce.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),se[s]=se[a]})});function ve(a,s,h){return s==null||typeof s=="boolean"||s===""?"":h||typeof s!="number"||s===0||se.hasOwnProperty(a)&&se[a]?(""+s).trim():s+"px"}function be(a,s){a=a.style;for(var h in s)if(s.hasOwnProperty(h)){var m=h.indexOf("--")===0,C=ve(h,s[h],m);h==="float"&&(h="cssFloat"),m?a.setProperty(h,C):a[h]=C}}var ze=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ke(a,s){if(s){if(ze[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function De(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var He=null;function We(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Fe=null,et=null,ot=null;function rr(a){if(a=wo(a)){if(typeof Fe!="function")throw Error(r(280));var s=a.stateNode;s&&(s=js(s),Fe(a.stateNode,a.type,s))}}function nr(a){et?ot?ot.push(a):ot=[a]:et=a}function Pt(){if(et){var a=et,s=ot;if(ot=et=null,rr(a),s)for(a=0;a<s.length;a++)rr(s[a])}}function At(a,s){return a(s)}function Bt(){}var Nt=!1;function Ut(a,s,h){if(Nt)return a(s,h);Nt=!0;try{return At(a,s,h)}finally{Nt=!1,(et!==null||ot!==null)&&(Bt(),Pt())}}function ar(a,s){var h=a.stateNode;if(h===null)return null;var m=js(h);if(m===null)return null;h=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,s,typeof h));return h}var ir=!1;if(l)try{var or={};Object.defineProperty(or,"passive",{get:function(){ir=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{ir=!1}function jr(a,s,h,m,C,k,F,K,X){var le=Array.prototype.slice.call(arguments,3);try{s.apply(h,le)}catch(ye){this.onError(ye)}}var yr=!1,Lt=null,xt=!1,qt=null,Qa={onError:function(a){yr=!0,Lt=a}};function Fr(a,s,h,m,C,k,F,K,X){yr=!1,Lt=null,jr.apply(Qa,arguments)}function Cs(a,s,h,m,C,k,F,K,X){if(Fr.apply(this,arguments),yr){if(yr){var le=Lt;yr=!1,Lt=null}else throw Error(r(198));xt||(xt=!0,qt=le)}}function bn(a){var s=a,h=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,s.flags&4098&&(h=s.return),a=s.return;while(a)}return s.tag===3?h:null}function ks(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function Ps(a){if(bn(a)!==a)throw Error(r(188))}function zl(a){var s=a.alternate;if(!s){if(s=bn(a),s===null)throw Error(r(188));return s!==a?null:a}for(var h=a,m=s;;){var C=h.return;if(C===null)break;var k=C.alternate;if(k===null){if(m=C.return,m!==null){h=m;continue}break}if(C.child===k.child){for(k=C.child;k;){if(k===h)return Ps(C),a;if(k===m)return Ps(C),s;k=k.sibling}throw Error(r(188))}if(h.return!==m.return)h=C,m=k;else{for(var F=!1,K=C.child;K;){if(K===h){F=!0,h=C,m=k;break}if(K===m){F=!0,m=C,h=k;break}K=K.sibling}if(!F){for(K=k.child;K;){if(K===h){F=!0,h=k,m=C;break}if(K===m){F=!0,m=k,h=C;break}K=K.sibling}if(!F)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:s}function Ts(a){return a=zl(a),a!==null?_s(a):null}function _s(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=_s(a);if(s!==null)return s;a=a.sibling}return null}var Ds=e.unstable_scheduleCallback,In=e.unstable_cancelCallback,Zi=e.unstable_shouldYield,Za=e.unstable_requestPaint,mt=e.unstable_now,As=e.unstable_getCurrentPriorityLevel,Ji=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,zn=e.unstable_NormalPriority,Bs=e.unstable_LowPriority,Fn=e.unstable_IdlePriority,sr=null,Vr=null;function Ym(a){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(sr,a,void 0,(a.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:Zm,jm=Math.log,Qm=Math.LN2;function Zm(a){return a>>>=0,a===0?32:31-(jm(a)/Qm|0)|0}var Ls=64,Rs=4194304;function eo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Ms(a,s){var h=a.pendingLanes;if(h===0)return 0;var m=0,C=a.suspendedLanes,k=a.pingedLanes,F=h&268435455;if(F!==0){var K=F&~C;K!==0?m=eo(K):(k&=F,k!==0&&(m=eo(k)))}else F=h&~C,F!==0?m=eo(F):k!==0&&(m=eo(k));if(m===0)return 0;if(s!==0&&s!==m&&!(s&C)&&(C=m&-m,k=s&-s,C>=k||C===16&&(k&4194240)!==0))return s;if(m&4&&(m|=h&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=m;0<s;)h=31-Qr(s),C=1<<h,m|=a[h],s&=~C;return m}function Jm(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e0(a,s){for(var h=a.suspendedLanes,m=a.pingedLanes,C=a.expirationTimes,k=a.pendingLanes;0<k;){var F=31-Qr(k),K=1<<F,X=C[F];X===-1?(!(K&h)||K&m)&&(C[F]=Jm(K,s)):X<=s&&(a.expiredLanes|=K),k&=~K}}function Fl(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Md(){var a=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),a}function Vl(a){for(var s=[],h=0;31>h;h++)s.push(a);return s}function to(a,s,h){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-Qr(s),a[s]=h}function t0(a,s){var h=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<h;){var C=31-Qr(h),k=1<<C;s[C]=0,m[C]=-1,a[C]=-1,h&=~k}}function Gl(a,s){var h=a.entangledLanes|=s;for(a=a.entanglements;h;){var m=31-Qr(h),C=1<<m;C&s|a[m]&s&&(a[m]|=s),h&=~C}}var lt=0;function Nd(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Od,Ul,Id,zd,Fd,ql=!1,Ns=[],Vn=null,Gn=null,Un=null,ro=new Map,no=new Map,qn=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vd(a,s){switch(a){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":ro.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(s.pointerId)}}function ao(a,s,h,m,C,k){return a===null||a.nativeEvent!==k?(a={blockedOn:s,domEventName:h,eventSystemFlags:m,nativeEvent:k,targetContainers:[C]},s!==null&&(s=wo(s),s!==null&&Ul(s)),a):(a.eventSystemFlags|=m,s=a.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),a)}function n0(a,s,h,m,C){switch(s){case"focusin":return Vn=ao(Vn,a,s,h,m,C),!0;case"dragenter":return Gn=ao(Gn,a,s,h,m,C),!0;case"mouseover":return Un=ao(Un,a,s,h,m,C),!0;case"pointerover":var k=C.pointerId;return ro.set(k,ao(ro.get(k)||null,a,s,h,m,C)),!0;case"gotpointercapture":return k=C.pointerId,no.set(k,ao(no.get(k)||null,a,s,h,m,C)),!0}return!1}function Gd(a){var s=Ea(a.target);if(s!==null){var h=bn(s);if(h!==null){if(s=h.tag,s===13){if(s=ks(h),s!==null){a.blockedOn=s,Fd(a.priority,function(){Id(h)});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Os(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var h=$l(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);He=m,h.target.dispatchEvent(m),He=null}else return s=wo(h),s!==null&&Ul(s),a.blockedOn=h,!1;s.shift()}return!0}function Ud(a,s,h){Os(a)&&h.delete(s)}function a0(){ql=!1,Vn!==null&&Os(Vn)&&(Vn=null),Gn!==null&&Os(Gn)&&(Gn=null),Un!==null&&Os(Un)&&(Un=null),ro.forEach(Ud),no.forEach(Ud)}function io(a,s){a.blockedOn===s&&(a.blockedOn=null,ql||(ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,a0)))}function oo(a){function s(C){return io(C,a)}if(0<Ns.length){io(Ns[0],a);for(var h=1;h<Ns.length;h++){var m=Ns[h];m.blockedOn===a&&(m.blockedOn=null)}}for(Vn!==null&&io(Vn,a),Gn!==null&&io(Gn,a),Un!==null&&io(Un,a),ro.forEach(s),no.forEach(s),h=0;h<qn.length;h++)m=qn[h],m.blockedOn===a&&(m.blockedOn=null);for(;0<qn.length&&(h=qn[0],h.blockedOn===null);)Gd(h),h.blockedOn===null&&qn.shift()}var Ja=T.ReactCurrentBatchConfig,Is=!0;function i0(a,s,h,m){var C=lt,k=Ja.transition;Ja.transition=null;try{lt=1,Hl(a,s,h,m)}finally{lt=C,Ja.transition=k}}function o0(a,s,h,m){var C=lt,k=Ja.transition;Ja.transition=null;try{lt=4,Hl(a,s,h,m)}finally{lt=C,Ja.transition=k}}function Hl(a,s,h,m){if(Is){var C=$l(a,s,h,m);if(C===null)lf(a,s,m,zs,h),Vd(a,m);else if(n0(C,a,s,h,m))m.stopPropagation();else if(Vd(a,m),s&4&&-1<r0.indexOf(a)){for(;C!==null;){var k=wo(C);if(k!==null&&Od(k),k=$l(a,s,h,m),k===null&&lf(a,s,m,zs,h),k===C)break;C=k}C!==null&&m.stopPropagation()}else lf(a,s,m,null,h)}}var zs=null;function $l(a,s,h,m){if(zs=null,a=We(m),a=Ea(a),a!==null)if(s=bn(a),s===null)a=null;else if(h=s.tag,h===13){if(a=ks(s),a!==null)return a;a=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return zs=a,null}function qd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(As()){case Ji:return 1;case Sr:return 4;case zn:case Bs:return 16;case Fn:return 536870912;default:return 16}default:return 16}}var Hn=null,Wl=null,Fs=null;function Hd(){if(Fs)return Fs;var a,s=Wl,h=s.length,m,C="value"in Hn?Hn.value:Hn.textContent,k=C.length;for(a=0;a<h&&s[a]===C[a];a++);var F=h-a;for(m=1;m<=F&&s[h-m]===C[k-m];m++);return Fs=C.slice(a,1<m?1-m:void 0)}function Vs(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Gs(){return!0}function $d(){return!1}function Lr(a){function s(h,m,C,k,F){this._reactName=h,this._targetInst=C,this.type=m,this.nativeEvent=k,this.target=F,this.currentTarget=null;for(var K in a)a.hasOwnProperty(K)&&(h=a[K],this[K]=h?h(k):k[K]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Gs:$d,this.isPropagationStopped=$d,this}return $(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),s}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=Lr(ei),so=$({},ei,{view:0,detail:0}),s0=Lr(so),Xl,Yl,uo,Us=$({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==uo&&(uo&&a.type==="mousemove"?(Xl=a.screenX-uo.screenX,Yl=a.screenY-uo.screenY):Yl=Xl=0,uo=a),Xl)},movementY:function(a){return"movementY"in a?a.movementY:Yl}}),Wd=Lr(Us),u0=$({},Us,{dataTransfer:0}),l0=Lr(u0),f0=$({},so,{relatedTarget:0}),jl=Lr(f0),c0=$({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),d0=Lr(c0),v0=$({},ei,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),h0=Lr(v0),g0=$({},ei,{data:0}),Kd=Lr(g0),p0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=m0[a])?!!s[a]:!1}function Ql(){return w0}var x0=$({},so,{key:function(a){if(a.key){var s=p0[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Vs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?y0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(a){return a.type==="keypress"?Vs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Vs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),b0=Lr(x0),E0=$({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xd=Lr(E0),S0=$({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),C0=Lr(S0),k0=$({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=Lr(k0),T0=$({},Us,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),_0=Lr(T0),D0=[9,13,27,32],Zl=l&&"CompositionEvent"in window,lo=null;l&&"documentMode"in document&&(lo=document.documentMode);var A0=l&&"TextEvent"in window&&!lo,Yd=l&&(!Zl||lo&&8<lo&&11>=lo),jd=" ",Qd=!1;function Zd(a,s){switch(a){case"keyup":return D0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ti=!1;function B0(a,s){switch(a){case"compositionend":return Jd(s);case"keypress":return s.which!==32?null:(Qd=!0,jd);case"textInput":return a=s.data,a===jd&&Qd?null:a;default:return null}}function L0(a,s){if(ti)return a==="compositionend"||!Zl&&Zd(a,s)?(a=Hd(),Fs=Wl=Hn=null,ti=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yd&&s.locale!=="ko"?null:s.data;default:return null}}var R0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!R0[a.type]:s==="textarea"}function tv(a,s,h,m){nr(m),s=Ks(s,"onChange"),0<s.length&&(h=new Kl("onChange","change",null,h,m),a.push({event:h,listeners:s}))}var fo=null,co=null;function M0(a){wv(a,0)}function qs(a){var s=oi(a);if(ce(s))return a}function N0(a,s){if(a==="change")return s}var rv=!1;if(l){var Jl;if(l){var ef="oninput"in document;if(!ef){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),ef=typeof nv.oninput=="function"}Jl=ef}else Jl=!1;rv=Jl&&(!document.documentMode||9<document.documentMode)}function av(){fo&&(fo.detachEvent("onpropertychange",iv),co=fo=null)}function iv(a){if(a.propertyName==="value"&&qs(co)){var s=[];tv(s,co,a,We(a)),Ut(M0,s)}}function O0(a,s,h){a==="focusin"?(av(),fo=s,co=h,fo.attachEvent("onpropertychange",iv)):a==="focusout"&&av()}function I0(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return qs(co)}function z0(a,s){if(a==="click")return qs(s)}function F0(a,s){if(a==="input"||a==="change")return qs(s)}function V0(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Zr=typeof Object.is=="function"?Object.is:V0;function vo(a,s){if(Zr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var h=Object.keys(a),m=Object.keys(s);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var C=h[m];if(!f.call(s,C)||!Zr(a[C],s[C]))return!1}return!0}function ov(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function sv(a,s){var h=ov(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=s&&m>=s)return{node:h,offset:s-a};a=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ov(h)}}function uv(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?uv(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function lv(){for(var a=window,s=he();s instanceof a.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)a=s.contentWindow;else break;s=he(a.document)}return s}function tf(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function G0(a){var s=lv(),h=a.focusedElem,m=a.selectionRange;if(s!==h&&h&&h.ownerDocument&&uv(h.ownerDocument.documentElement,h)){if(m!==null&&tf(h)){if(s=m.start,a=m.end,a===void 0&&(a=s),"selectionStart"in h)h.selectionStart=s,h.selectionEnd=Math.min(a,h.value.length);else if(a=(s=h.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var C=h.textContent.length,k=Math.min(m.start,C);m=m.end===void 0?k:Math.min(m.end,C),!a.extend&&k>m&&(C=m,m=k,k=C),C=sv(h,k);var F=sv(h,m);C&&F&&(a.rangeCount!==1||a.anchorNode!==C.node||a.anchorOffset!==C.offset||a.focusNode!==F.node||a.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(C.node,C.offset),a.removeAllRanges(),k>m?(a.addRange(s),a.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),a.addRange(s)))}}for(s=[],a=h;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<s.length;h++)a=s[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var U0=l&&"documentMode"in document&&11>=document.documentMode,ri=null,rf=null,ho=null,nf=!1;function fv(a,s,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;nf||ri==null||ri!==he(m)||(m=ri,"selectionStart"in m&&tf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ho&&vo(ho,m)||(ho=m,m=Ks(rf,"onSelect"),0<m.length&&(s=new Kl("onSelect","select",null,s,h),a.push({event:s,listeners:m}),s.target=ri)))}function Hs(a,s){var h={};return h[a.toLowerCase()]=s.toLowerCase(),h["Webkit"+a]="webkit"+s,h["Moz"+a]="moz"+s,h}var ni={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionend:Hs("Transition","TransitionEnd")},af={},cv={};l&&(cv=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function $s(a){if(af[a])return af[a];if(!ni[a])return a;var s=ni[a],h;for(h in s)if(s.hasOwnProperty(h)&&h in cv)return af[a]=s[h];return a}var dv=$s("animationend"),vv=$s("animationiteration"),hv=$s("animationstart"),gv=$s("transitionend"),pv=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(a,s){pv.set(a,s),o(s,[a])}for(var of=0;of<yv.length;of++){var sf=yv[of],q0=sf.toLowerCase(),H0=sf[0].toUpperCase()+sf.slice(1);$n(q0,"on"+H0)}$n(dv,"onAnimationEnd"),$n(vv,"onAnimationIteration"),$n(hv,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(gv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$0=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function mv(a,s,h){var m=a.type||"unknown-event";a.currentTarget=h,Cs(m,s,void 0,a),a.currentTarget=null}function wv(a,s){s=(s&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],C=m.event;m=m.listeners;e:{var k=void 0;if(s)for(var F=m.length-1;0<=F;F--){var K=m[F],X=K.instance,le=K.currentTarget;if(K=K.listener,X!==k&&C.isPropagationStopped())break e;mv(C,K,le),k=X}else for(F=0;F<m.length;F++){if(K=m[F],X=K.instance,le=K.currentTarget,K=K.listener,X!==k&&C.isPropagationStopped())break e;mv(C,K,le),k=X}}}if(xt)throw a=qt,xt=!1,qt=null,a}function gt(a,s){var h=s[gf];h===void 0&&(h=s[gf]=new Set);var m=a+"__bubble";h.has(m)||(xv(s,a,2,!1),h.add(m))}function uf(a,s,h){var m=0;s&&(m|=4),xv(h,a,m,s)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function po(a){if(!a[Ws]){a[Ws]=!0,n.forEach(function(h){h!=="selectionchange"&&($0.has(h)||uf(h,!1,a),uf(h,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Ws]||(s[Ws]=!0,uf("selectionchange",!1,s))}}function xv(a,s,h,m){switch(qd(s)){case 1:var C=i0;break;case 4:C=o0;break;default:C=Hl}h=C.bind(null,s,h,a),C=void 0,!ir||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),m?C!==void 0?a.addEventListener(s,h,{capture:!0,passive:C}):a.addEventListener(s,h,!0):C!==void 0?a.addEventListener(s,h,{passive:C}):a.addEventListener(s,h,!1)}function lf(a,s,h,m,C){var k=m;if(!(s&1)&&!(s&2)&&m!==null)e:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var K=m.stateNode.containerInfo;if(K===C||K.nodeType===8&&K.parentNode===C)break;if(F===4)for(F=m.return;F!==null;){var X=F.tag;if((X===3||X===4)&&(X=F.stateNode.containerInfo,X===C||X.nodeType===8&&X.parentNode===C))return;F=F.return}for(;K!==null;){if(F=Ea(K),F===null)return;if(X=F.tag,X===5||X===6){m=k=F;continue e}K=K.parentNode}}m=m.return}Ut(function(){var le=k,ye=We(h),we=[];e:{var pe=pv.get(a);if(pe!==void 0){var Pe=Kl,Ae=a;switch(a){case"keypress":if(Vs(h)===0)break e;case"keydown":case"keyup":Pe=b0;break;case"focusin":Ae="focus",Pe=jl;break;case"focusout":Ae="blur",Pe=jl;break;case"beforeblur":case"afterblur":Pe=jl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=l0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=C0;break;case dv:case vv:case hv:Pe=d0;break;case gv:Pe=P0;break;case"scroll":Pe=s0;break;case"wheel":Pe=_0;break;case"copy":case"cut":case"paste":Pe=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Xd}var Be=(s&4)!==0,Rt=!Be&&a==="scroll",ie=Be?pe!==null?pe+"Capture":null:pe;Be=[];for(var Z=le,oe;Z!==null;){oe=Z;var xe=oe.stateNode;if(oe.tag===5&&xe!==null&&(oe=xe,ie!==null&&(xe=ar(Z,ie),xe!=null&&Be.push(yo(Z,xe,oe)))),Rt)break;Z=Z.return}0<Be.length&&(pe=new Pe(pe,Ae,null,h,ye),we.push({event:pe,listeners:Be}))}}if(!(s&7)){e:{if(pe=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",pe&&h!==He&&(Ae=h.relatedTarget||h.fromElement)&&(Ea(Ae)||Ae[En]))break e;if((Pe||pe)&&(pe=ye.window===ye?ye:(pe=ye.ownerDocument)?pe.defaultView||pe.parentWindow:window,Pe?(Ae=h.relatedTarget||h.toElement,Pe=le,Ae=Ae?Ea(Ae):null,Ae!==null&&(Rt=bn(Ae),Ae!==Rt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Pe=null,Ae=le),Pe!==Ae)){if(Be=Wd,xe="onMouseLeave",ie="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(Be=Xd,xe="onPointerLeave",ie="onPointerEnter",Z="pointer"),Rt=Pe==null?pe:oi(Pe),oe=Ae==null?pe:oi(Ae),pe=new Be(xe,Z+"leave",Pe,h,ye),pe.target=Rt,pe.relatedTarget=oe,xe=null,Ea(ye)===le&&(Be=new Be(ie,Z+"enter",Ae,h,ye),Be.target=oe,Be.relatedTarget=Rt,xe=Be),Rt=xe,Pe&&Ae)t:{for(Be=Pe,ie=Ae,Z=0,oe=Be;oe;oe=ai(oe))Z++;for(oe=0,xe=ie;xe;xe=ai(xe))oe++;for(;0<Z-oe;)Be=ai(Be),Z--;for(;0<oe-Z;)ie=ai(ie),oe--;for(;Z--;){if(Be===ie||ie!==null&&Be===ie.alternate)break t;Be=ai(Be),ie=ai(ie)}Be=null}else Be=null;Pe!==null&&bv(we,pe,Pe,Be,!1),Ae!==null&&Rt!==null&&bv(we,Rt,Ae,Be,!0)}}e:{if(pe=le?oi(le):window,Pe=pe.nodeName&&pe.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&pe.type==="file")var Re=N0;else if(ev(pe))if(rv)Re=F0;else{Re=I0;var Ve=O0}else(Pe=pe.nodeName)&&Pe.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Re=z0);if(Re&&(Re=Re(a,le))){tv(we,Re,h,ye);break e}Ve&&Ve(a,pe,le),a==="focusout"&&(Ve=pe._wrapperState)&&Ve.controlled&&pe.type==="number"&&Se(pe,"number",pe.value)}switch(Ve=le?oi(le):window,a){case"focusin":(ev(Ve)||Ve.contentEditable==="true")&&(ri=Ve,rf=le,ho=null);break;case"focusout":ho=rf=ri=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,fv(we,h,ye);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":fv(we,h,ye)}var Ge;if(Zl)e:{switch(a){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else ti?Zd(a,h)&&(Ye="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ye="onCompositionStart");Ye&&(Yd&&h.locale!=="ko"&&(ti||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&ti&&(Ge=Hd()):(Hn=ye,Wl="value"in Hn?Hn.value:Hn.textContent,ti=!0)),Ve=Ks(le,Ye),0<Ve.length&&(Ye=new Kd(Ye,a,null,h,ye),we.push({event:Ye,listeners:Ve}),Ge?Ye.data=Ge:(Ge=Jd(h),Ge!==null&&(Ye.data=Ge)))),(Ge=A0?B0(a,h):L0(a,h))&&(le=Ks(le,"onBeforeInput"),0<le.length&&(ye=new Kd("onBeforeInput","beforeinput",null,h,ye),we.push({event:ye,listeners:le}),ye.data=Ge))}wv(we,s)})}function yo(a,s,h){return{instance:a,listener:s,currentTarget:h}}function Ks(a,s){for(var h=s+"Capture",m=[];a!==null;){var C=a,k=C.stateNode;C.tag===5&&k!==null&&(C=k,k=ar(a,h),k!=null&&m.unshift(yo(a,k,C)),k=ar(a,s),k!=null&&m.push(yo(a,k,C))),a=a.return}return m}function ai(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function bv(a,s,h,m,C){for(var k=s._reactName,F=[];h!==null&&h!==m;){var K=h,X=K.alternate,le=K.stateNode;if(X!==null&&X===m)break;K.tag===5&&le!==null&&(K=le,C?(X=ar(h,k),X!=null&&F.unshift(yo(h,X,K))):C||(X=ar(h,k),X!=null&&F.push(yo(h,X,K)))),h=h.return}F.length!==0&&a.push({event:s,listeners:F})}var W0=/\r\n?/g,K0=/\u0000|\uFFFD/g;function Ev(a){return(typeof a=="string"?a:""+a).replace(W0,`
`).replace(K0,"")}function Xs(a,s,h){if(s=Ev(s),Ev(a)!==s&&h)throw Error(r(425))}function Ys(){}var ff=null,cf=null;function df(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vf=typeof setTimeout=="function"?setTimeout:void 0,X0=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(a){return Sv.resolve(null).then(a).catch(j0)}:vf;function j0(a){setTimeout(function(){throw a})}function hf(a,s){var h=s,m=0;do{var C=h.nextSibling;if(a.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(m===0){a.removeChild(C),oo(s);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=C}while(h);oo(s)}function Wn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Cv(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return a;s--}else h==="/$"&&s++}a=a.previousSibling}return null}var ii=Math.random().toString(36).slice(2),un="__reactFiber$"+ii,mo="__reactProps$"+ii,En="__reactContainer$"+ii,gf="__reactEvents$"+ii,Q0="__reactListeners$"+ii,Z0="__reactHandles$"+ii;function Ea(a){var s=a[un];if(s)return s;for(var h=a.parentNode;h;){if(s=h[En]||h[un]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(a=Cv(a);a!==null;){if(h=a[un])return h;a=Cv(a)}return s}a=h,h=a.parentNode}return null}function wo(a){return a=a[un]||a[En],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function oi(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function js(a){return a[mo]||null}var pf=[],si=-1;function Kn(a){return{current:a}}function pt(a){0>si||(a.current=pf[si],pf[si]=null,si--)}function dt(a,s){si++,pf[si]=a.current,a.current=s}var Xn={},ur=Kn(Xn),Cr=Kn(!1),Sa=Xn;function ui(a,s){var h=a.type.contextTypes;if(!h)return Xn;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===s)return m.__reactInternalMemoizedMaskedChildContext;var C={},k;for(k in h)C[k]=s[k];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=C),C}function kr(a){return a=a.childContextTypes,a!=null}function Qs(){pt(Cr),pt(ur)}function kv(a,s,h){if(ur.current!==Xn)throw Error(r(168));dt(ur,s),dt(Cr,h)}function Pv(a,s,h){var m=a.stateNode;if(s=s.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var C in m)if(!(C in s))throw Error(r(108,fe(a)||"Unknown",C));return $({},h,m)}function Zs(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Xn,Sa=ur.current,dt(ur,a),dt(Cr,Cr.current),!0}function Tv(a,s,h){var m=a.stateNode;if(!m)throw Error(r(169));h?(a=Pv(a,s,Sa),m.__reactInternalMemoizedMergedChildContext=a,pt(Cr),pt(ur),dt(ur,a)):pt(Cr),dt(Cr,h)}var Sn=null,Js=!1,yf=!1;function _v(a){Sn===null?Sn=[a]:Sn.push(a)}function J0(a){Js=!0,_v(a)}function Yn(){if(!yf&&Sn!==null){yf=!0;var a=0,s=lt;try{var h=Sn;for(lt=1;a<h.length;a++){var m=h[a];do m=m(!0);while(m!==null)}Sn=null,Js=!1}catch(C){throw Sn!==null&&(Sn=Sn.slice(a+1)),Ds(Ji,Yn),C}finally{lt=s,yf=!1}}return null}var li=[],fi=0,eu=null,tu=0,Gr=[],Ur=0,Ca=null,Cn=1,kn="";function ka(a,s){li[fi++]=tu,li[fi++]=eu,eu=a,tu=s}function Dv(a,s,h){Gr[Ur++]=Cn,Gr[Ur++]=kn,Gr[Ur++]=Ca,Ca=a;var m=Cn;a=kn;var C=32-Qr(m)-1;m&=~(1<<C),h+=1;var k=32-Qr(s)+C;if(30<k){var F=C-C%5;k=(m&(1<<F)-1).toString(32),m>>=F,C-=F,Cn=1<<32-Qr(s)+C|h<<C|m,kn=k+a}else Cn=1<<k|h<<C|m,kn=a}function mf(a){a.return!==null&&(ka(a,1),Dv(a,1,0))}function wf(a){for(;a===eu;)eu=li[--fi],li[fi]=null,tu=li[--fi],li[fi]=null;for(;a===Ca;)Ca=Gr[--Ur],Gr[Ur]=null,kn=Gr[--Ur],Gr[Ur]=null,Cn=Gr[--Ur],Gr[Ur]=null}var Rr=null,Mr=null,wt=!1,Jr=null;function Av(a,s){var h=Wr(5,null,null,0);h.elementType="DELETED",h.stateNode=s,h.return=a,s=a.deletions,s===null?(a.deletions=[h],a.flags|=16):s.push(h)}function Bv(a,s){switch(a.tag){case 5:var h=a.type;return s=s.nodeType!==1||h.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,Rr=a,Mr=Wn(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,Rr=a,Mr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(h=Ca!==null?{id:Cn,overflow:kn}:null,a.memoizedState={dehydrated:s,treeContext:h,retryLane:1073741824},h=Wr(18,null,null,0),h.stateNode=s,h.return=a,a.child=h,Rr=a,Mr=null,!0):!1;default:return!1}}function xf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function bf(a){if(wt){var s=Mr;if(s){var h=s;if(!Bv(a,s)){if(xf(a))throw Error(r(418));s=Wn(h.nextSibling);var m=Rr;s&&Bv(a,s)?Av(m,h):(a.flags=a.flags&-4097|2,wt=!1,Rr=a)}}else{if(xf(a))throw Error(r(418));a.flags=a.flags&-4097|2,wt=!1,Rr=a}}}function Lv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Rr=a}function ru(a){if(a!==Rr)return!1;if(!wt)return Lv(a),wt=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!df(a.type,a.memoizedProps)),s&&(s=Mr)){if(xf(a))throw Rv(),Error(r(418));for(;s;)Av(a,s),s=Wn(s.nextSibling)}if(Lv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(s===0){Mr=Wn(a.nextSibling);break e}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++}a=a.nextSibling}Mr=null}}else Mr=Rr?Wn(a.stateNode.nextSibling):null;return!0}function Rv(){for(var a=Mr;a;)a=Wn(a.nextSibling)}function ci(){Mr=Rr=null,wt=!1}function Ef(a){Jr===null?Jr=[a]:Jr.push(a)}var e1=T.ReactCurrentBatchConfig;function xo(a,s,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var m=h.stateNode}if(!m)throw Error(r(147,a));var C=m,k=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===k?s.ref:(s=function(F){var K=C.refs;F===null?delete K[k]:K[k]=F},s._stringRef=k,s)}if(typeof a!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,a))}return a}function nu(a,s){throw a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Mv(a){var s=a._init;return s(a._payload)}function Nv(a){function s(ie,Z){if(a){var oe=ie.deletions;oe===null?(ie.deletions=[Z],ie.flags|=16):oe.push(Z)}}function h(ie,Z){if(!a)return null;for(;Z!==null;)s(ie,Z),Z=Z.sibling;return null}function m(ie,Z){for(ie=new Map;Z!==null;)Z.key!==null?ie.set(Z.key,Z):ie.set(Z.index,Z),Z=Z.sibling;return ie}function C(ie,Z){return ie=na(ie,Z),ie.index=0,ie.sibling=null,ie}function k(ie,Z,oe){return ie.index=oe,a?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<Z?(ie.flags|=2,Z):oe):(ie.flags|=2,Z)):(ie.flags|=1048576,Z)}function F(ie){return a&&ie.alternate===null&&(ie.flags|=2),ie}function K(ie,Z,oe,xe){return Z===null||Z.tag!==6?(Z=vc(oe,ie.mode,xe),Z.return=ie,Z):(Z=C(Z,oe),Z.return=ie,Z)}function X(ie,Z,oe,xe){var Re=oe.type;return Re===M?ye(ie,Z,oe.props.children,xe,oe.key):Z!==null&&(Z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&Mv(Re)===Z.type)?(xe=C(Z,oe.props),xe.ref=xo(ie,Z,oe),xe.return=ie,xe):(xe=Tu(oe.type,oe.key,oe.props,null,ie.mode,xe),xe.ref=xo(ie,Z,oe),xe.return=ie,xe)}function le(ie,Z,oe,xe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==oe.containerInfo||Z.stateNode.implementation!==oe.implementation?(Z=hc(oe,ie.mode,xe),Z.return=ie,Z):(Z=C(Z,oe.children||[]),Z.return=ie,Z)}function ye(ie,Z,oe,xe,Re){return Z===null||Z.tag!==7?(Z=Ra(oe,ie.mode,xe,Re),Z.return=ie,Z):(Z=C(Z,oe),Z.return=ie,Z)}function we(ie,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=vc(""+Z,ie.mode,oe),Z.return=ie,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return oe=Tu(Z.type,Z.key,Z.props,null,ie.mode,oe),oe.ref=xo(ie,null,Z),oe.return=ie,oe;case L:return Z=hc(Z,ie.mode,oe),Z.return=ie,Z;case I:var xe=Z._init;return we(ie,xe(Z._payload),oe)}if(Me(Z)||q(Z))return Z=Ra(Z,ie.mode,oe,null),Z.return=ie,Z;nu(ie,Z)}return null}function pe(ie,Z,oe,xe){var Re=Z!==null?Z.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Re!==null?null:K(ie,Z,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:return oe.key===Re?X(ie,Z,oe,xe):null;case L:return oe.key===Re?le(ie,Z,oe,xe):null;case I:return Re=oe._init,pe(ie,Z,Re(oe._payload),xe)}if(Me(oe)||q(oe))return Re!==null?null:ye(ie,Z,oe,xe,null);nu(ie,oe)}return null}function Pe(ie,Z,oe,xe,Re){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return ie=ie.get(oe)||null,K(Z,ie,""+xe,Re);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case O:return ie=ie.get(xe.key===null?oe:xe.key)||null,X(Z,ie,xe,Re);case L:return ie=ie.get(xe.key===null?oe:xe.key)||null,le(Z,ie,xe,Re);case I:var Ve=xe._init;return Pe(ie,Z,oe,Ve(xe._payload),Re)}if(Me(xe)||q(xe))return ie=ie.get(oe)||null,ye(Z,ie,xe,Re,null);nu(Z,xe)}return null}function Ae(ie,Z,oe,xe){for(var Re=null,Ve=null,Ge=Z,Ye=Z=0,Wt=null;Ge!==null&&Ye<oe.length;Ye++){Ge.index>Ye?(Wt=Ge,Ge=null):Wt=Ge.sibling;var at=pe(ie,Ge,oe[Ye],xe);if(at===null){Ge===null&&(Ge=Wt);break}a&&Ge&&at.alternate===null&&s(ie,Ge),Z=k(at,Z,Ye),Ve===null?Re=at:Ve.sibling=at,Ve=at,Ge=Wt}if(Ye===oe.length)return h(ie,Ge),wt&&ka(ie,Ye),Re;if(Ge===null){for(;Ye<oe.length;Ye++)Ge=we(ie,oe[Ye],xe),Ge!==null&&(Z=k(Ge,Z,Ye),Ve===null?Re=Ge:Ve.sibling=Ge,Ve=Ge);return wt&&ka(ie,Ye),Re}for(Ge=m(ie,Ge);Ye<oe.length;Ye++)Wt=Pe(Ge,ie,Ye,oe[Ye],xe),Wt!==null&&(a&&Wt.alternate!==null&&Ge.delete(Wt.key===null?Ye:Wt.key),Z=k(Wt,Z,Ye),Ve===null?Re=Wt:Ve.sibling=Wt,Ve=Wt);return a&&Ge.forEach(function(aa){return s(ie,aa)}),wt&&ka(ie,Ye),Re}function Be(ie,Z,oe,xe){var Re=q(oe);if(typeof Re!="function")throw Error(r(150));if(oe=Re.call(oe),oe==null)throw Error(r(151));for(var Ve=Re=null,Ge=Z,Ye=Z=0,Wt=null,at=oe.next();Ge!==null&&!at.done;Ye++,at=oe.next()){Ge.index>Ye?(Wt=Ge,Ge=null):Wt=Ge.sibling;var aa=pe(ie,Ge,at.value,xe);if(aa===null){Ge===null&&(Ge=Wt);break}a&&Ge&&aa.alternate===null&&s(ie,Ge),Z=k(aa,Z,Ye),Ve===null?Re=aa:Ve.sibling=aa,Ve=aa,Ge=Wt}if(at.done)return h(ie,Ge),wt&&ka(ie,Ye),Re;if(Ge===null){for(;!at.done;Ye++,at=oe.next())at=we(ie,at.value,xe),at!==null&&(Z=k(at,Z,Ye),Ve===null?Re=at:Ve.sibling=at,Ve=at);return wt&&ka(ie,Ye),Re}for(Ge=m(ie,Ge);!at.done;Ye++,at=oe.next())at=Pe(Ge,ie,Ye,at.value,xe),at!==null&&(a&&at.alternate!==null&&Ge.delete(at.key===null?Ye:at.key),Z=k(at,Z,Ye),Ve===null?Re=at:Ve.sibling=at,Ve=at);return a&&Ge.forEach(function(L1){return s(ie,L1)}),wt&&ka(ie,Ye),Re}function Rt(ie,Z,oe,xe){if(typeof oe=="object"&&oe!==null&&oe.type===M&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:e:{for(var Re=oe.key,Ve=Z;Ve!==null;){if(Ve.key===Re){if(Re=oe.type,Re===M){if(Ve.tag===7){h(ie,Ve.sibling),Z=C(Ve,oe.props.children),Z.return=ie,ie=Z;break e}}else if(Ve.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===I&&Mv(Re)===Ve.type){h(ie,Ve.sibling),Z=C(Ve,oe.props),Z.ref=xo(ie,Ve,oe),Z.return=ie,ie=Z;break e}h(ie,Ve);break}else s(ie,Ve);Ve=Ve.sibling}oe.type===M?(Z=Ra(oe.props.children,ie.mode,xe,oe.key),Z.return=ie,ie=Z):(xe=Tu(oe.type,oe.key,oe.props,null,ie.mode,xe),xe.ref=xo(ie,Z,oe),xe.return=ie,ie=xe)}return F(ie);case L:e:{for(Ve=oe.key;Z!==null;){if(Z.key===Ve)if(Z.tag===4&&Z.stateNode.containerInfo===oe.containerInfo&&Z.stateNode.implementation===oe.implementation){h(ie,Z.sibling),Z=C(Z,oe.children||[]),Z.return=ie,ie=Z;break e}else{h(ie,Z);break}else s(ie,Z);Z=Z.sibling}Z=hc(oe,ie.mode,xe),Z.return=ie,ie=Z}return F(ie);case I:return Ve=oe._init,Rt(ie,Z,Ve(oe._payload),xe)}if(Me(oe))return Ae(ie,Z,oe,xe);if(q(oe))return Be(ie,Z,oe,xe);nu(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Z!==null&&Z.tag===6?(h(ie,Z.sibling),Z=C(Z,oe),Z.return=ie,ie=Z):(h(ie,Z),Z=vc(oe,ie.mode,xe),Z.return=ie,ie=Z),F(ie)):h(ie,Z)}return Rt}var di=Nv(!0),Ov=Nv(!1),au=Kn(null),iu=null,vi=null,Sf=null;function Cf(){Sf=vi=iu=null}function kf(a){var s=au.current;pt(au),a._currentValue=s}function Pf(a,s,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),a===h)break;a=a.return}}function hi(a,s){iu=a,Sf=vi=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&s&&(Pr=!0),a.firstContext=null)}function qr(a){var s=a._currentValue;if(Sf!==a)if(a={context:a,memoizedValue:s,next:null},vi===null){if(iu===null)throw Error(r(308));vi=a,iu.dependencies={lanes:0,firstContext:a}}else vi=vi.next=a;return s}var Pa=null;function Tf(a){Pa===null?Pa=[a]:Pa.push(a)}function Iv(a,s,h,m){var C=s.interleaved;return C===null?(h.next=h,Tf(s)):(h.next=C.next,C.next=h),s.interleaved=h,Pn(a,m)}function Pn(a,s){a.lanes|=s;var h=a.alternate;for(h!==null&&(h.lanes|=s),h=a,a=a.return;a!==null;)a.childLanes|=s,h=a.alternate,h!==null&&(h.childLanes|=s),h=a,a=a.return;return h.tag===3?h.stateNode:null}var jn=!1;function _f(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zv(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Tn(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function Qn(a,s,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,tt&2){var C=m.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),m.pending=s,Pn(a,h)}return C=m.interleaved,C===null?(s.next=s,Tf(m)):(s.next=C.next,C.next=s),m.interleaved=s,Pn(a,h)}function ou(a,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194240)!==0)){var m=s.lanes;m&=a.pendingLanes,h|=m,s.lanes=h,Gl(a,h)}}function Fv(a,s){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var C=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var F={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};k===null?C=k=F:k=k.next=F,h=h.next}while(h!==null);k===null?C=k=s:k=k.next=s}else C=k=s;h={baseState:m.baseState,firstBaseUpdate:C,lastBaseUpdate:k,shared:m.shared,effects:m.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=s:a.next=s,h.lastBaseUpdate=s}function su(a,s,h,m){var C=a.updateQueue;jn=!1;var k=C.firstBaseUpdate,F=C.lastBaseUpdate,K=C.shared.pending;if(K!==null){C.shared.pending=null;var X=K,le=X.next;X.next=null,F===null?k=le:F.next=le,F=X;var ye=a.alternate;ye!==null&&(ye=ye.updateQueue,K=ye.lastBaseUpdate,K!==F&&(K===null?ye.firstBaseUpdate=le:K.next=le,ye.lastBaseUpdate=X))}if(k!==null){var we=C.baseState;F=0,ye=le=X=null,K=k;do{var pe=K.lane,Pe=K.eventTime;if((m&pe)===pe){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ae=a,Be=K;switch(pe=s,Pe=h,Be.tag){case 1:if(Ae=Be.payload,typeof Ae=="function"){we=Ae.call(Pe,we,pe);break e}we=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Be.payload,pe=typeof Ae=="function"?Ae.call(Pe,we,pe):Ae,pe==null)break e;we=$({},we,pe);break e;case 2:jn=!0}}K.callback!==null&&K.lane!==0&&(a.flags|=64,pe=C.effects,pe===null?C.effects=[K]:pe.push(K))}else Pe={eventTime:Pe,lane:pe,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ye===null?(le=ye=Pe,X=we):ye=ye.next=Pe,F|=pe;if(K=K.next,K===null){if(K=C.shared.pending,K===null)break;pe=K,K=pe.next,pe.next=null,C.lastBaseUpdate=pe,C.shared.pending=null}}while(!0);if(ye===null&&(X=we),C.baseState=X,C.firstBaseUpdate=le,C.lastBaseUpdate=ye,s=C.shared.interleaved,s!==null){C=s;do F|=C.lane,C=C.next;while(C!==s)}else k===null&&(C.shared.lanes=0);Da|=F,a.lanes=F,a.memoizedState=we}}function Vv(a,s,h){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var m=a[s],C=m.callback;if(C!==null){if(m.callback=null,m=h,typeof C!="function")throw Error(r(191,C));C.call(m)}}}var bo={},ln=Kn(bo),Eo=Kn(bo),So=Kn(bo);function Ta(a){if(a===bo)throw Error(r(174));return a}function Df(a,s){switch(dt(So,s),dt(Eo,a),dt(ln,bo),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:H(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=H(s,a)}pt(ln),dt(ln,s)}function gi(){pt(ln),pt(Eo),pt(So)}function Gv(a){Ta(So.current);var s=Ta(ln.current),h=H(s,a.type);s!==h&&(dt(Eo,a),dt(ln,h))}function Af(a){Eo.current===a&&(pt(ln),pt(Eo))}var bt=Kn(0);function uu(a){for(var s=a;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bf=[];function Lf(){for(var a=0;a<Bf.length;a++)Bf[a]._workInProgressVersionPrimary=null;Bf.length=0}var lu=T.ReactCurrentDispatcher,Rf=T.ReactCurrentBatchConfig,_a=0,Et=null,Ot=null,Ht=null,fu=!1,Co=!1,ko=0,t1=0;function lr(){throw Error(r(321))}function Mf(a,s){if(s===null)return!1;for(var h=0;h<s.length&&h<a.length;h++)if(!Zr(a[h],s[h]))return!1;return!0}function Nf(a,s,h,m,C,k){if(_a=k,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lu.current=a===null||a.memoizedState===null?i1:o1,a=h(m,C),Co){k=0;do{if(Co=!1,ko=0,25<=k)throw Error(r(301));k+=1,Ht=Ot=null,s.updateQueue=null,lu.current=s1,a=h(m,C)}while(Co)}if(lu.current=vu,s=Ot!==null&&Ot.next!==null,_a=0,Ht=Ot=Et=null,fu=!1,s)throw Error(r(300));return a}function Of(){var a=ko!==0;return ko=0,a}function fn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Et.memoizedState=Ht=a:Ht=Ht.next=a,Ht}function Hr(){if(Ot===null){var a=Et.alternate;a=a!==null?a.memoizedState:null}else a=Ot.next;var s=Ht===null?Et.memoizedState:Ht.next;if(s!==null)Ht=s,Ot=a;else{if(a===null)throw Error(r(310));Ot=a,a={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ht===null?Et.memoizedState=Ht=a:Ht=Ht.next=a}return Ht}function Po(a,s){return typeof s=="function"?s(a):s}function If(a){var s=Hr(),h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var m=Ot,C=m.baseQueue,k=h.pending;if(k!==null){if(C!==null){var F=C.next;C.next=k.next,k.next=F}m.baseQueue=C=k,h.pending=null}if(C!==null){k=C.next,m=m.baseState;var K=F=null,X=null,le=k;do{var ye=le.lane;if((_a&ye)===ye)X!==null&&(X=X.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),m=le.hasEagerState?le.eagerState:a(m,le.action);else{var we={lane:ye,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};X===null?(K=X=we,F=m):X=X.next=we,Et.lanes|=ye,Da|=ye}le=le.next}while(le!==null&&le!==k);X===null?F=m:X.next=K,Zr(m,s.memoizedState)||(Pr=!0),s.memoizedState=m,s.baseState=F,s.baseQueue=X,h.lastRenderedState=m}if(a=h.interleaved,a!==null){C=a;do k=C.lane,Et.lanes|=k,Da|=k,C=C.next;while(C!==a)}else C===null&&(h.lanes=0);return[s.memoizedState,h.dispatch]}function zf(a){var s=Hr(),h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var m=h.dispatch,C=h.pending,k=s.memoizedState;if(C!==null){h.pending=null;var F=C=C.next;do k=a(k,F.action),F=F.next;while(F!==C);Zr(k,s.memoizedState)||(Pr=!0),s.memoizedState=k,s.baseQueue===null&&(s.baseState=k),h.lastRenderedState=k}return[k,m]}function Uv(){}function qv(a,s){var h=Et,m=Hr(),C=s(),k=!Zr(m.memoizedState,C);if(k&&(m.memoizedState=C,Pr=!0),m=m.queue,Ff(Wv.bind(null,h,m,a),[a]),m.getSnapshot!==s||k||Ht!==null&&Ht.memoizedState.tag&1){if(h.flags|=2048,To(9,$v.bind(null,h,m,C,s),void 0,null),$t===null)throw Error(r(349));_a&30||Hv(h,s,C)}return C}function Hv(a,s,h){a.flags|=16384,a={getSnapshot:s,value:h},s=Et.updateQueue,s===null?(s={lastEffect:null,stores:null},Et.updateQueue=s,s.stores=[a]):(h=s.stores,h===null?s.stores=[a]:h.push(a))}function $v(a,s,h,m){s.value=h,s.getSnapshot=m,Kv(s)&&Xv(a)}function Wv(a,s,h){return h(function(){Kv(s)&&Xv(a)})}function Kv(a){var s=a.getSnapshot;a=a.value;try{var h=s();return!Zr(a,h)}catch{return!0}}function Xv(a){var s=Pn(a,1);s!==null&&nn(s,a,1,-1)}function Yv(a){var s=fn();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:a},s.queue=a,a=a.dispatch=a1.bind(null,Et,a),[s.memoizedState,a]}function To(a,s,h,m){return a={tag:a,create:s,destroy:h,deps:m,next:null},s=Et.updateQueue,s===null?(s={lastEffect:null,stores:null},Et.updateQueue=s,s.lastEffect=a.next=a):(h=s.lastEffect,h===null?s.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,s.lastEffect=a)),a}function jv(){return Hr().memoizedState}function cu(a,s,h,m){var C=fn();Et.flags|=a,C.memoizedState=To(1|s,h,void 0,m===void 0?null:m)}function du(a,s,h,m){var C=Hr();m=m===void 0?null:m;var k=void 0;if(Ot!==null){var F=Ot.memoizedState;if(k=F.destroy,m!==null&&Mf(m,F.deps)){C.memoizedState=To(s,h,k,m);return}}Et.flags|=a,C.memoizedState=To(1|s,h,k,m)}function Qv(a,s){return cu(8390656,8,a,s)}function Ff(a,s){return du(2048,8,a,s)}function Zv(a,s){return du(4,2,a,s)}function Jv(a,s){return du(4,4,a,s)}function eh(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function th(a,s,h){return h=h!=null?h.concat([a]):null,du(4,4,eh.bind(null,s,a),h)}function Vf(){}function rh(a,s){var h=Hr();s=s===void 0?null:s;var m=h.memoizedState;return m!==null&&s!==null&&Mf(s,m[1])?m[0]:(h.memoizedState=[a,s],a)}function nh(a,s){var h=Hr();s=s===void 0?null:s;var m=h.memoizedState;return m!==null&&s!==null&&Mf(s,m[1])?m[0]:(a=a(),h.memoizedState=[a,s],a)}function ah(a,s,h){return _a&21?(Zr(h,s)||(h=Md(),Et.lanes|=h,Da|=h,a.baseState=!0),s):(a.baseState&&(a.baseState=!1,Pr=!0),a.memoizedState=h)}function r1(a,s){var h=lt;lt=h!==0&&4>h?h:4,a(!0);var m=Rf.transition;Rf.transition={};try{a(!1),s()}finally{lt=h,Rf.transition=m}}function ih(){return Hr().memoizedState}function n1(a,s,h){var m=ta(a);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},oh(a))sh(s,h);else if(h=Iv(a,s,h,m),h!==null){var C=wr();nn(h,a,m,C),uh(h,s,m)}}function a1(a,s,h){var m=ta(a),C={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(oh(a))sh(s,C);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=s.lastRenderedReducer,k!==null))try{var F=s.lastRenderedState,K=k(F,h);if(C.hasEagerState=!0,C.eagerState=K,Zr(K,F)){var X=s.interleaved;X===null?(C.next=C,Tf(s)):(C.next=X.next,X.next=C),s.interleaved=C;return}}catch{}finally{}h=Iv(a,s,C,m),h!==null&&(C=wr(),nn(h,a,m,C),uh(h,s,m))}}function oh(a){var s=a.alternate;return a===Et||s!==null&&s===Et}function sh(a,s){Co=fu=!0;var h=a.pending;h===null?s.next=s:(s.next=h.next,h.next=s),a.pending=s}function uh(a,s,h){if(h&4194240){var m=s.lanes;m&=a.pendingLanes,h|=m,s.lanes=h,Gl(a,h)}}var vu={readContext:qr,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},i1={readContext:qr,useCallback:function(a,s){return fn().memoizedState=[a,s===void 0?null:s],a},useContext:qr,useEffect:Qv,useImperativeHandle:function(a,s,h){return h=h!=null?h.concat([a]):null,cu(4194308,4,eh.bind(null,s,a),h)},useLayoutEffect:function(a,s){return cu(4194308,4,a,s)},useInsertionEffect:function(a,s){return cu(4,2,a,s)},useMemo:function(a,s){var h=fn();return s=s===void 0?null:s,a=a(),h.memoizedState=[a,s],a},useReducer:function(a,s,h){var m=fn();return s=h!==void 0?h(s):s,m.memoizedState=m.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},m.queue=a,a=a.dispatch=n1.bind(null,Et,a),[m.memoizedState,a]},useRef:function(a){var s=fn();return a={current:a},s.memoizedState=a},useState:Yv,useDebugValue:Vf,useDeferredValue:function(a){return fn().memoizedState=a},useTransition:function(){var a=Yv(!1),s=a[0];return a=r1.bind(null,a[1]),fn().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,h){var m=Et,C=fn();if(wt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=s(),$t===null)throw Error(r(349));_a&30||Hv(m,s,h)}C.memoizedState=h;var k={value:h,getSnapshot:s};return C.queue=k,Qv(Wv.bind(null,m,k,a),[a]),m.flags|=2048,To(9,$v.bind(null,m,k,h,s),void 0,null),h},useId:function(){var a=fn(),s=$t.identifierPrefix;if(wt){var h=kn,m=Cn;h=(m&~(1<<32-Qr(m)-1)).toString(32)+h,s=":"+s+"R"+h,h=ko++,0<h&&(s+="H"+h.toString(32)),s+=":"}else h=t1++,s=":"+s+"r"+h.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},o1={readContext:qr,useCallback:rh,useContext:qr,useEffect:Ff,useImperativeHandle:th,useInsertionEffect:Zv,useLayoutEffect:Jv,useMemo:nh,useReducer:If,useRef:jv,useState:function(){return If(Po)},useDebugValue:Vf,useDeferredValue:function(a){var s=Hr();return ah(s,Ot.memoizedState,a)},useTransition:function(){var a=If(Po)[0],s=Hr().memoizedState;return[a,s]},useMutableSource:Uv,useSyncExternalStore:qv,useId:ih,unstable_isNewReconciler:!1},s1={readContext:qr,useCallback:rh,useContext:qr,useEffect:Ff,useImperativeHandle:th,useInsertionEffect:Zv,useLayoutEffect:Jv,useMemo:nh,useReducer:zf,useRef:jv,useState:function(){return zf(Po)},useDebugValue:Vf,useDeferredValue:function(a){var s=Hr();return Ot===null?s.memoizedState=a:ah(s,Ot.memoizedState,a)},useTransition:function(){var a=zf(Po)[0],s=Hr().memoizedState;return[a,s]},useMutableSource:Uv,useSyncExternalStore:qv,useId:ih,unstable_isNewReconciler:!1};function en(a,s){if(a&&a.defaultProps){s=$({},s),a=a.defaultProps;for(var h in a)s[h]===void 0&&(s[h]=a[h]);return s}return s}function Gf(a,s,h,m){s=a.memoizedState,h=h(m,s),h=h==null?s:$({},s,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var hu={isMounted:function(a){return(a=a._reactInternals)?bn(a)===a:!1},enqueueSetState:function(a,s,h){a=a._reactInternals;var m=wr(),C=ta(a),k=Tn(m,C);k.payload=s,h!=null&&(k.callback=h),s=Qn(a,k,C),s!==null&&(nn(s,a,C,m),ou(s,a,C))},enqueueReplaceState:function(a,s,h){a=a._reactInternals;var m=wr(),C=ta(a),k=Tn(m,C);k.tag=1,k.payload=s,h!=null&&(k.callback=h),s=Qn(a,k,C),s!==null&&(nn(s,a,C,m),ou(s,a,C))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var h=wr(),m=ta(a),C=Tn(h,m);C.tag=2,s!=null&&(C.callback=s),s=Qn(a,C,m),s!==null&&(nn(s,a,m,h),ou(s,a,m))}};function lh(a,s,h,m,C,k,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,k,F):s.prototype&&s.prototype.isPureReactComponent?!vo(h,m)||!vo(C,k):!0}function fh(a,s,h){var m=!1,C=Xn,k=s.contextType;return typeof k=="object"&&k!==null?k=qr(k):(C=kr(s)?Sa:ur.current,m=s.contextTypes,k=(m=m!=null)?ui(a,C):Xn),s=new s(h,k),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=hu,a.stateNode=s,s._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=C,a.__reactInternalMemoizedMaskedChildContext=k),s}function ch(a,s,h,m){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,m),s.state!==a&&hu.enqueueReplaceState(s,s.state,null)}function Uf(a,s,h,m){var C=a.stateNode;C.props=h,C.state=a.memoizedState,C.refs={},_f(a);var k=s.contextType;typeof k=="object"&&k!==null?C.context=qr(k):(k=kr(s)?Sa:ur.current,C.context=ui(a,k)),C.state=a.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(Gf(a,s,k,h),C.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(s=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),s!==C.state&&hu.enqueueReplaceState(C,C.state,null),su(a,h,C,m),C.state=a.memoizedState),typeof C.componentDidMount=="function"&&(a.flags|=4194308)}function pi(a,s){try{var h="",m=s;do h+=te(m),m=m.return;while(m);var C=h}catch(k){C=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:s,stack:C,digest:null}}function qf(a,s,h){return{value:a,source:null,stack:h??null,digest:s??null}}function Hf(a,s){try{console.error(s.value)}catch(h){setTimeout(function(){throw h})}}var u1=typeof WeakMap=="function"?WeakMap:Map;function dh(a,s,h){h=Tn(-1,h),h.tag=3,h.payload={element:null};var m=s.value;return h.callback=function(){bu||(bu=!0,ic=m),Hf(a,s)},h}function vh(a,s,h){h=Tn(-1,h),h.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var C=s.value;h.payload=function(){return m(C)},h.callback=function(){Hf(a,s)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(h.callback=function(){Hf(a,s),typeof m!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),h}function hh(a,s,h){var m=a.pingCache;if(m===null){m=a.pingCache=new u1;var C=new Set;m.set(s,C)}else C=m.get(s),C===void 0&&(C=new Set,m.set(s,C));C.has(h)||(C.add(h),a=E1.bind(null,a,s,h),s.then(a,a))}function gh(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function ph(a,s,h,m,C){return a.mode&1?(a.flags|=65536,a.lanes=C,a):(a===s?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(s=Tn(-1,1),s.tag=2,Qn(h,s,1))),h.lanes|=1),a)}var l1=T.ReactCurrentOwner,Pr=!1;function mr(a,s,h,m){s.child=a===null?Ov(s,null,h,m):di(s,a.child,h,m)}function yh(a,s,h,m,C){h=h.render;var k=s.ref;return hi(s,C),m=Nf(a,s,h,m,k,C),h=Of(),a!==null&&!Pr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~C,_n(a,s,C)):(wt&&h&&mf(s),s.flags|=1,mr(a,s,m,C),s.child)}function mh(a,s,h,m,C){if(a===null){var k=h.type;return typeof k=="function"&&!dc(k)&&k.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(s.tag=15,s.type=k,wh(a,s,k,m,C)):(a=Tu(h.type,null,m,s,s.mode,C),a.ref=s.ref,a.return=s,s.child=a)}if(k=a.child,!(a.lanes&C)){var F=k.memoizedProps;if(h=h.compare,h=h!==null?h:vo,h(F,m)&&a.ref===s.ref)return _n(a,s,C)}return s.flags|=1,a=na(k,m),a.ref=s.ref,a.return=s,s.child=a}function wh(a,s,h,m,C){if(a!==null){var k=a.memoizedProps;if(vo(k,m)&&a.ref===s.ref)if(Pr=!1,s.pendingProps=m=k,(a.lanes&C)!==0)a.flags&131072&&(Pr=!0);else return s.lanes=a.lanes,_n(a,s,C)}return $f(a,s,h,m,C)}function xh(a,s,h){var m=s.pendingProps,C=m.children,k=a!==null?a.memoizedState:null;if(m.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(mi,Nr),Nr|=h;else{if(!(h&1073741824))return a=k!==null?k.baseLanes|h:h,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,dt(mi,Nr),Nr|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:h,dt(mi,Nr),Nr|=m}else k!==null?(m=k.baseLanes|h,s.memoizedState=null):m=h,dt(mi,Nr),Nr|=m;return mr(a,s,C,h),s.child}function bh(a,s){var h=s.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(s.flags|=512,s.flags|=2097152)}function $f(a,s,h,m,C){var k=kr(h)?Sa:ur.current;return k=ui(s,k),hi(s,C),h=Nf(a,s,h,m,k,C),m=Of(),a!==null&&!Pr?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~C,_n(a,s,C)):(wt&&m&&mf(s),s.flags|=1,mr(a,s,h,C),s.child)}function Eh(a,s,h,m,C){if(kr(h)){var k=!0;Zs(s)}else k=!1;if(hi(s,C),s.stateNode===null)pu(a,s),fh(s,h,m),Uf(s,h,m,C),m=!0;else if(a===null){var F=s.stateNode,K=s.memoizedProps;F.props=K;var X=F.context,le=h.contextType;typeof le=="object"&&le!==null?le=qr(le):(le=kr(h)?Sa:ur.current,le=ui(s,le));var ye=h.getDerivedStateFromProps,we=typeof ye=="function"||typeof F.getSnapshotBeforeUpdate=="function";we||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==m||X!==le)&&ch(s,F,m,le),jn=!1;var pe=s.memoizedState;F.state=pe,su(s,m,F,C),X=s.memoizedState,K!==m||pe!==X||Cr.current||jn?(typeof ye=="function"&&(Gf(s,h,ye,m),X=s.memoizedState),(K=jn||lh(s,h,K,m,pe,X,le))?(we||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=X),F.props=m,F.state=X,F.context=le,m=K):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{F=s.stateNode,zv(a,s),K=s.memoizedProps,le=s.type===s.elementType?K:en(s.type,K),F.props=le,we=s.pendingProps,pe=F.context,X=h.contextType,typeof X=="object"&&X!==null?X=qr(X):(X=kr(h)?Sa:ur.current,X=ui(s,X));var Pe=h.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==we||pe!==X)&&ch(s,F,m,X),jn=!1,pe=s.memoizedState,F.state=pe,su(s,m,F,C);var Ae=s.memoizedState;K!==we||pe!==Ae||Cr.current||jn?(typeof Pe=="function"&&(Gf(s,h,Pe,m),Ae=s.memoizedState),(le=jn||lh(s,h,le,m,pe,Ae,X)||!1)?(ye||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(m,Ae,X),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(m,Ae,X)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||K===a.memoizedProps&&pe===a.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&pe===a.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=Ae),F.props=m,F.state=Ae,F.context=X,m=le):(typeof F.componentDidUpdate!="function"||K===a.memoizedProps&&pe===a.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===a.memoizedProps&&pe===a.memoizedState||(s.flags|=1024),m=!1)}return Wf(a,s,h,m,k,C)}function Wf(a,s,h,m,C,k){bh(a,s);var F=(s.flags&128)!==0;if(!m&&!F)return C&&Tv(s,h,!1),_n(a,s,k);m=s.stateNode,l1.current=s;var K=F&&typeof h.getDerivedStateFromError!="function"?null:m.render();return s.flags|=1,a!==null&&F?(s.child=di(s,a.child,null,k),s.child=di(s,null,K,k)):mr(a,s,K,k),s.memoizedState=m.state,C&&Tv(s,h,!0),s.child}function Sh(a){var s=a.stateNode;s.pendingContext?kv(a,s.pendingContext,s.pendingContext!==s.context):s.context&&kv(a,s.context,!1),Df(a,s.containerInfo)}function Ch(a,s,h,m,C){return ci(),Ef(C),s.flags|=256,mr(a,s,h,m),s.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Xf(a){return{baseLanes:a,cachePool:null,transitions:null}}function kh(a,s,h){var m=s.pendingProps,C=bt.current,k=!1,F=(s.flags&128)!==0,K;if((K=F)||(K=a!==null&&a.memoizedState===null?!1:(C&2)!==0),K?(k=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(C|=1),dt(bt,C&1),a===null)return bf(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(s.mode&1?a.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(F=m.children,a=m.fallback,k?(m=s.mode,k=s.child,F={mode:"hidden",children:F},!(m&1)&&k!==null?(k.childLanes=0,k.pendingProps=F):k=_u(F,m,0,null),a=Ra(a,m,h,null),k.return=s,a.return=s,k.sibling=a,s.child=k,s.child.memoizedState=Xf(h),s.memoizedState=Kf,a):Yf(s,F));if(C=a.memoizedState,C!==null&&(K=C.dehydrated,K!==null))return f1(a,s,F,m,K,C,h);if(k){k=m.fallback,F=s.mode,C=a.child,K=C.sibling;var X={mode:"hidden",children:m.children};return!(F&1)&&s.child!==C?(m=s.child,m.childLanes=0,m.pendingProps=X,s.deletions=null):(m=na(C,X),m.subtreeFlags=C.subtreeFlags&14680064),K!==null?k=na(K,k):(k=Ra(k,F,h,null),k.flags|=2),k.return=s,m.return=s,m.sibling=k,s.child=m,m=k,k=s.child,F=a.child.memoizedState,F=F===null?Xf(h):{baseLanes:F.baseLanes|h,cachePool:null,transitions:F.transitions},k.memoizedState=F,k.childLanes=a.childLanes&~h,s.memoizedState=Kf,m}return k=a.child,a=k.sibling,m=na(k,{mode:"visible",children:m.children}),!(s.mode&1)&&(m.lanes=h),m.return=s,m.sibling=null,a!==null&&(h=s.deletions,h===null?(s.deletions=[a],s.flags|=16):h.push(a)),s.child=m,s.memoizedState=null,m}function Yf(a,s){return s=_u({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function gu(a,s,h,m){return m!==null&&Ef(m),di(s,a.child,null,h),a=Yf(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function f1(a,s,h,m,C,k,F){if(h)return s.flags&256?(s.flags&=-257,m=qf(Error(r(422))),gu(a,s,F,m)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(k=m.fallback,C=s.mode,m=_u({mode:"visible",children:m.children},C,0,null),k=Ra(k,C,F,null),k.flags|=2,m.return=s,k.return=s,m.sibling=k,s.child=m,s.mode&1&&di(s,a.child,null,F),s.child.memoizedState=Xf(F),s.memoizedState=Kf,k);if(!(s.mode&1))return gu(a,s,F,null);if(C.data==="$!"){if(m=C.nextSibling&&C.nextSibling.dataset,m)var K=m.dgst;return m=K,k=Error(r(419)),m=qf(k,m,void 0),gu(a,s,F,m)}if(K=(F&a.childLanes)!==0,Pr||K){if(m=$t,m!==null){switch(F&-F){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(m.suspendedLanes|F)?0:C,C!==0&&C!==k.retryLane&&(k.retryLane=C,Pn(a,C),nn(m,a,C,-1))}return cc(),m=qf(Error(r(421))),gu(a,s,F,m)}return C.data==="$?"?(s.flags|=128,s.child=a.child,s=S1.bind(null,a),C._reactRetry=s,null):(a=k.treeContext,Mr=Wn(C.nextSibling),Rr=s,wt=!0,Jr=null,a!==null&&(Gr[Ur++]=Cn,Gr[Ur++]=kn,Gr[Ur++]=Ca,Cn=a.id,kn=a.overflow,Ca=s),s=Yf(s,m.children),s.flags|=4096,s)}function Ph(a,s,h){a.lanes|=s;var m=a.alternate;m!==null&&(m.lanes|=s),Pf(a.return,s,h)}function jf(a,s,h,m,C){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:C}:(k.isBackwards=s,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=h,k.tailMode=C)}function Th(a,s,h){var m=s.pendingProps,C=m.revealOrder,k=m.tail;if(mr(a,s,m.children,h),m=bt.current,m&2)m=m&1|2,s.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ph(a,h,s);else if(a.tag===19)Ph(a,h,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(dt(bt,m),!(s.mode&1))s.memoizedState=null;else switch(C){case"forwards":for(h=s.child,C=null;h!==null;)a=h.alternate,a!==null&&uu(a)===null&&(C=h),h=h.sibling;h=C,h===null?(C=s.child,s.child=null):(C=h.sibling,h.sibling=null),jf(s,!1,C,h,k);break;case"backwards":for(h=null,C=s.child,s.child=null;C!==null;){if(a=C.alternate,a!==null&&uu(a)===null){s.child=C;break}a=C.sibling,C.sibling=h,h=C,C=a}jf(s,!0,h,null,k);break;case"together":jf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pu(a,s){!(s.mode&1)&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function _n(a,s,h){if(a!==null&&(s.dependencies=a.dependencies),Da|=s.lanes,!(h&s.childLanes))return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,h=na(a,a.pendingProps),s.child=h,h.return=s;a.sibling!==null;)a=a.sibling,h=h.sibling=na(a,a.pendingProps),h.return=s;h.sibling=null}return s.child}function c1(a,s,h){switch(s.tag){case 3:Sh(s),ci();break;case 5:Gv(s);break;case 1:kr(s.type)&&Zs(s);break;case 4:Df(s,s.stateNode.containerInfo);break;case 10:var m=s.type._context,C=s.memoizedProps.value;dt(au,m._currentValue),m._currentValue=C;break;case 13:if(m=s.memoizedState,m!==null)return m.dehydrated!==null?(dt(bt,bt.current&1),s.flags|=128,null):h&s.child.childLanes?kh(a,s,h):(dt(bt,bt.current&1),a=_n(a,s,h),a!==null?a.sibling:null);dt(bt,bt.current&1);break;case 19:if(m=(h&s.childLanes)!==0,a.flags&128){if(m)return Th(a,s,h);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),dt(bt,bt.current),m)break;return null;case 22:case 23:return s.lanes=0,xh(a,s,h)}return _n(a,s,h)}var _h,Qf,Dh,Ah;_h=function(a,s){for(var h=s.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Qf=function(){},Dh=function(a,s,h,m){var C=a.memoizedProps;if(C!==m){a=s.stateNode,Ta(ln.current);var k=null;switch(h){case"input":C=me(a,C),m=me(a,m),k=[];break;case"select":C=$({},C,{value:void 0}),m=$({},m,{value:void 0}),k=[];break;case"textarea":C=Ie(a,C),m=Ie(a,m),k=[];break;default:typeof C.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=Ys)}Ke(h,m);var F;h=null;for(le in C)if(!m.hasOwnProperty(le)&&C.hasOwnProperty(le)&&C[le]!=null)if(le==="style"){var K=C[le];for(F in K)K.hasOwnProperty(F)&&(h||(h={}),h[F]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(i.hasOwnProperty(le)?k||(k=[]):(k=k||[]).push(le,null));for(le in m){var X=m[le];if(K=C!=null?C[le]:void 0,m.hasOwnProperty(le)&&X!==K&&(X!=null||K!=null))if(le==="style")if(K){for(F in K)!K.hasOwnProperty(F)||X&&X.hasOwnProperty(F)||(h||(h={}),h[F]="");for(F in X)X.hasOwnProperty(F)&&K[F]!==X[F]&&(h||(h={}),h[F]=X[F])}else h||(k||(k=[]),k.push(le,h)),h=X;else le==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,K=K?K.__html:void 0,X!=null&&K!==X&&(k=k||[]).push(le,X)):le==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(le,""+X):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(i.hasOwnProperty(le)?(X!=null&&le==="onScroll"&&gt("scroll",a),k||K===X||(k=[])):(k=k||[]).push(le,X))}h&&(k=k||[]).push("style",h);var le=k;(s.updateQueue=le)&&(s.flags|=4)}},Ah=function(a,s,h,m){h!==m&&(s.flags|=4)};function _o(a,s){if(!wt)switch(a.tailMode){case"hidden":s=a.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function fr(a){var s=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(s)for(var C=a.child;C!==null;)h|=C.lanes|C.childLanes,m|=C.subtreeFlags&14680064,m|=C.flags&14680064,C.return=a,C=C.sibling;else for(C=a.child;C!==null;)h|=C.lanes|C.childLanes,m|=C.subtreeFlags,m|=C.flags,C.return=a,C=C.sibling;return a.subtreeFlags|=m,a.childLanes=h,s}function d1(a,s,h){var m=s.pendingProps;switch(wf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(s),null;case 1:return kr(s.type)&&Qs(),fr(s),null;case 3:return m=s.stateNode,gi(),pt(Cr),pt(ur),Lf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(ru(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Jr!==null&&(uc(Jr),Jr=null))),Qf(a,s),fr(s),null;case 5:Af(s);var C=Ta(So.current);if(h=s.type,a!==null&&s.stateNode!=null)Dh(a,s,h,m,C),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!m){if(s.stateNode===null)throw Error(r(166));return fr(s),null}if(a=Ta(ln.current),ru(s)){m=s.stateNode,h=s.type;var k=s.memoizedProps;switch(m[un]=s,m[mo]=k,a=(s.mode&1)!==0,h){case"dialog":gt("cancel",m),gt("close",m);break;case"iframe":case"object":case"embed":gt("load",m);break;case"video":case"audio":for(C=0;C<go.length;C++)gt(go[C],m);break;case"source":gt("error",m);break;case"img":case"image":case"link":gt("error",m),gt("load",m);break;case"details":gt("toggle",m);break;case"input":Le(m,k),gt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},gt("invalid",m);break;case"textarea":qe(m,k),gt("invalid",m)}Ke(h,k),C=null;for(var F in k)if(k.hasOwnProperty(F)){var K=k[F];F==="children"?typeof K=="string"?m.textContent!==K&&(k.suppressHydrationWarning!==!0&&Xs(m.textContent,K,a),C=["children",K]):typeof K=="number"&&m.textContent!==""+K&&(k.suppressHydrationWarning!==!0&&Xs(m.textContent,K,a),C=["children",""+K]):i.hasOwnProperty(F)&&K!=null&&F==="onScroll"&&gt("scroll",m)}switch(h){case"input":Q(m),ke(m,k,!0);break;case"textarea":Q(m),Qe(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=Ys)}m=C,s.updateQueue=m,m!==null&&(s.flags|=4)}else{F=C.nodeType===9?C:C.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ge(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=F.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=F.createElement(h,{is:m.is}):(a=F.createElement(h),h==="select"&&(F=a,m.multiple?F.multiple=!0:m.size&&(F.size=m.size))):a=F.createElementNS(a,h),a[un]=s,a[mo]=m,_h(a,s,!1,!1),s.stateNode=a;e:{switch(F=De(h,m),h){case"dialog":gt("cancel",a),gt("close",a),C=m;break;case"iframe":case"object":case"embed":gt("load",a),C=m;break;case"video":case"audio":for(C=0;C<go.length;C++)gt(go[C],a);C=m;break;case"source":gt("error",a),C=m;break;case"img":case"image":case"link":gt("error",a),gt("load",a),C=m;break;case"details":gt("toggle",a),C=m;break;case"input":Le(a,m),C=me(a,m),gt("invalid",a);break;case"option":C=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},C=$({},m,{value:void 0}),gt("invalid",a);break;case"textarea":qe(a,m),C=Ie(a,m),gt("invalid",a);break;default:C=m}Ke(h,C),K=C;for(k in K)if(K.hasOwnProperty(k)){var X=K[k];k==="style"?be(a,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&de(a,X)):k==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&ae(a,X):typeof X=="number"&&ae(a,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&gt("scroll",a):X!=null&&S(a,k,X,F))}switch(h){case"input":Q(a),ke(a,m,!1);break;case"textarea":Q(a),Qe(a);break;case"option":m.value!=null&&a.setAttribute("value",""+ue(m.value));break;case"select":a.multiple=!!m.multiple,k=m.value,k!=null?Oe(a,!!m.multiple,k,!1):m.defaultValue!=null&&Oe(a,!!m.multiple,m.defaultValue,!0);break;default:typeof C.onClick=="function"&&(a.onclick=Ys)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return fr(s),null;case 6:if(a&&s.stateNode!=null)Ah(a,s,a.memoizedProps,m);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(h=Ta(So.current),Ta(ln.current),ru(s)){if(m=s.stateNode,h=s.memoizedProps,m[un]=s,(k=m.nodeValue!==h)&&(a=Rr,a!==null))switch(a.tag){case 3:Xs(m.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Xs(m.nodeValue,h,(a.mode&1)!==0)}k&&(s.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[un]=s,s.stateNode=m}return fr(s),null;case 13:if(pt(bt),m=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(wt&&Mr!==null&&s.mode&1&&!(s.flags&128))Rv(),ci(),s.flags|=98560,k=!1;else if(k=ru(s),m!==null&&m.dehydrated!==null){if(a===null){if(!k)throw Error(r(318));if(k=s.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[un]=s}else ci(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;fr(s),k=!1}else Jr!==null&&(uc(Jr),Jr=null),k=!0;if(!k)return s.flags&65536?s:null}return s.flags&128?(s.lanes=h,s):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(s.child.flags|=8192,s.mode&1&&(a===null||bt.current&1?It===0&&(It=3):cc())),s.updateQueue!==null&&(s.flags|=4),fr(s),null);case 4:return gi(),Qf(a,s),a===null&&po(s.stateNode.containerInfo),fr(s),null;case 10:return kf(s.type._context),fr(s),null;case 17:return kr(s.type)&&Qs(),fr(s),null;case 19:if(pt(bt),k=s.memoizedState,k===null)return fr(s),null;if(m=(s.flags&128)!==0,F=k.rendering,F===null)if(m)_o(k,!1);else{if(It!==0||a!==null&&a.flags&128)for(a=s.child;a!==null;){if(F=uu(a),F!==null){for(s.flags|=128,_o(k,!1),m=F.updateQueue,m!==null&&(s.updateQueue=m,s.flags|=4),s.subtreeFlags=0,m=h,h=s.child;h!==null;)k=h,a=m,k.flags&=14680066,F=k.alternate,F===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=F.childLanes,k.lanes=F.lanes,k.child=F.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=F.memoizedProps,k.memoizedState=F.memoizedState,k.updateQueue=F.updateQueue,k.type=F.type,a=F.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return dt(bt,bt.current&1|2),s.child}a=a.sibling}k.tail!==null&&mt()>wi&&(s.flags|=128,m=!0,_o(k,!1),s.lanes=4194304)}else{if(!m)if(a=uu(F),a!==null){if(s.flags|=128,m=!0,h=a.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),_o(k,!0),k.tail===null&&k.tailMode==="hidden"&&!F.alternate&&!wt)return fr(s),null}else 2*mt()-k.renderingStartTime>wi&&h!==1073741824&&(s.flags|=128,m=!0,_o(k,!1),s.lanes=4194304);k.isBackwards?(F.sibling=s.child,s.child=F):(h=k.last,h!==null?h.sibling=F:s.child=F,k.last=F)}return k.tail!==null?(s=k.tail,k.rendering=s,k.tail=s.sibling,k.renderingStartTime=mt(),s.sibling=null,h=bt.current,dt(bt,m?h&1|2:h&1),s):(fr(s),null);case 22:case 23:return fc(),m=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(s.flags|=8192),m&&s.mode&1?Nr&1073741824&&(fr(s),s.subtreeFlags&6&&(s.flags|=8192)):fr(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function v1(a,s){switch(wf(s),s.tag){case 1:return kr(s.type)&&Qs(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return gi(),pt(Cr),pt(ur),Lf(),a=s.flags,a&65536&&!(a&128)?(s.flags=a&-65537|128,s):null;case 5:return Af(s),null;case 13:if(pt(bt),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ci()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return pt(bt),null;case 4:return gi(),null;case 10:return kf(s.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var yu=!1,cr=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Te=null;function yi(a,s){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Tt(a,s,m)}else h.current=null}function Zf(a,s,h){try{h()}catch(m){Tt(a,s,m)}}var Bh=!1;function g1(a,s){if(ff=Is,a=lv(),tf(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var C=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var F=0,K=-1,X=-1,le=0,ye=0,we=a,pe=null;t:for(;;){for(var Pe;we!==h||C!==0&&we.nodeType!==3||(K=F+C),we!==k||m!==0&&we.nodeType!==3||(X=F+m),we.nodeType===3&&(F+=we.nodeValue.length),(Pe=we.firstChild)!==null;)pe=we,we=Pe;for(;;){if(we===a)break t;if(pe===h&&++le===C&&(K=F),pe===k&&++ye===m&&(X=F),(Pe=we.nextSibling)!==null)break;we=pe,pe=we.parentNode}we=Pe}h=K===-1||X===-1?null:{start:K,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(cf={focusedElem:a,selectionRange:h},Is=!1,Te=s;Te!==null;)if(s=Te,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Te=a;else for(;Te!==null;){s=Te;try{var Ae=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Be=Ae.memoizedProps,Rt=Ae.memoizedState,ie=s.stateNode,Z=ie.getSnapshotBeforeUpdate(s.elementType===s.type?Be:en(s.type,Be),Rt);ie.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var oe=s.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(xe){Tt(s,s.return,xe)}if(a=s.sibling,a!==null){a.return=s.return,Te=a;break}Te=s.return}return Ae=Bh,Bh=!1,Ae}function Do(a,s,h){var m=s.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var C=m=m.next;do{if((C.tag&a)===a){var k=C.destroy;C.destroy=void 0,k!==void 0&&Zf(s,h,k)}C=C.next}while(C!==m)}}function mu(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var h=s=s.next;do{if((h.tag&a)===a){var m=h.create;h.destroy=m()}h=h.next}while(h!==s)}}function Jf(a){var s=a.ref;if(s!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof s=="function"?s(a):s.current=a}}function Lh(a){var s=a.alternate;s!==null&&(a.alternate=null,Lh(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[un],delete s[mo],delete s[gf],delete s[Q0],delete s[Z0])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Rh(a){return a.tag===5||a.tag===3||a.tag===4}function Mh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Rh(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ec(a,s,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?h.nodeType===8?h.parentNode.insertBefore(a,s):h.insertBefore(a,s):(h.nodeType===8?(s=h.parentNode,s.insertBefore(a,h)):(s=h,s.appendChild(a)),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Ys));else if(m!==4&&(a=a.child,a!==null))for(ec(a,s,h),a=a.sibling;a!==null;)ec(a,s,h),a=a.sibling}function tc(a,s,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,s?h.insertBefore(a,s):h.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(tc(a,s,h),a=a.sibling;a!==null;)tc(a,s,h),a=a.sibling}var jt=null,tn=!1;function Zn(a,s,h){for(h=h.child;h!==null;)Nh(a,s,h),h=h.sibling}function Nh(a,s,h){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(sr,h)}catch{}switch(h.tag){case 5:cr||yi(h,s);case 6:var m=jt,C=tn;jt=null,Zn(a,s,h),jt=m,tn=C,jt!==null&&(tn?(a=jt,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):jt.removeChild(h.stateNode));break;case 18:jt!==null&&(tn?(a=jt,h=h.stateNode,a.nodeType===8?hf(a.parentNode,h):a.nodeType===1&&hf(a,h),oo(a)):hf(jt,h.stateNode));break;case 4:m=jt,C=tn,jt=h.stateNode.containerInfo,tn=!0,Zn(a,s,h),jt=m,tn=C;break;case 0:case 11:case 14:case 15:if(!cr&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){C=m=m.next;do{var k=C,F=k.destroy;k=k.tag,F!==void 0&&(k&2||k&4)&&Zf(h,s,F),C=C.next}while(C!==m)}Zn(a,s,h);break;case 1:if(!cr&&(yi(h,s),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(K){Tt(h,s,K)}Zn(a,s,h);break;case 21:Zn(a,s,h);break;case 22:h.mode&1?(cr=(m=cr)||h.memoizedState!==null,Zn(a,s,h),cr=m):Zn(a,s,h);break;default:Zn(a,s,h)}}function Oh(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new h1),s.forEach(function(m){var C=C1.bind(null,a,m);h.has(m)||(h.add(m),m.then(C,C))})}}function rn(a,s){var h=s.deletions;if(h!==null)for(var m=0;m<h.length;m++){var C=h[m];try{var k=a,F=s,K=F;e:for(;K!==null;){switch(K.tag){case 5:jt=K.stateNode,tn=!1;break e;case 3:jt=K.stateNode.containerInfo,tn=!0;break e;case 4:jt=K.stateNode.containerInfo,tn=!0;break e}K=K.return}if(jt===null)throw Error(r(160));Nh(k,F,C),jt=null,tn=!1;var X=C.alternate;X!==null&&(X.return=null),C.return=null}catch(le){Tt(C,s,le)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ih(s,a),s=s.sibling}function Ih(a,s){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(rn(s,a),cn(a),m&4){try{Do(3,a,a.return),mu(3,a)}catch(Be){Tt(a,a.return,Be)}try{Do(5,a,a.return)}catch(Be){Tt(a,a.return,Be)}}break;case 1:rn(s,a),cn(a),m&512&&h!==null&&yi(h,h.return);break;case 5:if(rn(s,a),cn(a),m&512&&h!==null&&yi(h,h.return),a.flags&32){var C=a.stateNode;try{ae(C,"")}catch(Be){Tt(a,a.return,Be)}}if(m&4&&(C=a.stateNode,C!=null)){var k=a.memoizedProps,F=h!==null?h.memoizedProps:k,K=a.type,X=a.updateQueue;if(a.updateQueue=null,X!==null)try{K==="input"&&k.type==="radio"&&k.name!=null&&$e(C,k),De(K,F);var le=De(K,k);for(F=0;F<X.length;F+=2){var ye=X[F],we=X[F+1];ye==="style"?be(C,we):ye==="dangerouslySetInnerHTML"?de(C,we):ye==="children"?ae(C,we):S(C,ye,we,le)}switch(K){case"input":Xe(C,k);break;case"textarea":je(C,k);break;case"select":var pe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!k.multiple;var Pe=k.value;Pe!=null?Oe(C,!!k.multiple,Pe,!1):pe!==!!k.multiple&&(k.defaultValue!=null?Oe(C,!!k.multiple,k.defaultValue,!0):Oe(C,!!k.multiple,k.multiple?[]:"",!1))}C[mo]=k}catch(Be){Tt(a,a.return,Be)}}break;case 6:if(rn(s,a),cn(a),m&4){if(a.stateNode===null)throw Error(r(162));C=a.stateNode,k=a.memoizedProps;try{C.nodeValue=k}catch(Be){Tt(a,a.return,Be)}}break;case 3:if(rn(s,a),cn(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{oo(s.containerInfo)}catch(Be){Tt(a,a.return,Be)}break;case 4:rn(s,a),cn(a);break;case 13:rn(s,a),cn(a),C=a.child,C.flags&8192&&(k=C.memoizedState!==null,C.stateNode.isHidden=k,!k||C.alternate!==null&&C.alternate.memoizedState!==null||(ac=mt())),m&4&&Oh(a);break;case 22:if(ye=h!==null&&h.memoizedState!==null,a.mode&1?(cr=(le=cr)||ye,rn(s,a),cr=le):rn(s,a),cn(a),m&8192){if(le=a.memoizedState!==null,(a.stateNode.isHidden=le)&&!ye&&a.mode&1)for(Te=a,ye=a.child;ye!==null;){for(we=Te=ye;Te!==null;){switch(pe=Te,Pe=pe.child,pe.tag){case 0:case 11:case 14:case 15:Do(4,pe,pe.return);break;case 1:yi(pe,pe.return);var Ae=pe.stateNode;if(typeof Ae.componentWillUnmount=="function"){m=pe,h=pe.return;try{s=m,Ae.props=s.memoizedProps,Ae.state=s.memoizedState,Ae.componentWillUnmount()}catch(Be){Tt(m,h,Be)}}break;case 5:yi(pe,pe.return);break;case 22:if(pe.memoizedState!==null){Vh(we);continue}}Pe!==null?(Pe.return=pe,Te=Pe):Vh(we)}ye=ye.sibling}e:for(ye=null,we=a;;){if(we.tag===5){if(ye===null){ye=we;try{C=we.stateNode,le?(k=C.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(K=we.stateNode,X=we.memoizedProps.style,F=X!=null&&X.hasOwnProperty("display")?X.display:null,K.style.display=ve("display",F))}catch(Be){Tt(a,a.return,Be)}}}else if(we.tag===6){if(ye===null)try{we.stateNode.nodeValue=le?"":we.memoizedProps}catch(Be){Tt(a,a.return,Be)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===a)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===a)break e;for(;we.sibling===null;){if(we.return===null||we.return===a)break e;ye===we&&(ye=null),we=we.return}ye===we&&(ye=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:rn(s,a),cn(a),m&4&&Oh(a);break;case 21:break;default:rn(s,a),cn(a)}}function cn(a){var s=a.flags;if(s&2){try{e:{for(var h=a.return;h!==null;){if(Rh(h)){var m=h;break e}h=h.return}throw Error(r(160))}switch(m.tag){case 5:var C=m.stateNode;m.flags&32&&(ae(C,""),m.flags&=-33);var k=Mh(a);tc(a,k,C);break;case 3:case 4:var F=m.stateNode.containerInfo,K=Mh(a);ec(a,K,F);break;default:throw Error(r(161))}}catch(X){Tt(a,a.return,X)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function p1(a,s,h){Te=a,zh(a)}function zh(a,s,h){for(var m=(a.mode&1)!==0;Te!==null;){var C=Te,k=C.child;if(C.tag===22&&m){var F=C.memoizedState!==null||yu;if(!F){var K=C.alternate,X=K!==null&&K.memoizedState!==null||cr;K=yu;var le=cr;if(yu=F,(cr=X)&&!le)for(Te=C;Te!==null;)F=Te,X=F.child,F.tag===22&&F.memoizedState!==null?Gh(C):X!==null?(X.return=F,Te=X):Gh(C);for(;k!==null;)Te=k,zh(k),k=k.sibling;Te=C,yu=K,cr=le}Fh(a)}else C.subtreeFlags&8772&&k!==null?(k.return=C,Te=k):Fh(a)}}function Fh(a){for(;Te!==null;){var s=Te;if(s.flags&8772){var h=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:cr||mu(5,s);break;case 1:var m=s.stateNode;if(s.flags&4&&!cr)if(h===null)m.componentDidMount();else{var C=s.elementType===s.type?h.memoizedProps:en(s.type,h.memoizedProps);m.componentDidUpdate(C,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=s.updateQueue;k!==null&&Vv(s,k,m);break;case 3:var F=s.updateQueue;if(F!==null){if(h=null,s.child!==null)switch(s.child.tag){case 5:h=s.child.stateNode;break;case 1:h=s.child.stateNode}Vv(s,F,h)}break;case 5:var K=s.stateNode;if(h===null&&s.flags&4){h=K;var X=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var le=s.alternate;if(le!==null){var ye=le.memoizedState;if(ye!==null){var we=ye.dehydrated;we!==null&&oo(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}cr||s.flags&512&&Jf(s)}catch(pe){Tt(s,s.return,pe)}}if(s===a){Te=null;break}if(h=s.sibling,h!==null){h.return=s.return,Te=h;break}Te=s.return}}function Vh(a){for(;Te!==null;){var s=Te;if(s===a){Te=null;break}var h=s.sibling;if(h!==null){h.return=s.return,Te=h;break}Te=s.return}}function Gh(a){for(;Te!==null;){var s=Te;try{switch(s.tag){case 0:case 11:case 15:var h=s.return;try{mu(4,s)}catch(X){Tt(s,h,X)}break;case 1:var m=s.stateNode;if(typeof m.componentDidMount=="function"){var C=s.return;try{m.componentDidMount()}catch(X){Tt(s,C,X)}}var k=s.return;try{Jf(s)}catch(X){Tt(s,k,X)}break;case 5:var F=s.return;try{Jf(s)}catch(X){Tt(s,F,X)}}}catch(X){Tt(s,s.return,X)}if(s===a){Te=null;break}var K=s.sibling;if(K!==null){K.return=s.return,Te=K;break}Te=s.return}}var y1=Math.ceil,wu=T.ReactCurrentDispatcher,rc=T.ReactCurrentOwner,$r=T.ReactCurrentBatchConfig,tt=0,$t=null,Mt=null,Qt=0,Nr=0,mi=Kn(0),It=0,Ao=null,Da=0,xu=0,nc=0,Bo=null,Tr=null,ac=0,wi=1/0,Dn=null,bu=!1,ic=null,Jn=null,Eu=!1,ea=null,Su=0,Lo=0,oc=null,Cu=-1,ku=0;function wr(){return tt&6?mt():Cu!==-1?Cu:Cu=mt()}function ta(a){return a.mode&1?tt&2&&Qt!==0?Qt&-Qt:e1.transition!==null?(ku===0&&(ku=Md()),ku):(a=lt,a!==0||(a=window.event,a=a===void 0?16:qd(a.type)),a):1}function nn(a,s,h,m){if(50<Lo)throw Lo=0,oc=null,Error(r(185));to(a,h,m),(!(tt&2)||a!==$t)&&(a===$t&&(!(tt&2)&&(xu|=h),It===4&&ra(a,Qt)),_r(a,m),h===1&&tt===0&&!(s.mode&1)&&(wi=mt()+500,Js&&Yn()))}function _r(a,s){var h=a.callbackNode;e0(a,s);var m=Ms(a,a===$t?Qt:0);if(m===0)h!==null&&In(h),a.callbackNode=null,a.callbackPriority=0;else if(s=m&-m,a.callbackPriority!==s){if(h!=null&&In(h),s===1)a.tag===0?J0(qh.bind(null,a)):_v(qh.bind(null,a)),Y0(function(){!(tt&6)&&Yn()}),h=null;else{switch(Nd(m)){case 1:h=Ji;break;case 4:h=Sr;break;case 16:h=zn;break;case 536870912:h=Fn;break;default:h=zn}h=Qh(h,Uh.bind(null,a))}a.callbackPriority=s,a.callbackNode=h}}function Uh(a,s){if(Cu=-1,ku=0,tt&6)throw Error(r(327));var h=a.callbackNode;if(xi()&&a.callbackNode!==h)return null;var m=Ms(a,a===$t?Qt:0);if(m===0)return null;if(m&30||m&a.expiredLanes||s)s=Pu(a,m);else{s=m;var C=tt;tt|=2;var k=$h();($t!==a||Qt!==s)&&(Dn=null,wi=mt()+500,Ba(a,s));do try{x1();break}catch(K){Hh(a,K)}while(!0);Cf(),wu.current=k,tt=C,Mt!==null?s=0:($t=null,Qt=0,s=It)}if(s!==0){if(s===2&&(C=Fl(a),C!==0&&(m=C,s=sc(a,C))),s===1)throw h=Ao,Ba(a,0),ra(a,m),_r(a,mt()),h;if(s===6)ra(a,m);else{if(C=a.current.alternate,!(m&30)&&!m1(C)&&(s=Pu(a,m),s===2&&(k=Fl(a),k!==0&&(m=k,s=sc(a,k))),s===1))throw h=Ao,Ba(a,0),ra(a,m),_r(a,mt()),h;switch(a.finishedWork=C,a.finishedLanes=m,s){case 0:case 1:throw Error(r(345));case 2:La(a,Tr,Dn);break;case 3:if(ra(a,m),(m&130023424)===m&&(s=ac+500-mt(),10<s)){if(Ms(a,0)!==0)break;if(C=a.suspendedLanes,(C&m)!==m){wr(),a.pingedLanes|=a.suspendedLanes&C;break}a.timeoutHandle=vf(La.bind(null,a,Tr,Dn),s);break}La(a,Tr,Dn);break;case 4:if(ra(a,m),(m&4194240)===m)break;for(s=a.eventTimes,C=-1;0<m;){var F=31-Qr(m);k=1<<F,F=s[F],F>C&&(C=F),m&=~k}if(m=C,m=mt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*y1(m/1960))-m,10<m){a.timeoutHandle=vf(La.bind(null,a,Tr,Dn),m);break}La(a,Tr,Dn);break;case 5:La(a,Tr,Dn);break;default:throw Error(r(329))}}}return _r(a,mt()),a.callbackNode===h?Uh.bind(null,a):null}function sc(a,s){var h=Bo;return a.current.memoizedState.isDehydrated&&(Ba(a,s).flags|=256),a=Pu(a,s),a!==2&&(s=Tr,Tr=h,s!==null&&uc(s)),a}function uc(a){Tr===null?Tr=a:Tr.push.apply(Tr,a)}function m1(a){for(var s=a;;){if(s.flags&16384){var h=s.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var C=h[m],k=C.getSnapshot;C=C.value;try{if(!Zr(k(),C))return!1}catch{return!1}}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ra(a,s){for(s&=~nc,s&=~xu,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var h=31-Qr(s),m=1<<h;a[h]=-1,s&=~m}}function qh(a){if(tt&6)throw Error(r(327));xi();var s=Ms(a,0);if(!(s&1))return _r(a,mt()),null;var h=Pu(a,s);if(a.tag!==0&&h===2){var m=Fl(a);m!==0&&(s=m,h=sc(a,m))}if(h===1)throw h=Ao,Ba(a,0),ra(a,s),_r(a,mt()),h;if(h===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,La(a,Tr,Dn),_r(a,mt()),null}function lc(a,s){var h=tt;tt|=1;try{return a(s)}finally{tt=h,tt===0&&(wi=mt()+500,Js&&Yn())}}function Aa(a){ea!==null&&ea.tag===0&&!(tt&6)&&xi();var s=tt;tt|=1;var h=$r.transition,m=lt;try{if($r.transition=null,lt=1,a)return a()}finally{lt=m,$r.transition=h,tt=s,!(tt&6)&&Yn()}}function fc(){Nr=mi.current,pt(mi)}function Ba(a,s){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,X0(h)),Mt!==null)for(h=Mt.return;h!==null;){var m=h;switch(wf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Qs();break;case 3:gi(),pt(Cr),pt(ur),Lf();break;case 5:Af(m);break;case 4:gi();break;case 13:pt(bt);break;case 19:pt(bt);break;case 10:kf(m.type._context);break;case 22:case 23:fc()}h=h.return}if($t=a,Mt=a=na(a.current,null),Qt=Nr=s,It=0,Ao=null,nc=xu=Da=0,Tr=Bo=null,Pa!==null){for(s=0;s<Pa.length;s++)if(h=Pa[s],m=h.interleaved,m!==null){h.interleaved=null;var C=m.next,k=h.pending;if(k!==null){var F=k.next;k.next=C,m.next=F}h.pending=m}Pa=null}return a}function Hh(a,s){do{var h=Mt;try{if(Cf(),lu.current=vu,fu){for(var m=Et.memoizedState;m!==null;){var C=m.queue;C!==null&&(C.pending=null),m=m.next}fu=!1}if(_a=0,Ht=Ot=Et=null,Co=!1,ko=0,rc.current=null,h===null||h.return===null){It=1,Ao=s,Mt=null;break}e:{var k=a,F=h.return,K=h,X=s;if(s=Qt,K.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var le=X,ye=K,we=ye.tag;if(!(ye.mode&1)&&(we===0||we===11||we===15)){var pe=ye.alternate;pe?(ye.updateQueue=pe.updateQueue,ye.memoizedState=pe.memoizedState,ye.lanes=pe.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=gh(F);if(Pe!==null){Pe.flags&=-257,ph(Pe,F,K,k,s),Pe.mode&1&&hh(k,le,s),s=Pe,X=le;var Ae=s.updateQueue;if(Ae===null){var Be=new Set;Be.add(X),s.updateQueue=Be}else Ae.add(X);break e}else{if(!(s&1)){hh(k,le,s),cc();break e}X=Error(r(426))}}else if(wt&&K.mode&1){var Rt=gh(F);if(Rt!==null){!(Rt.flags&65536)&&(Rt.flags|=256),ph(Rt,F,K,k,s),Ef(pi(X,K));break e}}k=X=pi(X,K),It!==4&&(It=2),Bo===null?Bo=[k]:Bo.push(k),k=F;do{switch(k.tag){case 3:k.flags|=65536,s&=-s,k.lanes|=s;var ie=dh(k,X,s);Fv(k,ie);break e;case 1:K=X;var Z=k.type,oe=k.stateNode;if(!(k.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Jn===null||!Jn.has(oe)))){k.flags|=65536,s&=-s,k.lanes|=s;var xe=vh(k,K,s);Fv(k,xe);break e}}k=k.return}while(k!==null)}Kh(h)}catch(Re){s=Re,Mt===h&&h!==null&&(Mt=h=h.return);continue}break}while(!0)}function $h(){var a=wu.current;return wu.current=vu,a===null?vu:a}function cc(){(It===0||It===3||It===2)&&(It=4),$t===null||!(Da&268435455)&&!(xu&268435455)||ra($t,Qt)}function Pu(a,s){var h=tt;tt|=2;var m=$h();($t!==a||Qt!==s)&&(Dn=null,Ba(a,s));do try{w1();break}catch(C){Hh(a,C)}while(!0);if(Cf(),tt=h,wu.current=m,Mt!==null)throw Error(r(261));return $t=null,Qt=0,It}function w1(){for(;Mt!==null;)Wh(Mt)}function x1(){for(;Mt!==null&&!Zi();)Wh(Mt)}function Wh(a){var s=jh(a.alternate,a,Nr);a.memoizedProps=a.pendingProps,s===null?Kh(a):Mt=s,rc.current=null}function Kh(a){var s=a;do{var h=s.alternate;if(a=s.return,s.flags&32768){if(h=v1(h,s),h!==null){h.flags&=32767,Mt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{It=6,Mt=null;return}}else if(h=d1(h,s,Nr),h!==null){Mt=h;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=a}while(s!==null);It===0&&(It=5)}function La(a,s,h){var m=lt,C=$r.transition;try{$r.transition=null,lt=1,b1(a,s,h,m)}finally{$r.transition=C,lt=m}return null}function b1(a,s,h,m){do xi();while(ea!==null);if(tt&6)throw Error(r(327));h=a.finishedWork;var C=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var k=h.lanes|h.childLanes;if(t0(a,k),a===$t&&(Mt=$t=null,Qt=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||Eu||(Eu=!0,Qh(zn,function(){return xi(),null})),k=(h.flags&15990)!==0,h.subtreeFlags&15990||k){k=$r.transition,$r.transition=null;var F=lt;lt=1;var K=tt;tt|=4,rc.current=null,g1(a,h),Ih(h,a),G0(cf),Is=!!ff,cf=ff=null,a.current=h,p1(h),Za(),tt=K,lt=F,$r.transition=k}else a.current=h;if(Eu&&(Eu=!1,ea=a,Su=C),k=a.pendingLanes,k===0&&(Jn=null),Ym(h.stateNode),_r(a,mt()),s!==null)for(m=a.onRecoverableError,h=0;h<s.length;h++)C=s[h],m(C.value,{componentStack:C.stack,digest:C.digest});if(bu)throw bu=!1,a=ic,ic=null,a;return Su&1&&a.tag!==0&&xi(),k=a.pendingLanes,k&1?a===oc?Lo++:(Lo=0,oc=a):Lo=0,Yn(),null}function xi(){if(ea!==null){var a=Nd(Su),s=$r.transition,h=lt;try{if($r.transition=null,lt=16>a?16:a,ea===null)var m=!1;else{if(a=ea,ea=null,Su=0,tt&6)throw Error(r(331));var C=tt;for(tt|=4,Te=a.current;Te!==null;){var k=Te,F=k.child;if(Te.flags&16){var K=k.deletions;if(K!==null){for(var X=0;X<K.length;X++){var le=K[X];for(Te=le;Te!==null;){var ye=Te;switch(ye.tag){case 0:case 11:case 15:Do(8,ye,k)}var we=ye.child;if(we!==null)we.return=ye,Te=we;else for(;Te!==null;){ye=Te;var pe=ye.sibling,Pe=ye.return;if(Lh(ye),ye===le){Te=null;break}if(pe!==null){pe.return=Pe,Te=pe;break}Te=Pe}}}var Ae=k.alternate;if(Ae!==null){var Be=Ae.child;if(Be!==null){Ae.child=null;do{var Rt=Be.sibling;Be.sibling=null,Be=Rt}while(Be!==null)}}Te=k}}if(k.subtreeFlags&2064&&F!==null)F.return=k,Te=F;else e:for(;Te!==null;){if(k=Te,k.flags&2048)switch(k.tag){case 0:case 11:case 15:Do(9,k,k.return)}var ie=k.sibling;if(ie!==null){ie.return=k.return,Te=ie;break e}Te=k.return}}var Z=a.current;for(Te=Z;Te!==null;){F=Te;var oe=F.child;if(F.subtreeFlags&2064&&oe!==null)oe.return=F,Te=oe;else e:for(F=Z;Te!==null;){if(K=Te,K.flags&2048)try{switch(K.tag){case 0:case 11:case 15:mu(9,K)}}catch(Re){Tt(K,K.return,Re)}if(K===F){Te=null;break e}var xe=K.sibling;if(xe!==null){xe.return=K.return,Te=xe;break e}Te=K.return}}if(tt=C,Yn(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(sr,a)}catch{}m=!0}return m}finally{lt=h,$r.transition=s}}return!1}function Xh(a,s,h){s=pi(h,s),s=dh(a,s,1),a=Qn(a,s,1),s=wr(),a!==null&&(to(a,1,s),_r(a,s))}function Tt(a,s,h){if(a.tag===3)Xh(a,a,h);else for(;s!==null;){if(s.tag===3){Xh(s,a,h);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Jn===null||!Jn.has(m))){a=pi(h,a),a=vh(s,a,1),s=Qn(s,a,1),a=wr(),s!==null&&(to(s,1,a),_r(s,a));break}}s=s.return}}function E1(a,s,h){var m=a.pingCache;m!==null&&m.delete(s),s=wr(),a.pingedLanes|=a.suspendedLanes&h,$t===a&&(Qt&h)===h&&(It===4||It===3&&(Qt&130023424)===Qt&&500>mt()-ac?Ba(a,0):nc|=h),_r(a,s)}function Yh(a,s){s===0&&(a.mode&1?(s=Rs,Rs<<=1,!(Rs&130023424)&&(Rs=4194304)):s=1);var h=wr();a=Pn(a,s),a!==null&&(to(a,s,h),_r(a,h))}function S1(a){var s=a.memoizedState,h=0;s!==null&&(h=s.retryLane),Yh(a,h)}function C1(a,s){var h=0;switch(a.tag){case 13:var m=a.stateNode,C=a.memoizedState;C!==null&&(h=C.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(s),Yh(a,h)}var jh;jh=function(a,s,h){if(a!==null)if(a.memoizedProps!==s.pendingProps||Cr.current)Pr=!0;else{if(!(a.lanes&h)&&!(s.flags&128))return Pr=!1,c1(a,s,h);Pr=!!(a.flags&131072)}else Pr=!1,wt&&s.flags&1048576&&Dv(s,tu,s.index);switch(s.lanes=0,s.tag){case 2:var m=s.type;pu(a,s),a=s.pendingProps;var C=ui(s,ur.current);hi(s,h),C=Nf(null,s,m,a,C,h);var k=Of();return s.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,kr(m)?(k=!0,Zs(s)):k=!1,s.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,_f(s),C.updater=hu,s.stateNode=C,C._reactInternals=s,Uf(s,m,a,h),s=Wf(null,s,m,!0,k,h)):(s.tag=0,wt&&k&&mf(s),mr(null,s,C,h),s=s.child),s;case 16:m=s.elementType;e:{switch(pu(a,s),a=s.pendingProps,C=m._init,m=C(m._payload),s.type=m,C=s.tag=P1(m),a=en(m,a),C){case 0:s=$f(null,s,m,a,h);break e;case 1:s=Eh(null,s,m,a,h);break e;case 11:s=yh(null,s,m,a,h);break e;case 14:s=mh(null,s,m,en(m.type,a),h);break e}throw Error(r(306,m,""))}return s;case 0:return m=s.type,C=s.pendingProps,C=s.elementType===m?C:en(m,C),$f(a,s,m,C,h);case 1:return m=s.type,C=s.pendingProps,C=s.elementType===m?C:en(m,C),Eh(a,s,m,C,h);case 3:e:{if(Sh(s),a===null)throw Error(r(387));m=s.pendingProps,k=s.memoizedState,C=k.element,zv(a,s),su(s,m,null,h);var F=s.memoizedState;if(m=F.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=k,s.memoizedState=k,s.flags&256){C=pi(Error(r(423)),s),s=Ch(a,s,m,h,C);break e}else if(m!==C){C=pi(Error(r(424)),s),s=Ch(a,s,m,h,C);break e}else for(Mr=Wn(s.stateNode.containerInfo.firstChild),Rr=s,wt=!0,Jr=null,h=Ov(s,null,m,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ci(),m===C){s=_n(a,s,h);break e}mr(a,s,m,h)}s=s.child}return s;case 5:return Gv(s),a===null&&bf(s),m=s.type,C=s.pendingProps,k=a!==null?a.memoizedProps:null,F=C.children,df(m,C)?F=null:k!==null&&df(m,k)&&(s.flags|=32),bh(a,s),mr(a,s,F,h),s.child;case 6:return a===null&&bf(s),null;case 13:return kh(a,s,h);case 4:return Df(s,s.stateNode.containerInfo),m=s.pendingProps,a===null?s.child=di(s,null,m,h):mr(a,s,m,h),s.child;case 11:return m=s.type,C=s.pendingProps,C=s.elementType===m?C:en(m,C),yh(a,s,m,C,h);case 7:return mr(a,s,s.pendingProps,h),s.child;case 8:return mr(a,s,s.pendingProps.children,h),s.child;case 12:return mr(a,s,s.pendingProps.children,h),s.child;case 10:e:{if(m=s.type._context,C=s.pendingProps,k=s.memoizedProps,F=C.value,dt(au,m._currentValue),m._currentValue=F,k!==null)if(Zr(k.value,F)){if(k.children===C.children&&!Cr.current){s=_n(a,s,h);break e}}else for(k=s.child,k!==null&&(k.return=s);k!==null;){var K=k.dependencies;if(K!==null){F=k.child;for(var X=K.firstContext;X!==null;){if(X.context===m){if(k.tag===1){X=Tn(-1,h&-h),X.tag=2;var le=k.updateQueue;if(le!==null){le=le.shared;var ye=le.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),le.pending=X}}k.lanes|=h,X=k.alternate,X!==null&&(X.lanes|=h),Pf(k.return,h,s),K.lanes|=h;break}X=X.next}}else if(k.tag===10)F=k.type===s.type?null:k.child;else if(k.tag===18){if(F=k.return,F===null)throw Error(r(341));F.lanes|=h,K=F.alternate,K!==null&&(K.lanes|=h),Pf(F,h,s),F=k.sibling}else F=k.child;if(F!==null)F.return=k;else for(F=k;F!==null;){if(F===s){F=null;break}if(k=F.sibling,k!==null){k.return=F.return,F=k;break}F=F.return}k=F}mr(a,s,C.children,h),s=s.child}return s;case 9:return C=s.type,m=s.pendingProps.children,hi(s,h),C=qr(C),m=m(C),s.flags|=1,mr(a,s,m,h),s.child;case 14:return m=s.type,C=en(m,s.pendingProps),C=en(m.type,C),mh(a,s,m,C,h);case 15:return wh(a,s,s.type,s.pendingProps,h);case 17:return m=s.type,C=s.pendingProps,C=s.elementType===m?C:en(m,C),pu(a,s),s.tag=1,kr(m)?(a=!0,Zs(s)):a=!1,hi(s,h),fh(s,m,C),Uf(s,m,C,h),Wf(null,s,m,!0,a,h);case 19:return Th(a,s,h);case 22:return xh(a,s,h)}throw Error(r(156,s.tag))};function Qh(a,s){return Ds(a,s)}function k1(a,s,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(a,s,h,m){return new k1(a,s,h,m)}function dc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function P1(a){if(typeof a=="function")return dc(a)?1:0;if(a!=null){if(a=a.$$typeof,a===A)return 11;if(a===z)return 14}return 2}function na(a,s){var h=a.alternate;return h===null?(h=Wr(a.tag,s,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=s,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,s=a.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Tu(a,s,h,m,C,k){var F=2;if(m=a,typeof a=="function")dc(a)&&(F=1);else if(typeof a=="string")F=5;else e:switch(a){case M:return Ra(h.children,C,k,s);case _:F=8,C|=8;break;case P:return a=Wr(12,h,s,C|2),a.elementType=P,a.lanes=k,a;case B:return a=Wr(13,h,s,C),a.elementType=B,a.lanes=k,a;case D:return a=Wr(19,h,s,C),a.elementType=D,a.lanes=k,a;case G:return _u(h,C,k,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:F=10;break e;case R:F=9;break e;case A:F=11;break e;case z:F=14;break e;case I:F=16,m=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return s=Wr(F,h,s,C),s.elementType=a,s.type=m,s.lanes=k,s}function Ra(a,s,h,m){return a=Wr(7,a,m,s),a.lanes=h,a}function _u(a,s,h,m){return a=Wr(22,a,m,s),a.elementType=G,a.lanes=h,a.stateNode={isHidden:!1},a}function vc(a,s,h){return a=Wr(6,a,null,s),a.lanes=h,a}function hc(a,s,h){return s=Wr(4,a.children!==null?a.children:[],a.key,s),s.lanes=h,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function T1(a,s,h,m,C){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=m,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function gc(a,s,h,m,C,k,F,K,X){return a=new T1(a,s,h,K,X),s===1?(s=1,k===!0&&(s|=8)):s=0,k=Wr(3,null,null,s),a.current=k,k.stateNode=a,k.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},_f(k),a}function _1(a,s,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:m==null?null:""+m,children:a,containerInfo:s,implementation:h}}function Zh(a){if(!a)return Xn;a=a._reactInternals;e:{if(bn(a)!==a||a.tag!==1)throw Error(r(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(kr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(a.tag===1){var h=a.type;if(kr(h))return Pv(a,h,s)}return s}function Jh(a,s,h,m,C,k,F,K,X){return a=gc(h,m,!0,a,C,k,F,K,X),a.context=Zh(null),h=a.current,m=wr(),C=ta(h),k=Tn(m,C),k.callback=s??null,Qn(h,k,C),a.current.lanes=C,to(a,C,m),_r(a,m),a}function Du(a,s,h,m){var C=s.current,k=wr(),F=ta(C);return h=Zh(h),s.context===null?s.context=h:s.pendingContext=h,s=Tn(k,F),s.payload={element:a},m=m===void 0?null:m,m!==null&&(s.callback=m),a=Qn(C,s,F),a!==null&&(nn(a,C,F,k),ou(a,C,F)),F}function Au(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function eg(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<s?h:s}}function pc(a,s){eg(a,s),(a=a.alternate)&&eg(a,s)}var tg=typeof reportError=="function"?reportError:function(a){console.error(a)};function yc(a){this._internalRoot=a}Bu.prototype.render=yc.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));Du(a,s,null,null)},Bu.prototype.unmount=yc.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Aa(function(){Du(null,a,null,null)}),s[En]=null}};function Bu(a){this._internalRoot=a}Bu.prototype.unstable_scheduleHydration=function(a){if(a){var s=zd();a={blockedOn:null,target:a,priority:s};for(var h=0;h<qn.length&&s!==0&&s<qn[h].priority;h++);qn.splice(h,0,a),h===0&&Gd(a)}};function mc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Lu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function rg(){}function D1(a,s,h,m,C){if(C){if(typeof m=="function"){var k=m;m=function(){var le=Au(F);k.call(le)}}var F=Jh(s,m,a,0,null,!1,!1,"",rg);return a._reactRootContainer=F,a[En]=F.current,po(a.nodeType===8?a.parentNode:a),Aa(),F}for(;C=a.lastChild;)a.removeChild(C);if(typeof m=="function"){var K=m;m=function(){var le=Au(X);K.call(le)}}var X=gc(a,0,!1,null,null,!1,!1,"",rg);return a._reactRootContainer=X,a[En]=X.current,po(a.nodeType===8?a.parentNode:a),Aa(function(){Du(s,X,h,m)}),X}function Ru(a,s,h,m,C){var k=h._reactRootContainer;if(k){var F=k;if(typeof C=="function"){var K=C;C=function(){var X=Au(F);K.call(X)}}Du(s,F,a,C)}else F=D1(h,s,a,C,m);return Au(F)}Od=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var h=eo(s.pendingLanes);h!==0&&(Gl(s,h|1),_r(s,mt()),!(tt&6)&&(wi=mt()+500,Yn()))}break;case 13:Aa(function(){var m=Pn(a,1);if(m!==null){var C=wr();nn(m,a,1,C)}}),pc(a,1)}},Ul=function(a){if(a.tag===13){var s=Pn(a,134217728);if(s!==null){var h=wr();nn(s,a,134217728,h)}pc(a,134217728)}},Id=function(a){if(a.tag===13){var s=ta(a),h=Pn(a,s);if(h!==null){var m=wr();nn(h,a,s,m)}pc(a,s)}},zd=function(){return lt},Fd=function(a,s){var h=lt;try{return lt=a,s()}finally{lt=h}},Fe=function(a,s,h){switch(s){case"input":if(Xe(a,h),s=h.name,h.type==="radio"&&s!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<h.length;s++){var m=h[s];if(m!==a&&m.form===a.form){var C=js(m);if(!C)throw Error(r(90));ce(m),Xe(m,C)}}}break;case"textarea":je(a,h);break;case"select":s=h.value,s!=null&&Oe(a,!!h.multiple,s,!1)}},At=lc,Bt=Aa;var A1={usingClientEntryPoint:!1,Events:[wo,oi,js,nr,Pt,lc]},Ro={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B1={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ts(a),a===null?null:a.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{sr=Mu.inject(B1),Vr=Mu}catch{}}return Dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A1,Dr.createPortal=function(a,s){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mc(s))throw Error(r(200));return _1(a,s,null,h)},Dr.createRoot=function(a,s){if(!mc(a))throw Error(r(299));var h=!1,m="",C=tg;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=gc(a,1,!1,null,null,h,!1,m,C),a[En]=s.current,po(a.nodeType===8?a.parentNode:a),new yc(s)},Dr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=Ts(s),a=a===null?null:a.stateNode,a},Dr.flushSync=function(a){return Aa(a)},Dr.hydrate=function(a,s,h){if(!Lu(s))throw Error(r(200));return Ru(null,a,s,!0,h)},Dr.hydrateRoot=function(a,s,h){if(!mc(a))throw Error(r(405));var m=h!=null&&h.hydratedSources||null,C=!1,k="",F=tg;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(k=h.identifierPrefix),h.onRecoverableError!==void 0&&(F=h.onRecoverableError)),s=Jh(s,null,a,1,h??null,C,!1,k,F),a[En]=s.current,po(a),m)for(a=0;a<m.length;a++)h=m[a],C=h._getVersion,C=C(h._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[h,C]:s.mutableSourceEagerHydrationData.push(h,C);return new Bu(s)},Dr.render=function(a,s,h){if(!Lu(s))throw Error(r(200));return Ru(null,a,s,!1,h)},Dr.unmountComponentAtNode=function(a){if(!Lu(a))throw Error(r(40));return a._reactRootContainer?(Aa(function(){Ru(null,null,a,!1,function(){a._reactRootContainer=null,a[En]=null})}),!0):!1},Dr.unstable_batchedUpdates=lc,Dr.unstable_renderSubtreeIntoContainer=function(a,s,h,m){if(!Lu(h))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Ru(a,s,h,!1,m)},Dr.version="18.3.1-next-f1338f8080-20240426",Dr}var fg;function V1(){if(fg)return bc.exports;fg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bc.exports=F1(),bc.exports}var cg;function G1(){if(cg)return Nu;cg=1;var t=V1();return Nu.createRoot=t.createRoot,Nu.hydrateRoot=t.hydrateRoot,Nu}var U1=G1();function Vt(t){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(t)}function ma(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wa(t,e,r){return e&&q1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xt(t,e){return $1(t)||K1(t,e)||od(t,e)||Y1()}function Qp(t){return H1(t)||W1(t)||od(t)||X1()}function H1(t){if(Array.isArray(t))return Gc(t)}function $1(t){if(Array.isArray(t))return t}function W1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K1(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,u,l;try{for(r=r.call(t);!(i=(u=r.next()).done)&&(n.push(u.value),!(e&&n.length===e));i=!0);}catch(f){o=!0,l=f}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw l}}return n}}function od(t,e){if(t){if(typeof t=="string")return Gc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gc(t,e)}}function Gc(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ir(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=od(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,u=!1,l;return{s:function(){r=r.call(t)},n:function(){var f=r.next();return o=f.done,f},e:function(f){u=!0,l=f},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(u)throw l}}}}var zt=typeof window>"u"?null:window,dg=zt?zt.navigator:null;zt&&zt.document;var j1=Vt(""),Zp=Vt({}),Q1=Vt(function(){}),Z1=typeof HTMLElement>"u"?"undefined":Vt(HTMLElement),ds=function(e){return e&&e.instanceString&&kt(e.instanceString)?e.instanceString():null},Ne=function(e){return e!=null&&Vt(e)==j1},kt=function(e){return e!=null&&Vt(e)===Q1},ct=function(e){return!zr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},nt=function(e){return e!=null&&Vt(e)===Zp&&!ct(e)&&e.constructor===Object},J1=function(e){return e!=null&&Vt(e)===Zp},Ee=function(e){return e!=null&&Vt(e)===Vt(1)&&!isNaN(e)},ew=function(e){return Ee(e)&&Math.floor(e)===e},ul=function(e){if(Z1!=="undefined")return e!=null&&e instanceof HTMLElement},zr=function(e){return vs(e)||Jp(e)},vs=function(e){return ds(e)==="collection"&&e._private.single},Jp=function(e){return ds(e)==="collection"&&!e._private.single},sd=function(e){return ds(e)==="core"},ey=function(e){return ds(e)==="stylesheet"},tw=function(e){return ds(e)==="event"},ca=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},rw=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},nw=function(e){return nt(e)&&Ee(e.x1)&&Ee(e.x2)&&Ee(e.y1)&&Ee(e.y2)},aw=function(e){return J1(e)&&kt(e.then)},iw=function(){return dg&&dg.userAgent.match(/msie|trident|edge/i)},ts=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],u=0;u<arguments.length;u++)o.push(arguments[u]);return o.join("$")});var n=function i(){var o=this,u=arguments,l,f=r.apply(o,u),c=i.cache;return(l=c[f])||(l=c[f]=e.apply(o,u)),l};return n.cache={},n},ud=ts(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),xl=ts(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),ty=ts(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),vg=function(e){return ca(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Ft="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",ow="rgb[a]?\\(("+Ft+"[%]?)\\s*,\\s*("+Ft+"[%]?)\\s*,\\s*("+Ft+"[%]?)(?:\\s*,\\s*("+Ft+"))?\\)",sw="rgb[a]?\\((?:"+Ft+"[%]?)\\s*,\\s*(?:"+Ft+"[%]?)\\s*,\\s*(?:"+Ft+"[%]?)(?:\\s*,\\s*(?:"+Ft+"))?\\)",uw="hsl[a]?\\(("+Ft+")\\s*,\\s*("+Ft+"[%])\\s*,\\s*("+Ft+"[%])(?:\\s*,\\s*("+Ft+"))?\\)",lw="hsl[a]?\\((?:"+Ft+")\\s*,\\s*(?:"+Ft+"[%])\\s*,\\s*(?:"+Ft+"[%])(?:\\s*,\\s*(?:"+Ft+"))?\\)",fw="\\#[0-9a-fA-F]{3}",cw="\\#[0-9a-fA-F]{6}",ry=function(e,r){return e<r?-1:e>r?1:0},dw=function(e,r){return-1*ry(e,r)},Ue=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),o=0;o<i.length;o++){var u=i[o];t[u]=n[u]}}return t},vw=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,o,u=16;return r?(n=parseInt(e[1]+e[1],u),i=parseInt(e[2]+e[2],u),o=parseInt(e[3]+e[3],u)):(n=parseInt(e[1]+e[2],u),i=parseInt(e[3]+e[4],u),o=parseInt(e[5]+e[6],u)),[n,i,o]}},hw=function(e){var r,n,i,o,u,l,f,c;function d(p,w,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?p+(w-p)*6*x:x<1/2?w:x<2/3?p+(w-p)*(2/3-x)*6:p}var v=new RegExp("^"+uw+"$").exec(e);if(v){if(n=parseInt(v[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(v[2]),i<0||i>100||(i=i/100,o=parseFloat(v[3]),o<0||o>100)||(o=o/100,u=v[4],u!==void 0&&(u=parseFloat(u),u<0||u>1)))return;if(i===0)l=f=c=Math.round(o*255);else{var g=o<.5?o*(1+i):o+i-o*i,y=2*o-g;l=Math.round(255*d(y,g,n+1/3)),f=Math.round(255*d(y,g,n)),c=Math.round(255*d(y,g,n-1/3))}r=[l,f,c,u]}return r},gw=function(e){var r,n=new RegExp("^"+ow+"$").exec(e);if(n){r=[];for(var i=[],o=1;o<=3;o++){var u=n[o];if(u[u.length-1]==="%"&&(i[o]=!0),u=parseFloat(u),i[o]&&(u=u/100*255),u<0||u>255)return;r.push(Math.floor(u))}var l=i[1]||i[2]||i[3],f=i[1]&&i[2]&&i[3];if(l&&!f)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;r.push(c)}}return r},pw=function(e){return yw[e.toLowerCase()]},ny=function(e){return(ct(e)?e:null)||pw(e)||vw(e)||gw(e)||hw(e)},yw={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ay=function(e){for(var r=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var u=n[o];if(nt(u))throw Error("Tried to set map with object key");o<n.length-1?(r[u]==null&&(r[u]={}),r=r[u]):r[u]=e.value}},iy=function(e){for(var r=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var u=n[o];if(nt(u))throw Error("Tried to get map with object key");if(r=r[u],r==null)return r}return r};function mw(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qa=mw,Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ww(t,e){return e={exports:{}},t(e,e.exports),e.exports}var xw=typeof Wo=="object"&&Wo&&Wo.Object===Object&&Wo,bw=xw,Ew=typeof self=="object"&&self&&self.Object===Object&&self,Sw=bw||Ew||Function("return this")(),bl=Sw,Cw=function(){return bl.Date.now()},Cc=Cw,kw=/\s/;function Pw(t){for(var e=t.length;e--&&kw.test(t.charAt(e)););return e}var Tw=Pw,_w=/^\s+/;function Dw(t){return t&&t.slice(0,Tw(t)+1).replace(_w,"")}var Aw=Dw,Bw=bl.Symbol,zi=Bw,oy=Object.prototype,Lw=oy.hasOwnProperty,Rw=oy.toString,No=zi?zi.toStringTag:void 0;function Mw(t){var e=Lw.call(t,No),r=t[No];try{t[No]=void 0;var n=!0}catch{}var i=Rw.call(t);return n&&(e?t[No]=r:delete t[No]),i}var Nw=Mw,Ow=Object.prototype,Iw=Ow.toString;function zw(t){return Iw.call(t)}var Fw=zw,Vw="[object Null]",Gw="[object Undefined]",hg=zi?zi.toStringTag:void 0;function Uw(t){return t==null?t===void 0?Gw:Vw:hg&&hg in Object(t)?Nw(t):Fw(t)}var sy=Uw;function qw(t){return t!=null&&typeof t=="object"}var Hw=qw,$w="[object Symbol]";function Ww(t){return typeof t=="symbol"||Hw(t)&&sy(t)==$w}var hs=Ww,gg=NaN,Kw=/^[-+]0x[0-9a-f]+$/i,Xw=/^0b[01]+$/i,Yw=/^0o[0-7]+$/i,jw=parseInt;function Qw(t){if(typeof t=="number")return t;if(hs(t))return gg;if(qa(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qa(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Aw(t);var r=Xw.test(t);return r||Yw.test(t)?jw(t.slice(2),r?2:8):Kw.test(t)?gg:+t}var pg=Qw,Zw="Expected a function",Jw=Math.max,ex=Math.min;function tx(t,e,r){var n,i,o,u,l,f,c=0,d=!1,v=!1,g=!0;if(typeof t!="function")throw new TypeError(Zw);e=pg(e)||0,qa(r)&&(d=!!r.leading,v="maxWait"in r,o=v?Jw(pg(r.maxWait)||0,e):o,g="trailing"in r?!!r.trailing:g);function y(L){var M=n,_=i;return n=i=void 0,c=L,u=t.apply(_,M),u}function p(L){return c=L,l=setTimeout(E,e),d?y(L):u}function w(L){var M=L-f,_=L-c,P=e-M;return v?ex(P,o-_):P}function x(L){var M=L-f,_=L-c;return f===void 0||M>=e||M<0||v&&_>=o}function E(){var L=Cc();if(x(L))return b(L);l=setTimeout(E,w(L))}function b(L){return l=void 0,g&&n?y(L):(n=i=void 0,u)}function S(){l!==void 0&&clearTimeout(l),c=0,n=f=i=l=void 0}function T(){return l===void 0?u:b(Cc())}function O(){var L=Cc(),M=x(L);if(n=arguments,i=this,f=L,M){if(l===void 0)return p(f);if(v)return clearTimeout(l),l=setTimeout(E,e),y(f)}return l===void 0&&(l=setTimeout(E,e)),u}return O.cancel=S,O.flush=T,O}var gs=tx,kc=zt?zt.performance:null,uy=kc&&kc.now?function(){return kc.now()}:function(){return Date.now()},rx=function(){if(zt){if(zt.requestAnimationFrame)return function(t){zt.requestAnimationFrame(t)};if(zt.mozRequestAnimationFrame)return function(t){zt.mozRequestAnimationFrame(t)};if(zt.webkitRequestAnimationFrame)return function(t){zt.webkitRequestAnimationFrame(t)};if(zt.msRequestAnimationFrame)return function(t){zt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(uy())},1e3/60)}}(),ll=function(e){return rx(e)},Ln=uy,Bi=9261,ly=65599,Ko=5381,fy=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bi,n=r,i;i=e.next(),!i.done;)n=n*ly+i.value|0;return n},rs=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bi;return r*ly+e|0},ns=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ko;return(r<<5)+r+e|0},nx=function(e,r){return e*2097152+r},ia=function(e){return e[0]*2097152+e[1]},Ou=function(e,r){return[rs(e[0],r[0]),ns(e[1],r[1])]},ax=function(e,r){var n={value:0,done:!1},i=0,o=e.length,u={next:function(){return i<o?n.value=e[i++]:n.done=!0,n}};return fy(u,r)},da=function(e,r){var n={value:0,done:!1},i=0,o=e.length,u={next:function(){return i<o?n.value=e.charCodeAt(i++):n.done=!0,n}};return fy(u,r)},cy=function(){return ix(arguments)},ix=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=da(i):r=da(i,r)}return r},yg=!0,ox=console.warn!=null,sx=console.trace!=null,ld=Number.MAX_SAFE_INTEGER||9007199254740991,dy=function(){return!0},fl=function(){return!1},mg=function(){return 0},fd=function(){},Ct=function(e){throw new Error(e)},vy=function(e){if(e!==void 0)yg=!!e;else return yg},ut=function(e){vy()&&(ox?console.warn(e):(console.log(e),sx&&console.trace()))},ux=function(e){return Ue({},e)},pn=function(e){return e==null?e:ct(e)?e.slice():nt(e)?ux(e):e},lx=function(e){return e.slice()},hy=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},fx={},gy=function(){return fx},Yt=function(e){var r=Object.keys(e);return function(n){for(var i={},o=0;o<r.length;o++){var u=r[o],l=n==null?void 0:n[u];i[u]=l===void 0?e[u]:l}return i}},va=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},cd=function(e){e.splice(0,e.length)},cx=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},on=function(e,r,n){return n&&(r=ty(n,r)),e[r]},sa=function(e,r,n,i){n&&(r=ty(n,r)),e[r]=i},dx=function(){function t(){ma(this,t),this._obj={}}return wa(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),yn=typeof Map<"u"?Map:dx,vx="undefined",hx=function(){function t(e){if(ma(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return wa(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),Ui=(typeof Set>"u"?"undefined":Vt(Set))!==vx?Set:hx,El=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!sd(e)){Ct("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Ct("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new Ui,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),r.renderedPosition){var u=r.renderedPosition,l=e.pan(),f=e.zoom();o.position={x:(u.x-l.x)/f,y:(u.y-l.y)/f}}var c=[];ct(r.classes)?c=r.classes:Ne(r.classes)&&(c=r.classes.split(/\s+/));for(var d=0,v=c.length;d<v;d++){var g=c[d];!g||g===""||o.classes.add(g)}this.createEmitter();var y=r.style||r.css;y&&(ut("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(y)),(n===void 0||n)&&this.restore()},wg=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,o){var u;nt(n)&&!zr(n)&&(u=n,n=u.roots||u.root,i=u.visit,o=u.directed),o=arguments.length===2&&!kt(i)?i:o,i=kt(i)?i:function(){};for(var l=this._private.cy,f=n=Ne(n)?this.filter(n):n,c=[],d=[],v={},g={},y={},p=0,w,x=this.byGroup(),E=x.nodes,b=x.edges,S=0;S<f.length;S++){var T=f[S],O=T.id();T.isNode()&&(c.unshift(T),e.bfs&&(y[O]=!0,d.push(T)),g[O]=0)}for(var L=function(){var B=e.bfs?c.shift():c.pop(),D=B.id();if(e.dfs){if(y[D])return"continue";y[D]=!0,d.push(B)}var z=g[D],I=v[D],G=I!=null?I.source():null,U=I!=null?I.target():null,q=I==null?void 0:B.same(G)?U[0]:G[0],$=void 0;if($=i(B,I,q,p++,z),$===!0)return w=B,"break";if($===!1)return"break";for(var V=B.connectedEdges().filter(function(re){return(!o||re.source().same(B))&&b.has(re)}),W=0;W<V.length;W++){var ee=V[W],J=ee.connectedNodes().filter(function(re){return!re.same(B)&&E.has(re)}),te=J.id();J.length!==0&&!y[te]&&(J=J[0],c.push(J),e.bfs&&(y[te]=!0,d.push(J)),v[te]=ee,g[te]=g[D]+1)}};c.length!==0;){var M=L();if(M!=="continue"&&M==="break")break}for(var _=l.collection(),P=0;P<d.length;P++){var N=d[P],R=v[N.id()];R!=null&&_.push(R),_.push(N)}return{path:l.collection(_),found:l.collection(w)}}},as={breadthFirstSearch:wg({bfs:!0}),depthFirstSearch:wg({dfs:!0})};as.bfs=as.breadthFirstSearch;as.dfs=as.depthFirstSearch;var gx=ww(function(t,e){(function(){var r,n,i,o,u,l,f,c,d,v,g,y,p,w,x;i=Math.floor,v=Math.min,n=function(E,b){return E<b?-1:E>b?1:0},d=function(E,b,S,T,O){var L;if(S==null&&(S=0),O==null&&(O=n),S<0)throw new Error("lo must be non-negative");for(T==null&&(T=E.length);S<T;)L=i((S+T)/2),O(b,E[L])<0?T=L:S=L+1;return[].splice.apply(E,[S,S-S].concat(b)),b},l=function(E,b,S){return S==null&&(S=n),E.push(b),w(E,0,E.length-1,S)},u=function(E,b){var S,T;return b==null&&(b=n),S=E.pop(),E.length?(T=E[0],E[0]=S,x(E,0,b)):T=S,T},c=function(E,b,S){var T;return S==null&&(S=n),T=E[0],E[0]=b,x(E,0,S),T},f=function(E,b,S){var T;return S==null&&(S=n),E.length&&S(E[0],b)<0&&(T=[E[0],b],b=T[0],E[0]=T[1],x(E,0,S)),b},o=function(E,b){var S,T,O,L,M,_;for(b==null&&(b=n),L=(function(){_=[];for(var P=0,N=i(E.length/2);0<=N?P<N:P>N;0<=N?P++:P--)_.push(P);return _}).apply(this).reverse(),M=[],T=0,O=L.length;T<O;T++)S=L[T],M.push(x(E,S,b));return M},p=function(E,b,S){var T;if(S==null&&(S=n),T=E.indexOf(b),T!==-1)return w(E,0,T,S),x(E,T,S)},g=function(E,b,S){var T,O,L,M,_;if(S==null&&(S=n),O=E.slice(0,b),!O.length)return O;for(o(O,S),_=E.slice(b),L=0,M=_.length;L<M;L++)T=_[L],f(O,T,S);return O.sort(S).reverse()},y=function(E,b,S){var T,O,L,M,_,P,N,R,A;if(S==null&&(S=n),b*10<=E.length){if(L=E.slice(0,b).sort(S),!L.length)return L;for(O=L[L.length-1],N=E.slice(b),M=0,P=N.length;M<P;M++)T=N[M],S(T,O)<0&&(d(L,T,0,null,S),L.pop(),O=L[L.length-1]);return L}for(o(E,S),A=[],_=0,R=v(b,E.length);0<=R?_<R:_>R;0<=R?++_:--_)A.push(u(E,S));return A},w=function(E,b,S,T){var O,L,M;for(T==null&&(T=n),O=E[S];S>b;){if(M=S-1>>1,L=E[M],T(O,L)<0){E[S]=L,S=M;continue}break}return E[S]=O},x=function(E,b,S){var T,O,L,M,_;for(S==null&&(S=n),O=E.length,_=b,L=E[b],T=2*b+1;T<O;)M=T+1,M<O&&!(S(E[T],E[M])<0)&&(T=M),E[b]=E[T],b=T,T=2*b+1;return E[b]=L,w(E,_,b,S)},r=function(){E.push=l,E.pop=u,E.replace=c,E.pushpop=f,E.heapify=o,E.updateItem=p,E.nlargest=g,E.nsmallest=y;function E(b){this.cmp=b??n,this.nodes=[]}return E.prototype.push=function(b){return l(this.nodes,b,this.cmp)},E.prototype.pop=function(){return u(this.nodes,this.cmp)},E.prototype.peek=function(){return this.nodes[0]},E.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},E.prototype.replace=function(b){return c(this.nodes,b,this.cmp)},E.prototype.pushpop=function(b){return f(this.nodes,b,this.cmp)},E.prototype.heapify=function(){return o(this.nodes,this.cmp)},E.prototype.updateItem=function(b){return p(this.nodes,b,this.cmp)},E.prototype.clear=function(){return this.nodes=[]},E.prototype.empty=function(){return this.nodes.length===0},E.prototype.size=function(){return this.nodes.length},E.prototype.clone=function(){var b;return b=new E,b.nodes=this.nodes.slice(0),b},E.prototype.toArray=function(){return this.nodes.slice(0)},E.prototype.insert=E.prototype.push,E.prototype.top=E.prototype.peek,E.prototype.front=E.prototype.peek,E.prototype.has=E.prototype.contains,E.prototype.copy=E.prototype.clone,E}(),function(E,b){return t.exports=b()}(this,function(){return r})}).call(Wo)}),ps=gx,px=Yt({root:null,weight:function(e){return 1},directed:!1}),yx={dijkstra:function(e){if(!nt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=px(e),i=n.root,o=n.weight,u=n.directed,l=this,f=o,c=Ne(i)?this.filter(i)[0]:i[0],d={},v={},g={},y=this.byGroup(),p=y.nodes,w=y.edges;w.unmergeBy(function(z){return z.isLoop()});for(var x=function(I){return d[I.id()]},E=function(I,G){d[I.id()]=G,b.updateItem(I)},b=new ps(function(z,I){return x(z)-x(I)}),S=0;S<p.length;S++){var T=p[S];d[T.id()]=T.same(c)?0:1/0,b.push(T)}for(var O=function(I,G){for(var U=(u?I.edgesTo(G):I.edgesWith(G)).intersect(w),q=1/0,$,V=0;V<U.length;V++){var W=U[V],ee=f(W);(ee<q||!$)&&(q=ee,$=W)}return{edge:$,dist:q}};b.size()>0;){var L=b.pop(),M=x(L),_=L.id();if(g[_]=M,M!==1/0)for(var P=L.neighborhood().intersect(p),N=0;N<P.length;N++){var R=P[N],A=R.id(),B=O(L,R),D=M+B.dist;D<x(R)&&(E(R,D),v[A]={node:L,edge:B.edge})}}return{distanceTo:function(I){var G=Ne(I)?p.filter(I)[0]:I[0];return g[G.id()]},pathTo:function(I){var G=Ne(I)?p.filter(I)[0]:I[0],U=[],q=G,$=q.id();if(G.length>0)for(U.unshift(G);v[$];){var V=v[$];U.unshift(V.edge),U.unshift(V.node),q=V.node,$=q.id()}return l.spawn(U)}}}},mx={kruskal:function(e){e=e||function(S){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,o=n.length,u=new Array(o),l=n,f=function(T){for(var O=0;O<u.length;O++){var L=u[O];if(L.has(T))return O}},c=0;c<o;c++)u[c]=this.spawn(n[c]);for(var d=i.sort(function(S,T){return e(S)-e(T)}),v=0;v<d.length;v++){var g=d[v],y=g.source()[0],p=g.target()[0],w=f(y),x=f(p),E=u[w],b=u[x];w!==x&&(l.merge(g),E.merge(b),u.splice(x,1))}return l}},wx=Yt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),xx={aStar:function(e){var r=this.cy(),n=wx(e),i=n.root,o=n.goal,u=n.heuristic,l=n.directed,f=n.weight;i=r.collection(i)[0],o=r.collection(o)[0];var c=i.id(),d=o.id(),v={},g={},y={},p=new ps(function($,V){return g[$.id()]-g[V.id()]}),w=new Ui,x={},E={},b=function(V,W){p.push(V),w.add(W)},S,T,O=function(){S=p.pop(),T=S.id(),w.delete(T)},L=function(V){return w.has(V)};b(i,c),v[c]=0,g[c]=u(i);for(var M=0;p.size()>0;){if(O(),M++,T===d){for(var _=[],P=o,N=d,R=E[N];_.unshift(P),R!=null&&_.unshift(R),P=x[N],P!=null;)N=P.id(),R=E[N];return{found:!0,distance:v[T],path:this.spawn(_),steps:M}}y[T]=!0;for(var A=S._private.edges,B=0;B<A.length;B++){var D=A[B];if(this.hasElementWithId(D.id())&&!(l&&D.data("source")!==T)){var z=D.source(),I=D.target(),G=z.id()!==T?z:I,U=G.id();if(this.hasElementWithId(U)&&!y[U]){var q=v[T]+f(D);if(!L(U)){v[U]=q,g[U]=q+u(G),b(G,U),x[U]=S,E[U]=D;continue}q<v[U]&&(v[U]=q,g[U]=q+u(G),x[U]=S,E[U]=D)}}}}return{found:!1,distance:void 0,path:void 0,steps:M}}},bx=Yt({weight:function(e){return 1},directed:!1}),Ex={floydWarshall:function(e){for(var r=this.cy(),n=bx(e),i=n.weight,o=n.directed,u=i,l=this.byGroup(),f=l.nodes,c=l.edges,d=f.length,v=d*d,g=function(ee){return f.indexOf(ee)},y=function(ee){return f[ee]},p=new Array(v),w=0;w<v;w++){var x=w%d,E=(w-x)/d;E===x?p[w]=0:p[w]=1/0}for(var b=new Array(v),S=new Array(v),T=0;T<c.length;T++){var O=c[T],L=O.source()[0],M=O.target()[0];if(L!==M){var _=g(L),P=g(M),N=_*d+P,R=u(O);if(p[N]>R&&(p[N]=R,b[N]=P,S[N]=O),!o){var A=P*d+_;!o&&p[A]>R&&(p[A]=R,b[A]=_,S[A]=O)}}}for(var B=0;B<d;B++)for(var D=0;D<d;D++)for(var z=D*d+B,I=0;I<d;I++){var G=D*d+I,U=B*d+I;p[z]+p[U]<p[G]&&(p[G]=p[z]+p[U],b[G]=b[z])}var q=function(ee){return(Ne(ee)?r.filter(ee):ee)[0]},$=function(ee){return g(q(ee))},V={distance:function(ee,J){var te=$(ee),re=$(J);return p[te*d+re]},path:function(ee,J){var te=$(ee),re=$(J),fe=y(te);if(te===re)return fe.collection();if(b[te*d+re]==null)return r.collection();var ue=r.collection(),Y=te,j;for(ue.merge(fe);te!==re;)Y=te,te=b[te*d+re],j=S[Y*d+te],ue.merge(j),ue.merge(y(te));return ue}};return V}},Sx=Yt({weight:function(e){return 1},directed:!1,root:null}),Cx={bellmanFord:function(e){var r=this,n=Sx(e),i=n.weight,o=n.directed,u=n.root,l=i,f=this,c=this.cy(),d=this.byGroup(),v=d.edges,g=d.nodes,y=g.length,p=new yn,w=!1,x=[];u=c.collection(u)[0],v.unmergeBy(function(Xe){return Xe.isLoop()});for(var E=v.length,b=function(ke){var Se=p.get(ke.id());return Se||(Se={},p.set(ke.id(),Se)),Se},S=function(ke){return(Ne(ke)?c.$(ke):ke)[0]},T=function(ke){return b(S(ke)).dist},O=function(ke){for(var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,Me=S(ke),Oe=[],Ie=Me;;){if(Ie==null)return r.spawn();var qe=b(Ie),je=qe.edge,Qe=qe.pred;if(Oe.unshift(Ie[0]),Ie.same(Se)&&Oe.length>0)break;je!=null&&Oe.unshift(je),Ie=Qe}return f.spawn(Oe)},L=0;L<y;L++){var M=g[L],_=b(M);M.same(u)?_.dist=0:_.dist=1/0,_.pred=null,_.edge=null}for(var P=!1,N=function(ke,Se,Me,Oe,Ie,qe){var je=Oe.dist+qe;je<Ie.dist&&!Me.same(Oe.edge)&&(Ie.dist=je,Ie.pred=ke,Ie.edge=Me,P=!0)},R=1;R<y;R++){P=!1;for(var A=0;A<E;A++){var B=v[A],D=B.source(),z=B.target(),I=l(B),G=b(D),U=b(z);N(D,z,B,G,U,I),o||N(z,D,B,U,G,I)}if(!P)break}if(P)for(var q=[],$=0;$<E;$++){var V=v[$],W=V.source(),ee=V.target(),J=l(V),te=b(W).dist,re=b(ee).dist;if(te+J<re||!o&&re+J<te)if(w||(ut("Graph contains a negative weight cycle for Bellman-Ford"),w=!0),e.findNegativeWeightCycles!==!1){var fe=[];te+J<re&&fe.push(W),!o&&re+J<te&&fe.push(ee);for(var ue=fe.length,Y=0;Y<ue;Y++){var j=fe[Y],Q=[j];Q.push(b(j).edge);for(var ce=b(j).pred;Q.indexOf(ce)===-1;)Q.push(ce),Q.push(b(ce).edge),ce=b(ce).pred;Q=Q.slice(Q.indexOf(ce));for(var he=Q[0].id(),me=0,Le=2;Le<Q.length;Le+=2)Q[Le].id()<he&&(he=Q[Le].id(),me=Le);Q=Q.slice(me).concat(Q.slice(0,me)),Q.push(Q[0]);var $e=Q.map(function(Xe){return Xe.id()}).join(",");q.indexOf($e)===-1&&(x.push(f.spawn(Q)),q.push($e))}}else break}return{distanceTo:T,pathTo:O,hasNegativeWeightCycle:w,negativeWeightCycles:x}}},kx=Math.sqrt(2),Px=function(e,r,n){n.length===0&&Ct("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],o=i[1],u=i[2],l=r[o],f=r[u],c=n,d=c.length-1;d>=0;d--){var v=c[d],g=v[1],y=v[2];(r[g]===l&&r[y]===f||r[g]===f&&r[y]===l)&&c.splice(d,1)}for(var p=0;p<c.length;p++){var w=c[p];w[1]===f?(c[p]=w.slice(),c[p][1]=l):w[2]===f&&(c[p]=w.slice(),c[p][2]=l)}for(var x=0;x<r.length;x++)r[x]===f&&(r[x]=l);return c},Pc=function(e,r,n,i){for(;n>i;){var o=Math.floor(Math.random()*r.length);r=Px(o,e,r),n--}return r},Tx={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(U){return U.isLoop()});var o=n.length,u=i.length,l=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),f=Math.floor(o/kx);if(o<2){Ct("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],d=0;d<u;d++){var v=i[d];c.push([d,n.indexOf(v.source()),n.indexOf(v.target())])}for(var g=1/0,y=[],p=new Array(o),w=new Array(o),x=new Array(o),E=function(q,$){for(var V=0;V<o;V++)$[V]=q[V]},b=0;b<=l;b++){for(var S=0;S<o;S++)w[S]=S;var T=Pc(w,c.slice(),o,f),O=T.slice();E(w,x);var L=Pc(w,T,f,2),M=Pc(x,O,f,2);L.length<=M.length&&L.length<g?(g=L.length,y=L,E(w,p)):M.length<=L.length&&M.length<g&&(g=M.length,y=M,E(x,p))}for(var _=this.spawn(y.map(function(U){return i[U[0]]})),P=this.spawn(),N=this.spawn(),R=p[0],A=0;A<p.length;A++){var B=p[A],D=n[A];B===R?P.merge(D):N.merge(D)}var z=function(q){var $=e.spawn();return q.forEach(function(V){$.merge(V),V.connectedEdges().forEach(function(W){e.contains(W)&&!_.contains(W)&&$.merge(W)})}),$},I=[z(P),z(N)],G={cut:_,components:I,partition1:P,partition2:N};return G}},_x=function(e){return{x:e.x,y:e.y}},Sl=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},py=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Li=function(e){return{x:e[0],y:e[1]}},Dx=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=r;o<n;o++){var u=e[o];isFinite(u)&&(i=Math.min(u,i))}return i},Ax=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=r;o<n;o++){var u=e[o];isFinite(u)&&(i=Math.max(u,i))}return i},Bx=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,u=r;u<n;u++){var l=e[u];isFinite(l)&&(i+=l,o++)}return i/o},Lx=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var l=0,f=e.length-1;f>=0;f--){var c=e[f];u?isFinite(c)||(e[f]=-1/0,l++):e.splice(f,1)}o&&e.sort(function(g,y){return g-y});var d=e.length,v=Math.floor(d/2);return d%2!==0?e[v+1+l]:(e[v-1+l]+e[v+l])/2},Rx=function(e){return Math.PI*e/180},Iu=function(e,r){return Math.atan2(r,e)-Math.PI/2},dd=Math.log2||function(t){return Math.log(t)/Math.log(2)},yy=function(e){return e>0?1:e<0?-1:0},Ha=function(e,r){return Math.sqrt(za(e,r))},za=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},Mx=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var o=0;o<r;o++)e[o]=e[o]/n;return e},Kt=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},Mi=function(e,r,n,i){return{x:Kt(e.x,r.x,n.x,i),y:Kt(e.y,r.y,n.y,i)}},Nx=function(e,r,n,i){var o={x:r.x-e.x,y:r.y-e.y},u=Ha(e,r),l={x:o.x/u,y:o.y/u};return n=n??0,i=i??n*u,{x:e.x+l.x*i,y:e.y+l.y*i}},is=function(e,r,n){return Math.max(e,Math.min(n,r))},Br=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Ox=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Ix=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},zx=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},my=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Fx=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Zu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Ju=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,o,u;if(r.length===1)n=i=o=u=r[0];else if(r.length===2)n=o=r[0],u=i=r[1];else if(r.length===4){var l=Xt(r,4);n=l[0],i=l[1],o=l[2],u=l[3]}return e.x1-=u,e.x2+=i,e.y1-=n,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},xg=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},vd=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Fi=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Vx=function(e,r){return Fi(e,r.x,r.y)},wy=function(e,r){return Fi(e,r.x1,r.y1)&&Fi(e,r.x2,r.y2)},xy=function(e,r,n,i,o,u,l){var f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=f==="auto"?$a(o,u):f,d=o/2,v=u/2;c=Math.min(c,d,v);var g=c!==d,y=c!==v,p;if(g){var w=n-d+c-l,x=i-v-l,E=n+d-c+l,b=x;if(p=ua(e,r,n,i,w,x,E,b,!1),p.length>0)return p}if(y){var S=n+d+l,T=i-v+c-l,O=S,L=i+v-c+l;if(p=ua(e,r,n,i,S,T,O,L,!1),p.length>0)return p}if(g){var M=n-d+c-l,_=i+v+l,P=n+d-c+l,N=_;if(p=ua(e,r,n,i,M,_,P,N,!1),p.length>0)return p}if(y){var R=n-d-l,A=i-v+c-l,B=R,D=i+v-c+l;if(p=ua(e,r,n,i,R,A,B,D,!1),p.length>0)return p}var z;{var I=n-d+c,G=i-v+c;if(z=Xo(e,r,n,i,I,G,c+l),z.length>0&&z[0]<=I&&z[1]<=G)return[z[0],z[1]]}{var U=n+d-c,q=i-v+c;if(z=Xo(e,r,n,i,U,q,c+l),z.length>0&&z[0]>=U&&z[1]<=q)return[z[0],z[1]]}{var $=n+d-c,V=i+v-c;if(z=Xo(e,r,n,i,$,V,c+l),z.length>0&&z[0]>=$&&z[1]>=V)return[z[0],z[1]]}{var W=n-d+c,ee=i+v-c;if(z=Xo(e,r,n,i,W,ee,c+l),z.length>0&&z[0]<=W&&z[1]>=ee)return[z[0],z[1]]}return[]},Gx=function(e,r,n,i,o,u,l){var f=l,c=Math.min(n,o),d=Math.max(n,o),v=Math.min(i,u),g=Math.max(i,u);return c-f<=e&&e<=d+f&&v-f<=r&&r<=g+f},Ux=function(e,r,n,i,o,u,l,f,c){var d={x1:Math.min(n,l,o)-c,x2:Math.max(n,l,o)+c,y1:Math.min(i,f,u)-c,y2:Math.max(i,f,u)+c};return!(e<d.x1||e>d.x2||r<d.y1||r>d.y2)},qx=function(e,r,n,i){n-=i;var o=r*r-4*e*n;if(o<0)return[];var u=Math.sqrt(o),l=2*e,f=(-r+u)/l,c=(-r-u)/l;return[f,c]},Hx=function(e,r,n,i,o){var u=1e-5;e===0&&(e=u),r/=e,n/=e,i/=e;var l,f,c,d,v,g,y,p;if(f=(3*n-r*r)/9,c=-(27*i)+r*(9*n-2*(r*r)),c/=54,l=f*f*f+c*c,o[1]=0,y=r/3,l>0){v=c+Math.sqrt(l),v=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),g=c-Math.sqrt(l),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),o[0]=-y+v+g,y+=(v+g)/2,o[4]=o[2]=-y,y=Math.sqrt(3)*(-g+v)/2,o[3]=y,o[5]=-y;return}if(o[5]=o[3]=0,l===0){p=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),o[0]=-y+2*p,o[4]=o[2]=-(p+y);return}f=-f,d=f*f*f,d=Math.acos(c/Math.sqrt(d)),p=2*Math.sqrt(f),o[0]=-y+p*Math.cos(d/3),o[2]=-y+p*Math.cos((d+2*Math.PI)/3),o[4]=-y+p*Math.cos((d+4*Math.PI)/3)},$x=function(e,r,n,i,o,u,l,f){var c=1*n*n-4*n*o+2*n*l+4*o*o-4*o*l+l*l+i*i-4*i*u+2*i*f+4*u*u-4*u*f+f*f,d=1*9*n*o-3*n*n-3*n*l-6*o*o+3*o*l+9*i*u-3*i*i-3*i*f-6*u*u+3*u*f,v=1*3*n*n-6*n*o+n*l-n*e+2*o*o+2*o*e-l*e+3*i*i-6*i*u+i*f-i*r+2*u*u+2*u*r-f*r,g=1*n*o-n*n+n*e-o*e+i*u-i*i+i*r-u*r,y=[];Hx(c,d,v,g,y);for(var p=1e-7,w=[],x=0;x<6;x+=2)Math.abs(y[x+1])<p&&y[x]>=0&&y[x]<=1&&w.push(y[x]);w.push(1),w.push(0);for(var E=-1,b,S,T,O=0;O<w.length;O++)b=Math.pow(1-w[O],2)*n+2*(1-w[O])*w[O]*o+w[O]*w[O]*l,S=Math.pow(1-w[O],2)*i+2*(1-w[O])*w[O]*u+w[O]*w[O]*f,T=Math.pow(b-e,2)+Math.pow(S-r,2),E>=0?T<E&&(E=T):E=T;return E},Wx=function(e,r,n,i,o,u){var l=[e-n,r-i],f=[o-n,u-i],c=f[0]*f[0]+f[1]*f[1],d=l[0]*l[0]+l[1]*l[1],v=l[0]*f[0]+l[1]*f[1],g=v*v/c;return v<0?d:g>c?(e-o)*(e-o)+(r-u)*(r-u):d-g},Ar=function(e,r,n){for(var i,o,u,l,f,c=0,d=0;d<n.length/2;d++)if(i=n[d*2],o=n[d*2+1],d+1<n.length/2?(u=n[(d+1)*2],l=n[(d+1)*2+1]):(u=n[(d+1-n.length/2)*2],l=n[(d+1-n.length/2)*2+1]),!(i==e&&u==e))if(i>=e&&e>=u||i<=e&&e<=u)f=(e-i)/(u-i)*(l-o)+o,f>r&&c++;else continue;return c%2!==0},Rn=function(e,r,n,i,o,u,l,f,c){var d=new Array(n.length),v;f[0]!=null?(v=Math.atan(f[1]/f[0]),f[0]<0?v=v+Math.PI/2:v=-v-Math.PI/2):v=f;for(var g=Math.cos(-v),y=Math.sin(-v),p=0;p<d.length/2;p++)d[p*2]=u/2*(n[p*2]*g-n[p*2+1]*y),d[p*2+1]=l/2*(n[p*2+1]*g+n[p*2]*y),d[p*2]+=i,d[p*2+1]+=o;var w;if(c>0){var x=dl(d,-c);w=cl(x)}else w=d;return Ar(e,r,w)},Kx=function(e,r,n,i,o,u,l,f){for(var c=new Array(n.length*2),d=0;d<f.length;d++){var v=f[d];c[d*4+0]=v.startX,c[d*4+1]=v.startY,c[d*4+2]=v.stopX,c[d*4+3]=v.stopY;var g=Math.pow(v.cx-e,2)+Math.pow(v.cy-r,2);if(g<=Math.pow(v.radius,2))return!0}return Ar(e,r,c)},cl=function(e){for(var r=new Array(e.length/2),n,i,o,u,l,f,c,d,v=0;v<e.length/4;v++){n=e[v*4],i=e[v*4+1],o=e[v*4+2],u=e[v*4+3],v<e.length/4-1?(l=e[(v+1)*4],f=e[(v+1)*4+1],c=e[(v+1)*4+2],d=e[(v+1)*4+3]):(l=e[0],f=e[1],c=e[2],d=e[3]);var g=ua(n,i,o,u,l,f,c,d,!0);r[v*2]=g[0],r[v*2+1]=g[1]}return r},dl=function(e,r){for(var n=new Array(e.length*2),i,o,u,l,f=0;f<e.length/2;f++){i=e[f*2],o=e[f*2+1],f<e.length/2-1?(u=e[(f+1)*2],l=e[(f+1)*2+1]):(u=e[0],l=e[1]);var c=l-o,d=-(u-i),v=Math.sqrt(c*c+d*d),g=c/v,y=d/v;n[f*4]=i+g*r,n[f*4+1]=o+y*r,n[f*4+2]=u+g*r,n[f*4+3]=l+y*r}return n},Xx=function(e,r,n,i,o,u){var l=n-e,f=i-r;l/=o,f/=u;var c=Math.sqrt(l*l+f*f),d=c-1;if(d<0)return[];var v=d/c;return[(n-e)*v+e,(i-r)*v+r]},Ua=function(e,r,n,i,o,u,l){return e-=o,r-=u,e/=n/2+l,r/=i/2+l,e*e+r*r<=1},Xo=function(e,r,n,i,o,u,l){var f=[n-e,i-r],c=[e-o,r-u],d=f[0]*f[0]+f[1]*f[1],v=2*(c[0]*f[0]+c[1]*f[1]),g=c[0]*c[0]+c[1]*c[1]-l*l,y=v*v-4*d*g;if(y<0)return[];var p=(-v+Math.sqrt(y))/(2*d),w=(-v-Math.sqrt(y))/(2*d),x=Math.min(p,w),E=Math.max(p,w),b=[];if(x>=0&&x<=1&&b.push(x),E>=0&&E<=1&&b.push(E),b.length===0)return[];var S=b[0]*f[0]+e,T=b[0]*f[1]+r;if(b.length>1){if(b[0]==b[1])return[S,T];var O=b[1]*f[0]+e,L=b[1]*f[1]+r;return[S,T,O,L]}else return[S,T]},Tc=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},ua=function(e,r,n,i,o,u,l,f,c){var d=e-o,v=n-e,g=l-o,y=r-u,p=i-r,w=f-u,x=g*y-w*d,E=v*y-p*d,b=w*v-g*p;if(b!==0){var S=x/b,T=E/b,O=.001,L=0-O,M=1+O;return L<=S&&S<=M&&L<=T&&T<=M?[e+S*v,r+S*p]:c?[e+S*v,r+S*p]:[]}else return x===0||E===0?Tc(e,n,l)===l?[l,f]:Tc(e,n,o)===o?[o,u]:Tc(o,l,n)===n?[n,i]:[]:[]},os=function(e,r,n,i,o,u,l,f){var c=[],d,v=new Array(n.length),g=!0;u==null&&(g=!1);var y;if(g){for(var p=0;p<v.length/2;p++)v[p*2]=n[p*2]*u+i,v[p*2+1]=n[p*2+1]*l+o;if(f>0){var w=dl(v,-f);y=cl(w)}else y=v}else y=n;for(var x,E,b,S,T=0;T<y.length/2;T++)x=y[T*2],E=y[T*2+1],T<y.length/2-1?(b=y[(T+1)*2],S=y[(T+1)*2+1]):(b=y[0],S=y[1]),d=ua(e,r,i,o,x,E,b,S),d.length!==0&&c.push(d[0],d[1]);return c},Yx=function(e,r,n,i,o,u,l,f,c){var d=[],v,g=new Array(n.length*2);c.forEach(function(b,S){S===0?(g[g.length-2]=b.startX,g[g.length-1]=b.startY):(g[S*4-2]=b.startX,g[S*4-1]=b.startY),g[S*4]=b.stopX,g[S*4+1]=b.stopY,v=Xo(e,r,i,o,b.cx,b.cy,b.radius),v.length!==0&&d.push(v[0],v[1])});for(var y=0;y<g.length/4;y++)v=ua(e,r,i,o,g[y*4],g[y*4+1],g[y*4+2],g[y*4+3],!1),v.length!==0&&d.push(v[0],v[1]);if(d.length>2){for(var p=[d[0],d[1]],w=Math.pow(p[0]-e,2)+Math.pow(p[1]-r,2),x=1;x<d.length/2;x++){var E=Math.pow(d[x*2]-e,2)+Math.pow(d[x*2+1]-r,2);E<=w&&(p[0]=d[x*2],p[1]=d[x*2+1],w=E)}return p}return d},zu=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),u=(o-n)/o;return u<0&&(u=1e-5),[r[0]+u*i[0],r[1]+u*i[1]]},br=function(e,r){var n=Uc(e,r);return n=by(n),n},by=function(e){for(var r,n,i=e.length/2,o=1/0,u=1/0,l=-1/0,f=-1/0,c=0;c<i;c++)r=e[2*c],n=e[2*c+1],o=Math.min(o,r),l=Math.max(l,r),u=Math.min(u,n),f=Math.max(f,n);for(var d=2/(l-o),v=2/(f-u),g=0;g<i;g++)r=e[2*g]=e[2*g]*d,n=e[2*g+1]=e[2*g+1]*v,o=Math.min(o,r),l=Math.max(l,r),u=Math.min(u,n),f=Math.max(f,n);if(u<-1)for(var y=0;y<i;y++)n=e[2*y+1]=e[2*y+1]+(-1-u);return e},Uc=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var o=new Array(e*2),u,l=0;l<e;l++)u=l*n+i,o[2*l]=Math.cos(u),o[2*l+1]=Math.sin(-u);return o},$a=function(e,r){return Math.min(e/4,r/4,8)},Ey=function(e,r){return Math.min(e/10,r/10,8)},hd=function(){return 8},jx=function(e,r,n){return[e-2*r+n,2*(r-e),e]},qc=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Qx=Yt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Zx={pageRank:function(e){for(var r=Qx(e),n=r.dampingFactor,i=r.precision,o=r.iterations,u=r.weight,l=this._private.cy,f=this.byGroup(),c=f.nodes,d=f.edges,v=c.length,g=v*v,y=d.length,p=new Array(g),w=new Array(v),x=(1-n)/v,E=0;E<v;E++){for(var b=0;b<v;b++){var S=E*v+b;p[S]=0}w[E]=0}for(var T=0;T<y;T++){var O=d[T],L=O.data("source"),M=O.data("target");if(L!==M){var _=c.indexOfId(L),P=c.indexOfId(M),N=u(O),R=P*v+_;p[R]+=N,w[_]+=N}}for(var A=1/v+x,B=0;B<v;B++)if(w[B]===0)for(var D=0;D<v;D++){var z=D*v+B;p[z]=A}else for(var I=0;I<v;I++){var G=I*v+B;p[G]=p[G]/w[B]+x}for(var U=new Array(v),q=new Array(v),$,V=0;V<v;V++)U[V]=1;for(var W=0;W<o;W++){for(var ee=0;ee<v;ee++)q[ee]=0;for(var J=0;J<v;J++)for(var te=0;te<v;te++){var re=J*v+te;q[J]+=p[re]*U[te]}Mx(q),$=U,U=q,q=$;for(var fe=0,ue=0;ue<v;ue++){var Y=$[ue]-U[ue];fe+=Y*Y}if(fe<i)break}var j={rank:function(ce){return ce=l.collection(ce)[0],U[c.indexOf(ce)]}};return j}},bg=Yt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ni={degreeCentralityNormalized:function(e){e=bg(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var d={},v={},g=0,y=0,p=0;p<i;p++){var w=n[p],x=w.id();e.root=w;var E=this.degreeCentrality(e);g<E.indegree&&(g=E.indegree),y<E.outdegree&&(y=E.outdegree),d[x]=E.indegree,v[x]=E.outdegree}return{indegree:function(S){return g==0?0:(Ne(S)&&(S=r.filter(S)),d[S.id()]/g)},outdegree:function(S){return y===0?0:(Ne(S)&&(S=r.filter(S)),v[S.id()]/y)}}}else{for(var o={},u=0,l=0;l<i;l++){var f=n[l];e.root=f;var c=this.degreeCentrality(e);u<c.degree&&(u=c.degree),o[f.id()]=c.degree}return{degree:function(S){return u===0?0:(Ne(S)&&(S=r.filter(S)),o[S.id()]/u)}}}},degreeCentrality:function(e){e=bg(e);var r=this.cy(),n=this,i=e,o=i.root,u=i.weight,l=i.directed,f=i.alpha;if(o=r.collection(o)[0],l){for(var y=o.connectedEdges(),p=y.filter(function(L){return L.target().same(o)&&n.has(L)}),w=y.filter(function(L){return L.source().same(o)&&n.has(L)}),x=p.length,E=w.length,b=0,S=0,T=0;T<p.length;T++)b+=u(p[T]);for(var O=0;O<w.length;O++)S+=u(w[O]);return{indegree:Math.pow(x,1-f)*Math.pow(b,f),outdegree:Math.pow(E,1-f)*Math.pow(S,f)}}else{for(var c=o.connectedEdges().intersection(n),d=c.length,v=0,g=0;g<c.length;g++)v+=u(c[g]);return{degree:Math.pow(d,1-f)*Math.pow(v,f)}}}};Ni.dc=Ni.degreeCentrality;Ni.dcn=Ni.degreeCentralityNormalised=Ni.degreeCentralityNormalized;var Eg=Yt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Oi={closenessCentralityNormalized:function(e){for(var r=Eg(e),n=r.harmonic,i=r.weight,o=r.directed,u=this.cy(),l={},f=0,c=this.nodes(),d=this.floydWarshall({weight:i,directed:o}),v=0;v<c.length;v++){for(var g=0,y=c[v],p=0;p<c.length;p++)if(v!==p){var w=d.distance(y,c[p]);n?g+=1/w:g+=w}n||(g=1/g),f<g&&(f=g),l[y.id()]=g}return{closeness:function(E){return f==0?0:(Ne(E)?E=u.filter(E)[0].id():E=E.id(),l[E]/f)}}},closenessCentrality:function(e){var r=Eg(e),n=r.root,i=r.weight,o=r.directed,u=r.harmonic;n=this.filter(n)[0];for(var l=this.dijkstra({root:n,weight:i,directed:o}),f=0,c=this.nodes(),d=0;d<c.length;d++){var v=c[d];if(!v.same(n)){var g=l.distanceTo(v);u?f+=1/g:f+=g}}return u?f:1/f}};Oi.cc=Oi.closenessCentrality;Oi.ccn=Oi.closenessCentralityNormalised=Oi.closenessCentralityNormalized;var Jx=Yt({weight:null,directed:!1}),Hc={betweennessCentrality:function(e){for(var r=Jx(e),n=r.directed,i=r.weight,o=i!=null,u=this.cy(),l=this.nodes(),f={},c={},d=0,v={set:function(S,T){c[S]=T,T>d&&(d=T)},get:function(S){return c[S]}},g=0;g<l.length;g++){var y=l[g],p=y.id();n?f[p]=y.outgoers().nodes():f[p]=y.openNeighborhood().nodes(),v.set(p,0)}for(var w=function(S){for(var T=l[S].id(),O=[],L={},M={},_={},P=new ps(function(te,re){return _[te]-_[re]}),N=0;N<l.length;N++){var R=l[N].id();L[R]=[],M[R]=0,_[R]=1/0}for(M[T]=1,_[T]=0,P.push(T);!P.empty();){var A=P.pop();if(O.push(A),o)for(var B=0;B<f[A].length;B++){var D=f[A][B],z=u.getElementById(A),I=void 0;z.edgesTo(D).length>0?I=z.edgesTo(D)[0]:I=D.edgesTo(z)[0];var G=i(I);D=D.id(),_[D]>_[A]+G&&(_[D]=_[A]+G,P.nodes.indexOf(D)<0?P.push(D):P.updateItem(D),M[D]=0,L[D]=[]),_[D]==_[A]+G&&(M[D]=M[D]+M[A],L[D].push(A))}else for(var U=0;U<f[A].length;U++){var q=f[A][U].id();_[q]==1/0&&(P.push(q),_[q]=_[A]+1),_[q]==_[A]+1&&(M[q]=M[q]+M[A],L[q].push(A))}}for(var $={},V=0;V<l.length;V++)$[l[V].id()]=0;for(;O.length>0;){for(var W=O.pop(),ee=0;ee<L[W].length;ee++){var J=L[W][ee];$[J]=$[J]+M[J]/M[W]*(1+$[W])}W!=l[S].id()&&v.set(W,v.get(W)+$[W])}},x=0;x<l.length;x++)w(x);var E={betweenness:function(S){var T=u.collection(S).id();return v.get(T)},betweennessNormalized:function(S){if(d==0)return 0;var T=u.collection(S).id();return v.get(T)/d}};return E.betweennessNormalised=E.betweennessNormalized,E}};Hc.bc=Hc.betweennessCentrality;var eb=Yt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),tb=function(e){return eb(e)},rb=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},nb=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},Sy=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var o=0;o<r;o++)n+=e[o*r+i];for(var u=0;u<r;u++)e[u*r+i]=e[u*r+i]/n}},ab=function(e,r,n){for(var i=new Array(n*n),o=0;o<n;o++){for(var u=0;u<n;u++)i[o*n+u]=0;for(var l=0;l<n;l++)for(var f=0;f<n;f++)i[o*n+f]+=e[o*n+l]*r[l*n+f]}return i},ib=function(e,r,n){for(var i=e.slice(0),o=1;o<n;o++)e=ab(e,i,r);return e},ob=function(e,r,n){for(var i=new Array(r*r),o=0;o<r*r;o++)i[o]=Math.pow(e[o],n);return Sy(i,r),i},sb=function(e,r,n,i){for(var o=0;o<n;o++){var u=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),l=Math.round(r[o]*Math.pow(10,i))/Math.pow(10,i);if(u!==l)return!1}return!0},ub=function(e,r,n,i){for(var o=[],u=0;u<r;u++){for(var l=[],f=0;f<r;f++)Math.round(e[u*r+f]*1e3)/1e3>0&&l.push(n[f]);l.length!==0&&o.push(i.collection(l))}return o},lb=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},fb=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&lb(e[r],e[n])&&e.splice(n,1);return e},Sg=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),o=tb(e),u={},l=0;l<r.length;l++)u[r[l].id()]=l;for(var f=r.length,c=f*f,d=new Array(c),v,g=0;g<c;g++)d[g]=0;for(var y=0;y<n.length;y++){var p=n[y],w=u[p.source().id()],x=u[p.target().id()],E=rb(p,o.attributes);d[w*f+x]+=E,d[x*f+w]+=E}nb(d,f,o.multFactor),Sy(d,f);for(var b=!0,S=0;b&&S<o.maxIterations;)b=!1,v=ib(d,f,o.expandFactor),d=ob(v,f,o.inflateFactor),sb(d,v,c,4)||(b=!0),S++;var T=ub(d,f,r,i);return T=fb(T),T},cb={markovClustering:Sg,mcl:Sg},db=function(e){return e},Cy=function(e,r){return Math.abs(r-e)},Cg=function(e,r,n){return e+Cy(r,n)},kg=function(e,r,n){return e+Math.pow(n-r,2)},vb=function(e){return Math.sqrt(e)},hb=function(e,r,n){return Math.max(e,Cy(r,n))},Oo=function(e,r,n,i,o){for(var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:db,l=i,f,c,d=0;d<e;d++)f=r(d),c=n(d),l=o(l,f,c);return u(l)},Vi={euclidean:function(e,r,n){return e>=2?Oo(e,r,n,0,kg,vb):Oo(e,r,n,0,Cg)},squaredEuclidean:function(e,r,n){return Oo(e,r,n,0,kg)},manhattan:function(e,r,n){return Oo(e,r,n,0,Cg)},max:function(e,r,n){return Oo(e,r,n,-1/0,hb)}};Vi["squared-euclidean"]=Vi.squaredEuclidean;Vi.squaredeuclidean=Vi.squaredEuclidean;function Cl(t,e,r,n,i,o){var u;return kt(t)?u=t:u=Vi[t]||Vi.euclidean,e===0&&kt(t)?u(i,o):u(e,r,n,i,o)}var gb=Yt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),gd=function(e){return gb(e)},vl=function(e,r,n,i,o){var u=o!=="kMedoids",l=u?function(v){return n[v]}:function(v){return i[v](n)},f=function(g){return i[g](r)},c=n,d=r;return Cl(e,i.length,l,f,c,d)},_c=function(e,r,n){for(var i=n.length,o=new Array(i),u=new Array(i),l=new Array(r),f=null,c=0;c<i;c++)o[c]=e.min(n[c]).value,u[c]=e.max(n[c]).value;for(var d=0;d<r;d++){f=[];for(var v=0;v<i;v++)f[v]=Math.random()*(u[v]-o[v])+o[v];l[d]=f}return l},ky=function(e,r,n,i,o){for(var u=1/0,l=0,f=0;f<r.length;f++){var c=vl(n,e,r[f],i,o);c<u&&(u=c,l=f)}return l},Py=function(e,r,n){for(var i=[],o=null,u=0;u<r.length;u++)o=r[u],n[o.id()]===e&&i.push(o);return i},pb=function(e,r,n){return Math.abs(r-e)<=n},yb=function(e,r,n){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var u=Math.abs(e[i][o]-r[i][o]);if(u>n)return!1}return!0},mb=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},Pg=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var o=e[Math.floor(Math.random()*e.length)];mb(o,n,i);)o=e[Math.floor(Math.random()*e.length)];n[i]=o}else for(var u=0;u<r;u++)n[u]=e[Math.floor(Math.random()*e.length)];return n},Tg=function(e,r,n){for(var i=0,o=0;o<r.length;o++)i+=vl("manhattan",r[o],e,n,"kMedoids");return i},wb=function(e){var r=this.cy(),n=this.nodes(),i=null,o=gd(e),u=new Array(o.k),l={},f;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,f=_c(n,o.k,o.attributes)):Vt(o.testCentroids)==="object"?f=o.testCentroids:f=_c(n,o.k,o.attributes):f=_c(n,o.k,o.attributes);for(var c=!0,d=0;c&&d<o.maxIterations;){for(var v=0;v<n.length;v++)i=n[v],l[i.id()]=ky(i,f,o.distance,o.attributes,"kMeans");c=!1;for(var g=0;g<o.k;g++){var y=Py(g,n,l);if(y.length!==0){for(var p=o.attributes.length,w=f[g],x=new Array(p),E=new Array(p),b=0;b<p;b++){E[b]=0;for(var S=0;S<y.length;S++)i=y[S],E[b]+=o.attributes[b](i);x[b]=E[b]/y.length,pb(x[b],w[b],o.sensitivityThreshold)||(c=!0)}f[g]=x,u[g]=r.collection(y)}}d++}return u},xb=function(e){var r=this.cy(),n=this.nodes(),i=null,o=gd(e),u=new Array(o.k),l,f={},c,d=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(Vt(o.testCentroids)==="object"?l=o.testCentroids:l=Pg(n,o.k)):l=Pg(n,o.k);for(var v=!0,g=0;v&&g<o.maxIterations;){for(var y=0;y<n.length;y++)i=n[y],f[i.id()]=ky(i,l,o.distance,o.attributes,"kMedoids");v=!1;for(var p=0;p<l.length;p++){var w=Py(p,n,f);if(w.length!==0){d[p]=Tg(l[p],w,o.attributes);for(var x=0;x<w.length;x++)c=Tg(w[x],w,o.attributes),c<d[p]&&(d[p]=c,l[p]=w[x],v=!0);u[p]=r.collection(w)}}g++}return u},bb=function(e,r,n,i,o){for(var u,l,f=0;f<r.length;f++)for(var c=0;c<e.length;c++)i[f][c]=Math.pow(n[f][c],o.m);for(var d=0;d<e.length;d++)for(var v=0;v<o.attributes.length;v++){u=0,l=0;for(var g=0;g<r.length;g++)u+=i[g][d]*o.attributes[v](r[g]),l+=i[g][d];e[d][v]=u/l}},Eb=function(e,r,n,i,o){for(var u=0;u<e.length;u++)r[u]=e[u].slice();for(var l,f,c,d=2/(o.m-1),v=0;v<n.length;v++)for(var g=0;g<i.length;g++){l=0;for(var y=0;y<n.length;y++)f=vl(o.distance,i[g],n[v],o.attributes,"cmeans"),c=vl(o.distance,i[g],n[y],o.attributes,"cmeans"),l+=Math.pow(f/c,d);e[g][v]=1/l}},Sb=function(e,r,n,i){for(var o=new Array(n.k),u=0;u<o.length;u++)o[u]=[];for(var l,f,c=0;c<r.length;c++){l=-1/0,f=-1;for(var d=0;d<r[0].length;d++)r[c][d]>l&&(l=r[c][d],f=d);o[f].push(e[c])}for(var v=0;v<o.length;v++)o[v]=i.collection(o[v]);return o},_g=function(e){var r=this.cy(),n=this.nodes(),i=gd(e),o,u,l,f,c;f=new Array(n.length);for(var d=0;d<n.length;d++)f[d]=new Array(i.k);l=new Array(n.length);for(var v=0;v<n.length;v++)l[v]=new Array(i.k);for(var g=0;g<n.length;g++){for(var y=0,p=0;p<i.k;p++)l[g][p]=Math.random(),y+=l[g][p];for(var w=0;w<i.k;w++)l[g][w]=l[g][w]/y}u=new Array(i.k);for(var x=0;x<i.k;x++)u[x]=new Array(i.attributes.length);c=new Array(n.length);for(var E=0;E<n.length;E++)c[E]=new Array(i.k);for(var b=!0,S=0;b&&S<i.maxIterations;)b=!1,bb(u,n,l,c,i),Eb(l,f,u,n,i),yb(l,f,i.sensitivityThreshold)||(b=!0),S++;return o=Sb(n,l,i,r),{clusters:o,degreeOfMembership:l}},Cb={kMeans:wb,kMedoids:xb,fuzzyCMeans:_g,fcm:_g},kb=Yt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Pb={single:"min",complete:"max"},Tb=function(e){var r=kb(e),n=Pb[r.linkage];return n!=null&&(r.linkage=n),r},Dg=function(e,r,n,i,o){for(var u=0,l=1/0,f,c=o.attributes,d=function(P,N){return Cl(o.distance,c.length,function(R){return c[R](P)},function(R){return c[R](N)},P,N)},v=0;v<e.length;v++){var g=e[v].key,y=n[g][i[g]];y<l&&(u=g,l=y)}if(o.mode==="threshold"&&l>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var p=r[u],w=r[i[u]],x;o.mode==="dendrogram"?x={left:p,right:w,key:p.key}:x={value:p.value.concat(w.value),key:p.key},e[p.index]=x,e.splice(w.index,1),r[p.key]=x;for(var E=0;E<e.length;E++){var b=e[E];p.key===b.key?f=1/0:o.linkage==="min"?(f=n[p.key][b.key],n[p.key][b.key]>n[w.key][b.key]&&(f=n[w.key][b.key])):o.linkage==="max"?(f=n[p.key][b.key],n[p.key][b.key]<n[w.key][b.key]&&(f=n[w.key][b.key])):o.linkage==="mean"?f=(n[p.key][b.key]*p.size+n[w.key][b.key]*w.size)/(p.size+w.size):o.mode==="dendrogram"?f=d(b.value,p.value):f=d(b.value[0],p.value[0]),n[p.key][b.key]=n[b.key][p.key]=f}for(var S=0;S<e.length;S++){var T=e[S].key;if(i[T]===p.key||i[T]===w.key){for(var O=T,L=0;L<e.length;L++){var M=e[L].key;n[T][M]<n[T][O]&&(O=M)}i[T]=O}e[S].index=S}return p.key=w.key=p.index=w.index=null,!0},Fu=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},_b=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),o=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:o.id()}}),r.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},Db=function t(e,r,n){if(!e)return[];var i=[],o=[],u=[];return r===0?(e.left&&Fu(e.left,i),e.right&&Fu(e.right,o),u=i.concat(o),[n.collection(u)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Fu(e.left,i),e.right&&Fu(e.right,o),[n.collection(i),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(o=t(e.right,r-1,n)),i.concat(o))},Ag=function(e){for(var r=this.cy(),n=this.nodes(),i=Tb(e),o=i.attributes,u=function(S,T){return Cl(i.distance,o.length,function(O){return o[O](S)},function(O){return o[O](T)},S,T)},l=[],f=[],c=[],d=[],v=0;v<n.length;v++){var g={value:i.mode==="dendrogram"?n[v]:[n[v]],key:v,index:v};l[v]=g,d[v]=g,f[v]=[],c[v]=0}for(var y=0;y<l.length;y++)for(var p=0;p<=y;p++){var w=void 0;i.mode==="dendrogram"?w=y===p?1/0:u(l[y].value,l[p].value):w=y===p?1/0:u(l[y].value[0],l[p].value[0]),f[y][p]=w,f[p][y]=w,w<f[y][c[y]]&&(c[y]=p)}for(var x=Dg(l,d,f,c,i);x;)x=Dg(l,d,f,c,i);var E;return i.mode==="dendrogram"?(E=Db(l[0],i.dendrogramDepth,r),i.addDendrogram&&_b(l[0],r)):(E=new Array(l.length),l.forEach(function(b,S){b.key=b.index=null,E[S]=r.collection(b.value)})),E},Ab={hierarchicalClustering:Ag,hca:Ag},Bb=Yt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Lb=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Ct("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(o){return o===n})||Ee(n)||Ct("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Bb(e)},Rb=function(e,r,n,i){var o=function(l,f){return i[f](l)};return-Cl(e,i.length,function(u){return o(r,u)},function(u){return o(n,u)},r,n)},Mb=function(e,r){var n=null;return r==="median"?n=Lx(e):r==="mean"?n=Bx(e):r==="min"?n=Dx(e):r==="max"?n=Ax(e):n=r,n},Nb=function(e,r,n){for(var i=[],o=0;o<e;o++)r[o*e+o]+n[o*e+o]>0&&i.push(o);return i},Bg=function(e,r,n){for(var i=[],o=0;o<e;o++){for(var u=-1,l=-1/0,f=0;f<n.length;f++){var c=n[f];r[o*e+c]>l&&(u=c,l=r[o*e+c])}u>0&&i.push(u)}for(var d=0;d<n.length;d++)i[n[d]]=n[d];return i},Ob=function(e,r,n){for(var i=Bg(e,r,n),o=0;o<n.length;o++){for(var u=[],l=0;l<i.length;l++)i[l]===n[o]&&u.push(l);for(var f=-1,c=-1/0,d=0;d<u.length;d++){for(var v=0,g=0;g<u.length;g++)v+=r[u[g]*e+u[d]];v>c&&(f=d,c=v)}n[o]=u[f]}return i=Bg(e,r,n),i},Lg=function(e){for(var r=this.cy(),n=this.nodes(),i=Lb(e),o={},u=0;u<n.length;u++)o[n[u].id()]=u;var l,f,c,d,v,g;l=n.length,f=l*l,c=new Array(f);for(var y=0;y<f;y++)c[y]=-1/0;for(var p=0;p<l;p++)for(var w=0;w<l;w++)p!==w&&(c[p*l+w]=Rb(i.distance,n[p],n[w],i.attributes));d=Mb(c,i.preference);for(var x=0;x<l;x++)c[x*l+x]=d;v=new Array(f);for(var E=0;E<f;E++)v[E]=0;g=new Array(f);for(var b=0;b<f;b++)g[b]=0;for(var S=new Array(l),T=new Array(l),O=new Array(l),L=0;L<l;L++)S[L]=0,T[L]=0,O[L]=0;for(var M=new Array(l*i.minIterations),_=0;_<M.length;_++)M[_]=0;var P;for(P=0;P<i.maxIterations;P++){for(var N=0;N<l;N++){for(var R=-1/0,A=-1/0,B=-1,D=0,z=0;z<l;z++)S[z]=v[N*l+z],D=g[N*l+z]+c[N*l+z],D>=R?(A=R,R=D,B=z):D>A&&(A=D);for(var I=0;I<l;I++)v[N*l+I]=(1-i.damping)*(c[N*l+I]-R)+i.damping*S[I];v[N*l+B]=(1-i.damping)*(c[N*l+B]-A)+i.damping*S[B]}for(var G=0;G<l;G++){for(var U=0,q=0;q<l;q++)S[q]=g[q*l+G],T[q]=Math.max(0,v[q*l+G]),U+=T[q];U-=T[G],T[G]=v[G*l+G],U+=T[G];for(var $=0;$<l;$++)g[$*l+G]=(1-i.damping)*Math.min(0,U-T[$])+i.damping*S[$];g[G*l+G]=(1-i.damping)*(U-T[G])+i.damping*S[G]}for(var V=0,W=0;W<l;W++){var ee=g[W*l+W]+v[W*l+W]>0?1:0;M[P%i.minIterations*l+W]=ee,V+=ee}if(V>0&&(P>=i.minIterations-1||P==i.maxIterations-1)){for(var J=0,te=0;te<l;te++){O[te]=0;for(var re=0;re<i.minIterations;re++)O[te]+=M[re*l+te];(O[te]===0||O[te]===i.minIterations)&&J++}if(J===l)break}}for(var fe=Nb(l,v,g),ue=Ob(l,c,fe),Y={},j=0;j<fe.length;j++)Y[fe[j]]=[];for(var Q=0;Q<n.length;Q++){var ce=o[n[Q].id()],he=ue[ce];he!=null&&Y[he].push(n[Q])}for(var me=new Array(fe.length),Le=0;Le<fe.length;Le++)me[Le]=r.collection(Y[fe[Le]]);return me},Ib={affinityPropagation:Lg,ap:Lg},zb=Yt({root:void 0,directed:!1}),Fb={hierholzer:function(e){if(!nt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=zb(e),i=n.root,o=n.directed,u=this,l=!1,f,c,d;i&&(d=Ne(i)?this.filter(i)[0].id():i[0].id());var v={},g={};o?u.forEach(function(b){var S=b.id();if(b.isNode()){var T=b.indegree(!0),O=b.outdegree(!0),L=T-O,M=O-T;L==1?f?l=!0:f=S:M==1?c?l=!0:c=S:(M>1||L>1)&&(l=!0),v[S]=[],b.outgoers().forEach(function(_){_.isEdge()&&v[S].push(_.id())})}else g[S]=[void 0,b.target().id()]}):u.forEach(function(b){var S=b.id();if(b.isNode()){var T=b.degree(!0);T%2&&(f?c?l=!0:c=S:f=S),v[S]=[],b.connectedEdges().forEach(function(O){return v[S].push(O.id())})}else g[S]=[b.source().id(),b.target().id()]});var y={found:!1,trail:void 0};if(l)return y;if(c&&f)if(o){if(d&&c!=d)return y;d=c}else{if(d&&c!=d&&f!=d)return y;d||(d=c)}else d||(d=u[0].id());var p=function(S){for(var T=S,O=[S],L,M,_;v[T].length;)L=v[T].shift(),M=g[L][0],_=g[L][1],T!=_?(v[_]=v[_].filter(function(P){return P!=L}),T=_):!o&&T!=M&&(v[M]=v[M].filter(function(P){return P!=L}),T=M),O.unshift(L),O.unshift(T);return O},w=[],x=[];for(x=p(d);x.length!=1;)v[x[0]].length==0?(w.unshift(u.getElementById(x.shift())),w.unshift(u.getElementById(x.shift()))):x=p(x.shift()).concat(x);w.unshift(u.getElementById(x.shift()));for(var E in v)if(v[E].length)return y;return y.found=!0,y.trail=this.spawn(w,!0),y}},Vu=function(){var e=this,r={},n=0,i=0,o=[],u=[],l={},f=function(g,y){for(var p=u.length-1,w=[],x=e.spawn();u[p].x!=g||u[p].y!=y;)w.push(u.pop().edge),p--;w.push(u.pop().edge),w.forEach(function(E){var b=E.connectedNodes().intersection(e);x.merge(E),b.forEach(function(S){var T=S.id(),O=S.connectedEdges().intersection(e);x.merge(S),r[T].cutVertex?x.merge(O.filter(function(L){return L.isLoop()})):x.merge(O)})}),o.push(x)},c=function v(g,y,p){g===p&&(i+=1),r[y]={id:n,low:n++,cutVertex:!1};var w=e.getElementById(y).connectedEdges().intersection(e);if(w.size()===0)o.push(e.spawn(e.getElementById(y)));else{var x,E,b,S;w.forEach(function(T){x=T.source().id(),E=T.target().id(),b=x===y?E:x,b!==p&&(S=T.id(),l[S]||(l[S]=!0,u.push({x:y,y:b,edge:T})),b in r?r[y].low=Math.min(r[y].low,r[b].id):(v(g,b,y),r[y].low=Math.min(r[y].low,r[b].low),r[y].id<=r[b].low&&(r[y].cutVertex=!0,f(y,b))))})}};e.forEach(function(v){if(v.isNode()){var g=v.id();g in r||(i=0,c(g,g),r[g].cutVertex=i>1)}});var d=Object.keys(r).filter(function(v){return r[v].cutVertex}).map(function(v){return e.getElementById(v)});return{cut:e.spawn(d),components:o}},Vb={hopcroftTarjanBiconnected:Vu,htbc:Vu,htb:Vu,hopcroftTarjanBiconnectedComponents:Vu},Gu=function(){var e=this,r={},n=0,i=[],o=[],u=e.spawn(e),l=function f(c){o.push(c),r[c]={index:n,low:n++,explored:!1};var d=e.getElementById(c).connectedEdges().intersection(e);if(d.forEach(function(w){var x=w.target().id();x!==c&&(x in r||f(x),r[x].explored||(r[c].low=Math.min(r[c].low,r[x].low)))}),r[c].index===r[c].low){for(var v=e.spawn();;){var g=o.pop();if(v.merge(e.getElementById(g)),r[g].low=r[c].index,r[g].explored=!0,g===c)break}var y=v.edgesWith(v),p=v.merge(y);i.push(p),u=u.difference(p)}};return e.forEach(function(f){if(f.isNode()){var c=f.id();c in r||l(c)}}),{cut:u,components:i}},Gb={tarjanStronglyConnected:Gu,tsc:Gu,tscc:Gu,tarjanStronglyConnectedComponents:Gu},Ty={};[as,yx,mx,xx,Ex,Cx,Tx,Zx,Ni,Oi,Hc,cb,Cb,Ab,Ib,Fb,Vb,Gb].forEach(function(t){Ue(Ty,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var _y=0,Dy=1,Ay=2,Mn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=_y,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Mn.prototype={fulfill:function(e){return Rg(this,Dy,"fulfillValue",e)},reject:function(e){return Rg(this,Ay,"rejectReason",e)},then:function(e,r){var n=this,i=new Mn;return n.onFulfilled.push(Ng(e,i,"fulfill")),n.onRejected.push(Ng(r,i,"reject")),By(n),i.proxy}};var Rg=function(e,r,n,i){return e.state===_y&&(e.state=r,e[n]=i,By(e)),e},By=function(e){e.state===Dy?Mg(e,"onFulfilled",e.fulfillValue):e.state===Ay&&Mg(e,"onRejected",e.rejectReason)},Mg=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var o=function(){for(var l=0;l<i.length;l++)i[l](n)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},Ng=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var o;try{o=e(i)}catch(u){r.reject(u);return}Ub(r,o)}}},Ub=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Vt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(o){e.reject(o);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(o){i||(i=!0,o===r?e.reject(new TypeError("circular thenable chain")):t(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(r)};Mn.all=function(t){return new Mn(function(e,r){for(var n=new Array(t.length),i=0,o=function(f,c){n[f]=c,i++,i===t.length&&e(n)},u=0;u<t.length;u++)(function(l){var f=t[l],c=f!=null&&f.then!=null;if(c)f.then(function(v){o(l,v)},function(v){r(v)});else{var d=f;o(l,d)}})(u)})};Mn.resolve=function(t){return new Mn(function(e,r){e(t)})};Mn.reject=function(t){return new Mn(function(e,r){r(t)})};var qi=typeof Promise<"u"?Promise:Mn,$c=function(e,r,n){var i=sd(e),o=!i,u=this._private=Ue({duration:1e3},r,n);if(u.target=e,u.style=u.style||u.css,u.started=!1,u.playing=!1,u.hooked=!1,u.applying=!1,u.progress=0,u.completes=[],u.frames=[],u.complete&&kt(u.complete)&&u.completes.push(u.complete),o){var l=e.position();u.startPosition=u.startPosition||{x:l.x,y:l.y},u.startStyle=u.startStyle||e.cy().style().getAnimationStartStyle(e,u.style)}if(i){var f=e.pan();u.startPan={x:f.x,y:f.y},u.startZoom=e.zoom()}this.length=1,this[0]=this},Wa=$c.prototype;Ue(Wa,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),zr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(c,d){var v=e[c];v!=null&&(e[c]=e[d],e[d]=v)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],u=o.name,l=e.startStyle[u];e.startStyle[u]=o,e.style[i]=l}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new qi(function(i,o){n.push(function(){i()})})}});Wa.complete=Wa.completed;Wa.run=Wa.play;Wa.running=Wa.playing;var qb={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return!1;var u=i[0];if(u)return u._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var u=0;u<i.length;u++){var l=i[u];l._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,o=i.length!==void 0,u=o?i:[i],l=this._private.cy||this,f=!o,c=!f;if(!l.styleEnabled())return this;var d=l.style();r=Ue({},r,n);var v=Object.keys(r).length===0;if(v)return new $c(u[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(c&&(r.style=d.getPropsList(r.style||r.css),r.css=void 0),c&&r.renderedPosition!=null){var g=r.renderedPosition,y=l.pan(),p=l.zoom();r.position=py(g,p,y)}if(f&&r.panBy!=null){var w=r.panBy,x=l.pan();r.pan={x:x.x+w.x,y:x.y+w.y}}var E=r.center||r.centre;if(f&&E!=null){var b=l.getCenterPan(E.eles,r.zoom);b!=null&&(r.pan=b)}if(f&&r.fit!=null){var S=r.fit,T=l.getFitViewport(S.eles||S.boundingBox,S.padding);T!=null&&(r.pan=T.pan,r.zoom=T.zoom)}if(f&&nt(r.zoom)){var O=l.getZoomedViewport(r.zoom);O!=null?(O.zoomed&&(r.zoom=O.zoom),O.panned&&(r.pan=O.pan)):r.zoom=null}return new $c(u[0],r)}},animate:function(){return function(r,n){var i=this,o=i.length!==void 0,u=o?i:[i],l=this._private.cy||this;if(!l.styleEnabled())return this;n&&(r=Ue({},r,n));for(var f=0;f<u.length;f++){var c=u[f],d=c.animated()&&(r.queue===void 0||r.queue),v=c.animation(r,d?{queue:!0}:void 0);v.play()}return this}},stop:function(){return function(r,n){var i=this,o=i.length!==void 0,u=o?i:[i],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var f=0;f<u.length;f++){for(var c=u[f],d=c._private,v=d.animation.current,g=0;g<v.length;g++){var y=v[g],p=y._private;n&&(p.duration=0)}r&&(d.animation.queue=[]),n||(d.animation.current=[])}return l.notify("draw"),this}}},Hb=Array.isArray,kl=Hb,$b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wb=/^\w*$/;function Kb(t,e){if(kl(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||hs(t)?!0:Wb.test(t)||!$b.test(t)||e!=null&&t in Object(e)}var Xb=Kb,Yb="[object AsyncFunction]",jb="[object Function]",Qb="[object GeneratorFunction]",Zb="[object Proxy]";function Jb(t){if(!qa(t))return!1;var e=sy(t);return e==jb||e==Qb||e==Yb||e==Zb}var eE=Jb,tE=bl["__core-js_shared__"],Dc=tE,Og=function(){var t=/[^.]+$/.exec(Dc&&Dc.keys&&Dc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function rE(t){return!!Og&&Og in t}var nE=rE,aE=Function.prototype,iE=aE.toString;function oE(t){if(t!=null){try{return iE.call(t)}catch{}try{return t+""}catch{}}return""}var sE=oE,uE=/[\\^$.*+?()[\]{}|]/g,lE=/^\[object .+?Constructor\]$/,fE=Function.prototype,cE=Object.prototype,dE=fE.toString,vE=cE.hasOwnProperty,hE=RegExp("^"+dE.call(vE).replace(uE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gE(t){if(!qa(t)||nE(t))return!1;var e=eE(t)?hE:lE;return e.test(sE(t))}var pE=gE;function yE(t,e){return t==null?void 0:t[e]}var mE=yE;function wE(t,e){var r=mE(t,e);return pE(r)?r:void 0}var pd=wE,xE=pd(Object,"create"),ss=xE;function bE(){this.__data__=ss?ss(null):{},this.size=0}var EE=bE;function SE(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var CE=SE,kE="__lodash_hash_undefined__",PE=Object.prototype,TE=PE.hasOwnProperty;function _E(t){var e=this.__data__;if(ss){var r=e[t];return r===kE?void 0:r}return TE.call(e,t)?e[t]:void 0}var DE=_E,AE=Object.prototype,BE=AE.hasOwnProperty;function LE(t){var e=this.__data__;return ss?e[t]!==void 0:BE.call(e,t)}var RE=LE,ME="__lodash_hash_undefined__";function NE(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ss&&e===void 0?ME:e,this}var OE=NE;function Hi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hi.prototype.clear=EE;Hi.prototype.delete=CE;Hi.prototype.get=DE;Hi.prototype.has=RE;Hi.prototype.set=OE;var Ig=Hi;function IE(){this.__data__=[],this.size=0}var zE=IE;function FE(t,e){return t===e||t!==t&&e!==e}var Ly=FE;function VE(t,e){for(var r=t.length;r--;)if(Ly(t[r][0],e))return r;return-1}var Pl=VE,GE=Array.prototype,UE=GE.splice;function qE(t){var e=this.__data__,r=Pl(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():UE.call(e,r,1),--this.size,!0}var HE=qE;function $E(t){var e=this.__data__,r=Pl(e,t);return r<0?void 0:e[r][1]}var WE=$E;function KE(t){return Pl(this.__data__,t)>-1}var XE=KE;function YE(t,e){var r=this.__data__,n=Pl(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var jE=YE;function $i(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$i.prototype.clear=zE;$i.prototype.delete=HE;$i.prototype.get=WE;$i.prototype.has=XE;$i.prototype.set=jE;var QE=$i,ZE=pd(bl,"Map"),JE=ZE;function eS(){this.size=0,this.__data__={hash:new Ig,map:new(JE||QE),string:new Ig}}var tS=eS;function rS(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var nS=rS;function aS(t,e){var r=t.__data__;return nS(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Tl=aS;function iS(t){var e=Tl(this,t).delete(t);return this.size-=e?1:0,e}var oS=iS;function sS(t){return Tl(this,t).get(t)}var uS=sS;function lS(t){return Tl(this,t).has(t)}var fS=lS;function cS(t,e){var r=Tl(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var dS=cS;function Wi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Wi.prototype.clear=tS;Wi.prototype.delete=oS;Wi.prototype.get=uS;Wi.prototype.has=fS;Wi.prototype.set=dS;var Ry=Wi,vS="Expected a function";function yd(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vS);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var u=t.apply(this,n);return r.cache=o.set(i,u)||o,u};return r.cache=new(yd.Cache||Ry),r}yd.Cache=Ry;var hS=yd,gS=500;function pS(t){var e=hS(t,function(n){return r.size===gS&&r.clear(),n}),r=e.cache;return e}var yS=pS,mS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wS=/\\(\\)?/g,xS=yS(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(mS,function(r,n,i,o){e.push(i?o.replace(wS,"$1"):n||r)}),e}),My=xS;function bS(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Ny=bS,zg=zi?zi.prototype:void 0,Fg=zg?zg.toString:void 0;function Oy(t){if(typeof t=="string")return t;if(kl(t))return Ny(t,Oy)+"";if(hs(t))return Fg?Fg.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ES=Oy;function SS(t){return t==null?"":ES(t)}var Iy=SS;function CS(t,e){return kl(t)?t:Xb(t,e)?[t]:My(Iy(t))}var zy=CS;function kS(t){if(typeof t=="string"||hs(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var md=kS;function PS(t,e){e=zy(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[md(e[r++])];return r&&r==n?t:void 0}var TS=PS;function _S(t,e,r){var n=t==null?void 0:TS(t,e);return n===void 0?r:n}var DS=_S,AS=function(){try{var t=pd(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Vg=AS;function BS(t,e,r){e=="__proto__"&&Vg?Vg(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var LS=BS,RS=Object.prototype,MS=RS.hasOwnProperty;function NS(t,e,r){var n=t[e];(!(MS.call(t,e)&&Ly(n,r))||r===void 0&&!(e in t))&&LS(t,e,r)}var OS=NS,IS=9007199254740991,zS=/^(?:0|[1-9]\d*)$/;function FS(t,e){var r=typeof t;return e=e??IS,!!e&&(r=="number"||r!="symbol"&&zS.test(t))&&t>-1&&t%1==0&&t<e}var VS=FS;function GS(t,e,r,n){if(!qa(t))return t;e=zy(e,t);for(var i=-1,o=e.length,u=o-1,l=t;l!=null&&++i<o;){var f=md(e[i]),c=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(i!=u){var d=l[f];c=n?n(d,f,l):void 0,c===void 0&&(c=qa(d)?d:VS(e[i+1])?[]:{})}OS(l,f,c),l=l[f]}return t}var US=GS;function qS(t,e,r){return t==null?t:US(t,e,r)}var HS=qS;function $S(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var WS=$S;function KS(t){return kl(t)?Ny(t,md):hs(t)?[t]:WS(My(Iy(t)))}var XS=KS,YS={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=Ue({},r,e),function(i,o){var u=e,l=this,f=l.length!==void 0,c=f?l:[l],d=f?l[0]:l;if(Ne(i)){var v=i.indexOf(".")!==-1,g=v&&XS(i);if(u.allowGetting&&o===void 0){var y;return d&&(u.beforeGet(d),g&&d._private[u.field][i]===void 0?y=DS(d._private[u.field],g):y=d._private[u.field][i]),y}else if(u.allowSetting&&o!==void 0){var p=!u.immutableKeys[i];if(p){var w=jp({},i,o);u.beforeSet(l,w);for(var x=0,E=c.length;x<E;x++){var b=c[x];u.canSet(b)&&(g&&d._private[u.field][i]===void 0?HS(b._private[u.field],g,o):b._private[u.field][i]=o)}u.updateStyle&&l.updateStyle(),u.onSet(l),u.settingTriggersEvent&&l[u.triggerFnName](u.settingEvent)}}}else if(u.allowSetting&&nt(i)){var S=i,T,O,L=Object.keys(S);u.beforeSet(l,S);for(var M=0;M<L.length;M++){T=L[M],O=S[T];var _=!u.immutableKeys[T];if(_)for(var P=0;P<c.length;P++){var N=c[P];u.canSet(N)&&(N._private[u.field][T]=O)}}u.updateStyle&&l.updateStyle(),u.onSet(l),u.settingTriggersEvent&&l[u.triggerFnName](u.settingEvent)}else if(u.allowBinding&&kt(i)){var R=i;l.on(u.bindingEvent,R)}else if(u.allowGetting&&i===void 0){var A;return d&&(u.beforeGet(d),A=d._private[u.field]),A}return l}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ue({},r,e),function(i){var o=e,u=this,l=u.length!==void 0,f=l?u:[u];if(Ne(i)){for(var c=i.split(/\s+/),d=c.length,v=0;v<d;v++){var g=c[v];if(!ca(g)){var y=!o.immutableKeys[g];if(y)for(var p=0,w=f.length;p<w;p++)f[p]._private[o.field][g]=void 0}}o.triggerEvent&&u[o.triggerFnName](o.event)}else if(i===void 0){for(var x=0,E=f.length;x<E;x++)for(var b=f[x]._private[o.field],S=Object.keys(b),T=0;T<S.length;T++){var O=S[T],L=!o.immutableKeys[O];L&&(b[O]=void 0)}o.triggerEvent&&u[o.triggerFnName](o.event)}return u}}},jS={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var o=this,u=Array.prototype.slice.call(arguments,0);return new qi(function(l,f){var c=function(y){o.off.apply(o,v),l(y)},d=u.concat([c]),v=d.concat([]);o.on.apply(o,d)})}}},st={};[qb,YS,jS].forEach(function(t){Ue(st,t)});var QS={animate:st.animate(),animation:st.animation(),animated:st.animated(),clearQueue:st.clearQueue(),delay:st.delay(),delayAnimation:st.delayAnimation(),stop:st.stop()},el={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(p){return n.push(p)}),n}else ct(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new Ui(e),u=0;u<r.length;u++){for(var l=r[u],f=l._private,c=f.classes,d=!1,v=0;v<e.length;v++){var g=e[v],y=c.has(g);if(!y){d=!0;break}}d||(d=c.size!==e.length),d&&(f.classes=o,i.push(l))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){ct(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,o=[],u=0,l=n.length;u<l;u++)for(var f=n[u],c=f._private.classes,d=!1,v=0;v<e.length;v++){var g=e[v],y=c.has(g),p=!1;r||i&&!y?(c.add(g),p=!0):(!r||i&&y)&&(c.delete(g),p=!0),!d&&p&&(o.push(f),d=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};el.className=el.classNames=el.classes;var rt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Ft,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};rt.variable="(?:[\\w-.]|(?:\\\\"+rt.metaChar+"))+";rt.className="(?:[\\w-]|(?:\\\\"+rt.metaChar+"))+";rt.value=rt.string+"|"+rt.number;rt.id=rt.variable;(function(){var t,e,r;for(t=rt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],rt.comparatorOp+="|@"+e;for(t=rt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(rt.comparatorOp+="|\\!"+e)})();var ft=function(){return{checks:[]}},_e={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Wc=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return dw(t.selector,e.selector)}),ZS=function(){for(var t={},e,r=0;r<Wc.length;r++)e=Wc[r],t[e.selector]=e.matches;return t}(),JS=function(e,r){return ZS[e](r)},e2="("+Wc.map(function(t){return t.selector}).join("|")+")",bi=function(e){return e.replace(new RegExp("\\\\("+rt.metaChar+")","g"),function(r,n){return n})},oa=function(e,r,n){e[e.length-1]=n},Kc=[{name:"group",query:!0,regex:"("+rt.group+")",populate:function(e,r,n){var i=Xt(n,1),o=i[0];r.checks.push({type:_e.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:e2,populate:function(e,r,n){var i=Xt(n,1),o=i[0];r.checks.push({type:_e.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+rt.id+")",populate:function(e,r,n){var i=Xt(n,1),o=i[0];r.checks.push({type:_e.ID,value:bi(o)})}},{name:"className",query:!0,regex:"\\.("+rt.className+")",populate:function(e,r,n){var i=Xt(n,1),o=i[0];r.checks.push({type:_e.CLASS,value:bi(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+rt.variable+")\\s*\\]",populate:function(e,r,n){var i=Xt(n,1),o=i[0];r.checks.push({type:_e.DATA_EXIST,field:bi(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+rt.variable+")\\s*("+rt.comparatorOp+")\\s*("+rt.value+")\\s*\\]",populate:function(e,r,n){var i=Xt(n,3),o=i[0],u=i[1],l=i[2],f=new RegExp("^"+rt.string+"$").exec(l)!=null;f?l=l.substring(1,l.length-1):l=parseFloat(l),r.checks.push({type:_e.DATA_COMPARE,field:bi(o),operator:u,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+rt.boolOp+")\\s*("+rt.variable+")\\s*\\]",populate:function(e,r,n){var i=Xt(n,2),o=i[0],u=i[1];r.checks.push({type:_e.DATA_BOOL,field:bi(u),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+rt.meta+")\\s*("+rt.comparatorOp+")\\s*("+rt.number+")\\s*\\]\\]",populate:function(e,r,n){var i=Xt(n,3),o=i[0],u=i[1],l=i[2];r.checks.push({type:_e.META_COMPARE,field:bi(o),operator:u,value:parseFloat(l)})}},{name:"nextQuery",separator:!0,regex:rt.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,o=e.compoundCount,u=e[e.length-1];n!=null&&(u.subject=n,e.currentSubject=null),u.edgeCount=i,u.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var l=e[e.length++]=ft();return l}},{name:"directedEdge",separator:!0,regex:rt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ft(),i=r,o=ft();return n.checks.push({type:_e.DIRECTED_EDGE,source:i,target:o}),oa(e,r,n),e.edgeCount++,o}else{var u=ft(),l=r,f=ft();return u.checks.push({type:_e.NODE_SOURCE,source:l,target:f}),oa(e,r,u),e.edgeCount++,f}}},{name:"undirectedEdge",separator:!0,regex:rt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ft(),i=r,o=ft();return n.checks.push({type:_e.UNDIRECTED_EDGE,nodes:[i,o]}),oa(e,r,n),e.edgeCount++,o}else{var u=ft(),l=r,f=ft();return u.checks.push({type:_e.NODE_NEIGHBOR,node:l,neighbor:f}),oa(e,r,u),f}}},{name:"child",separator:!0,regex:rt.child,populate:function(e,r){if(e.currentSubject==null){var n=ft(),i=ft(),o=e[e.length-1];return n.checks.push({type:_e.CHILD,parent:o,child:i}),oa(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var u=ft(),l=e[e.length-1],f=ft(),c=ft(),d=ft(),v=ft();return u.checks.push({type:_e.COMPOUND_SPLIT,left:l,right:f,subject:c}),c.checks=r.checks,r.checks=[{type:_e.TRUE}],v.checks.push({type:_e.TRUE}),f.checks.push({type:_e.PARENT,parent:v,child:d}),oa(e,l,u),e.currentSubject=c,e.compoundCount++,d}else{var g=ft(),y=ft(),p=[{type:_e.PARENT,parent:g,child:y}];return g.checks=r.checks,r.checks=p,e.compoundCount++,y}}},{name:"descendant",separator:!0,regex:rt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=ft(),i=ft(),o=e[e.length-1];return n.checks.push({type:_e.DESCENDANT,ancestor:o,descendant:i}),oa(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var u=ft(),l=e[e.length-1],f=ft(),c=ft(),d=ft(),v=ft();return u.checks.push({type:_e.COMPOUND_SPLIT,left:l,right:f,subject:c}),c.checks=r.checks,r.checks=[{type:_e.TRUE}],v.checks.push({type:_e.TRUE}),f.checks.push({type:_e.ANCESTOR,ancestor:v,descendant:d}),oa(e,l,u),e.currentSubject=c,e.compoundCount++,d}else{var g=ft(),y=ft(),p=[{type:_e.ANCESTOR,ancestor:g,descendant:y}];return g.checks=r.checks,r.checks=p,e.compoundCount++,y}}},{name:"subject",modifier:!0,regex:rt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ut("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],o=i==null?null:i.type;o===_e.DIRECTED_EDGE?i.type=_e.NODE_TARGET:o===_e.UNDIRECTED_EDGE&&(i.type=_e.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Kc.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var t2=function(e){for(var r,n,i,o=0;o<Kc.length;o++){var u=Kc[o],l=u.name,f=e.match(u.regexObj);if(f!=null){n=f,r=u,i=l;var c=f[0];e=e.substring(c.length);break}}return{expr:r,match:n,name:i,remaining:e}},r2=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},n2=function(e){var r=this,n=r.inputText=e,i=r[0]=ft();for(r.length=1,n=r2(n);;){var o=t2(n);if(o.expr==null)return ut("The selector `"+e+"`is invalid"),!1;var u=o.match.slice(1),l=o.expr.populate(r,i,u);if(l===!1)return!1;if(l!=null&&(i=l),n=o.remaining,n.match(/^\s*$/))break}var f=r[r.length-1];r.currentSubject!=null&&(f.subject=r.currentSubject),f.edgeCount=r.edgeCount,f.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var d=r[c];if(d.compoundCount>0&&d.edgeCount>0)return ut("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(d.edgeCount>1)return ut("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;d.edgeCount===1&&ut("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},a2=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(d){return d??""},r=function(d){return Ne(d)?'"'+d+'"':e(d)},n=function(d){return" "+d+" "},i=function(d,v){var g=d.type,y=d.value;switch(g){case _e.GROUP:{var p=e(y);return p.substring(0,p.length-1)}case _e.DATA_COMPARE:{var w=d.field,x=d.operator;return"["+w+n(e(x))+r(y)+"]"}case _e.DATA_BOOL:{var E=d.operator,b=d.field;return"["+e(E)+b+"]"}case _e.DATA_EXIST:{var S=d.field;return"["+S+"]"}case _e.META_COMPARE:{var T=d.operator,O=d.field;return"[["+O+n(e(T))+r(y)+"]]"}case _e.STATE:return y;case _e.ID:return"#"+y;case _e.CLASS:return"."+y;case _e.PARENT:case _e.CHILD:return o(d.parent,v)+n(">")+o(d.child,v);case _e.ANCESTOR:case _e.DESCENDANT:return o(d.ancestor,v)+" "+o(d.descendant,v);case _e.COMPOUND_SPLIT:{var L=o(d.left,v),M=o(d.subject,v),_=o(d.right,v);return L+(L.length>0?" ":"")+M+_}case _e.TRUE:return""}},o=function(d,v){return d.checks.reduce(function(g,y,p){return g+(v===d&&p===0?"$":"")+i(y,v)},"")},u="",l=0;l<this.length;l++){var f=this[l];u+=o(f,f.subject),this.length>1&&l<this.length-1&&(u+=", ")}return this.toStringCache=u,u},i2={parse:n2,toString:a2},Fy=function(e,r,n){var i,o=Ne(e),u=Ee(e),l=Ne(n),f,c,d=!1,v=!1,g=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),v=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),d=!0),(o||l||d)&&(f=!o&&!u?"":""+e,c=""+n),d&&(e=f=f.toLowerCase(),n=c=c.toLowerCase()),r){case"*=":i=f.indexOf(c)>=0;break;case"$=":i=f.indexOf(c,f.length-c.length)>=0;break;case"^=":i=f.indexOf(c)===0;break;case"=":i=e===n;break;case">":g=!0,i=e>n;break;case">=":g=!0,i=e>=n;break;case"<":g=!0,i=e<n;break;case"<=":g=!0,i=e<=n;break;default:i=!1;break}return v&&(e!=null||!g)&&(i=!i),i},o2=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},s2=function(e){return e!==void 0},wd=function(e,r){return e.data(r)},u2=function(e,r){return e[r]()},Dt=[],yt=function(e,r){return e.checks.every(function(n){return Dt[n.type](n,r)})};Dt[_e.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Dt[_e.STATE]=function(t,e){var r=t.value;return JS(r,e)};Dt[_e.ID]=function(t,e){var r=t.value;return e.id()===r};Dt[_e.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Dt[_e.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Fy(u2(e,r),n,i)};Dt[_e.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Fy(wd(e,r),n,i)};Dt[_e.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return o2(wd(e,r),n)};Dt[_e.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,s2(wd(e,r))};Dt[_e.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),o=e.target();return yt(r,i)&&yt(n,o)||yt(n,i)&&yt(r,o)};Dt[_e.NODE_NEIGHBOR]=function(t,e){return yt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&yt(t.neighbor,r)})};Dt[_e.DIRECTED_EDGE]=function(t,e){return yt(t.source,e.source())&&yt(t.target,e.target())};Dt[_e.NODE_SOURCE]=function(t,e){return yt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&yt(t.target,r)})};Dt[_e.NODE_TARGET]=function(t,e){return yt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&yt(t.source,r)})};Dt[_e.CHILD]=function(t,e){return yt(t.child,e)&&yt(t.parent,e.parent())};Dt[_e.PARENT]=function(t,e){return yt(t.parent,e)&&e.children().some(function(r){return yt(t.child,r)})};Dt[_e.DESCENDANT]=function(t,e){return yt(t.descendant,e)&&e.ancestors().some(function(r){return yt(t.ancestor,r)})};Dt[_e.ANCESTOR]=function(t,e){return yt(t.ancestor,e)&&e.descendants().some(function(r){return yt(t.descendant,r)})};Dt[_e.COMPOUND_SPLIT]=function(t,e){return yt(t.subject,e)&&yt(t.left,e)&&yt(t.right,e)};Dt[_e.TRUE]=function(){return!0};Dt[_e.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Dt[_e.FILTER]=function(t,e){var r=t.value;return r(e)};var l2=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===_e.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(o){for(var u=0;u<r.length;u++){var l=r[u];if(yt(l,o))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},f2=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(yt(i,e))return!0}return!1},c2={matches:f2,filter:l2},ha=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ne(e)&&e.match(/^\s*$/)||(zr(e)?this.addQuery({checks:[{type:_e.COLLECTION,value:e.collection()}]}):kt(e)?this.addQuery({checks:[{type:_e.FILTER,value:e}]}):Ne(e)?this.parse(e)||(this.invalid=!0):Ct("A selector must be created from a string; found "))},ga=ha.prototype;[i2,c2].forEach(function(t){return Ue(ga,t)});ga.text=function(){return this.inputText};ga.size=function(){return this.length};ga.eq=function(t){return this[t]};ga.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};ga.addQuery=function(t){this[this.length++]=t};ga.selector=ga.toString;var la={allAre:function(e){var r=new ha(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new ha(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};la.allAreNeighbours=la.allAreNeighbors;la.has=la.contains;la.equal=la.equals=la.same;var Yr=function(e,r){return function(i,o,u,l){var f=i,c=this,d;if(f==null?d="":zr(f)&&f.length===1&&(d=f.id()),c.length===1&&d){var v=c[0]._private,g=v.traversalCache=v.traversalCache||{},y=g[r]=g[r]||[],p=da(d),w=y[p];return w||(y[p]=e.call(c,i,o,u,l))}else return e.call(c,i,o,u,l)}},Gi={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var o=this[i],u=o._private.parent;u&&r.push(u)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var o=n[i];r.push(o)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],o=i.parents();r=r||o,r=r.intersect(o)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Yr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var o=0;o<i.length;o++){var u=i[o];r.push(u),u.children().nonempty()&&n(u.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function xd(t,e,r,n){for(var i=[],o=new Ui,u=t.cy(),l=u.hasCompoundNodes(),f=0;f<t.length;f++){var c=t[f];r?i.push(c):l&&n(i,o,c)}for(;i.length>0;){var d=i.shift();e(d),o.add(d.id()),l&&n(i,o,d)}return t}function Vy(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var o=n[i];e.has(o.id())||t.push(o)}}Gi.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return xd(this,t,e,Vy)};function Gy(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Gi.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return xd(this,t,e,Gy)};function d2(t,e,r){Gy(t,e,r),Vy(t,e,r)}Gi.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return xd(this,t,e,d2)};Gi.ancestors=Gi.parents;var us,Uy;us=Uy={data:st.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:st.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:st.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:st.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:st.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:st.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};us.attr=us.data;us.removeAttr=us.removeData;var v2=Uy,_l={};function Ac(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],o=i._private.edges,u=0;u<o.length;u++){var l=o[u];!e&&l.isLoop()||(n+=t(i,l))}return n}else return}}Ue(_l,{degree:Ac(function(t,e){return e.source().same(e.target())?2:1}),indegree:Ac(function(t,e){return e.target().same(t)?1:0}),outdegree:Ac(function(t,e){return e.source().same(t)?1:0})});function Ei(t,e){return function(r){for(var n,i=this.nodes(),o=0;o<i.length;o++){var u=i[o],l=u[t](r);l!==void 0&&(n===void 0||e(l,n))&&(n=l)}return n}}Ue(_l,{minDegree:Ei("degree",function(t,e){return t<e}),maxDegree:Ei("degree",function(t,e){return t>e}),minIndegree:Ei("indegree",function(t,e){return t<e}),maxIndegree:Ei("indegree",function(t,e){return t>e}),minOutdegree:Ei("outdegree",function(t,e){return t<e}),maxOutdegree:Ei("outdegree",function(t,e){return t>e})});Ue(_l,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var sn,qy,Hy=function(e,r,n){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var u=o._private.position,l={x:r.x!=null?r.x-u.x:0,y:r.y!=null?r.y-u.y:0};o.isParent()&&!(l.x===0&&l.y===0)&&o.children().shift(l,n),o.dirtyBoundingBoxCache()}}},Gg={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Hy(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};sn=qy={position:st.data(Gg),silentPosition:st.data(Ue({},Gg,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Hy(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(nt(e))r?this.silentPosition(e):this.position(e);else if(kt(e)){var n=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var u=this[o],l=void 0;(l=n(u,o))&&(r?u.silentPosition(l):u.position(l))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(nt(e)?(i={x:Ee(e.x)?e.x:0,y:Ee(e.y)?e.y:0},n=r):Ne(e)&&Ee(r)&&(i={x:0,y:0},i[e]=r),i!=null){var o=this.cy();o.startBatch();for(var u=0;u<this.length;u++){var l=this[u];if(!(o.hasCompoundNodes()&&l.isChild()&&l.ancestors().anySame(this))){var f=l.position(),c={x:f.x+i.x,y:f.y+i.y};n?l.silentPosition(c):l.position(c)}}o.endBatch()}return this},silentShift:function(e,r){return nt(e)?this.shift(e,!0):Ne(e)&&Ee(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),o=i.zoom(),u=i.pan(),l=nt(e)?e:void 0,f=l!==void 0||r!==void 0&&Ne(e);if(n&&n.isNode())if(f)for(var c=0;c<this.length;c++){var d=this[c];r!==void 0?d.position(e,(r-u[e])/o):l!==void 0&&d.position(py(l,o,u))}else{var v=n.position();return l=Sl(v,o,u),e===void 0?l:l[e]}else if(!f)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),o=nt(e)?e:void 0,u=o!==void 0||r!==void 0&&Ne(e),l=i.hasCompoundNodes();if(n&&n.isNode())if(u)for(var f=0;f<this.length;f++){var c=this[f],d=l?c.parent():null,v=d&&d.length>0,g=v;v&&(d=d[0]);var y=g?d.position():{x:0,y:0};r!==void 0?c.position(e,r+y[e]):o!==void 0&&c.position({x:o.x+y.x,y:o.y+y.y})}else{var p=n.position(),w=l?n.parent():null,x=w&&w.length>0,E=x;x&&(w=w[0]);var b=E?w.position():{x:0,y:0};return o={x:p.x-b.x,y:p.y-b.y},e===void 0?o:o[e]}else if(!u)return;return this}};sn.modelPosition=sn.point=sn.position;sn.modelPositions=sn.points=sn.positions;sn.renderedPoint=sn.renderedPosition;sn.relativePoint=sn.relativePosition;var h2=qy,Ii,xa;Ii=xa={};xa.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),o=e.x1*n+i.x,u=e.x2*n+i.x,l=e.y1*n+i.y,f=e.y2*n+i.y;return{x1:o,x2:u,y1:l,y2:f,w:u-o,h:f-l}};xa.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};xa.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(u){if(!u.isParent())return;var l=u._private,f=u.children(),c=u.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:u.pstyle("min-width").pfValue,left:u.pstyle("min-width-bias-left"),right:u.pstyle("min-width-bias-right")},height:{val:u.pstyle("min-height").pfValue,top:u.pstyle("min-height-bias-top"),bottom:u.pstyle("min-height-bias-bottom")}},v=f.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),g=l.position;(v.w===0||v.h===0)&&(v={w:u.pstyle("width").pfValue,h:u.pstyle("height").pfValue},v.x1=g.x-v.w/2,v.x2=g.x+v.w/2,v.y1=g.y-v.h/2,v.y2=g.y+v.h/2);function y(P,N,R){var A=0,B=0,D=N+R;return P>0&&D>0&&(A=N/D*P,B=R/D*P),{biasDiff:A,biasComplementDiff:B}}function p(P,N,R,A){if(R.units==="%")switch(A){case"width":return P>0?R.pfValue*P:0;case"height":return N>0?R.pfValue*N:0;case"average":return P>0&&N>0?R.pfValue*(P+N)/2:0;case"min":return P>0&&N>0?P>N?R.pfValue*N:R.pfValue*P:0;case"max":return P>0&&N>0?P>N?R.pfValue*P:R.pfValue*N:0;default:return 0}else return R.units==="px"?R.pfValue:0}var w=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(w=w*100/d.width.val);var x=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(x=x*100/d.width.val);var E=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(E=E*100/d.height.val);var b=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(b=b*100/d.height.val);var S=y(d.width.val-v.w,w,x),T=S.biasDiff,O=S.biasComplementDiff,L=y(d.height.val-v.h,E,b),M=L.biasDiff,_=L.biasComplementDiff;l.autoPadding=p(v.w,v.h,u.pstyle("padding"),u.pstyle("padding-relative-to").value),l.autoWidth=Math.max(v.w,d.width.val),g.x=(-T+v.x1+v.x2+O)/2,l.autoHeight=Math.max(v.h,d.height.val),g.y=(-M+v.y1+v.y2+_)/2}for(var n=0;n<this.length;n++){var i=this[n],o=i._private;(!o.compoundBoundsClean||t)&&(r(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var Xr=function(e){return e===1/0||e===-1/0?0:e},an=function(e,r,n,i,o){i-r===0||o-n===0||r==null||n==null||i==null||o==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Fa=function(e,r){return r==null?e:an(e,r.x1,r.y1,r.x2,r.y2)},Io=function(e,r,n){return on(e,r,n)},Uu=function(e,r,n){if(!r.cy().headless()){var i=r._private,o=i.rstyle,u=o.arrowWidth/2,l=r.pstyle(n+"-arrow-shape").value,f,c;if(l!=="none"){n==="source"?(f=o.srcX,c=o.srcY):n==="target"?(f=o.tgtX,c=o.tgtY):(f=o.midX,c=o.midY);var d=i.arrowBounds=i.arrowBounds||{},v=d[n]=d[n]||{};v.x1=f-u,v.y1=c-u,v.x2=f+u,v.y2=c+u,v.w=v.x2-v.x1,v.h=v.y2-v.y1,Zu(v,1),an(e,v.x1,v.y1,v.x2,v.y2)}}},Bc=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var o=r._private,u=o.rstyle,l=r.pstyle(i+"label").strValue;if(l){var f=r.pstyle("text-halign"),c=r.pstyle("text-valign"),d=Io(u,"labelWidth",n),v=Io(u,"labelHeight",n),g=Io(u,"labelX",n),y=Io(u,"labelY",n),p=r.pstyle(i+"text-margin-x").pfValue,w=r.pstyle(i+"text-margin-y").pfValue,x=r.isEdge(),E=r.pstyle(i+"text-rotation"),b=r.pstyle("text-outline-width").pfValue,S=r.pstyle("text-border-width").pfValue,T=S/2,O=r.pstyle("text-background-padding").pfValue,L=2,M=v,_=d,P=_/2,N=M/2,R,A,B,D;if(x)R=g-P,A=g+P,B=y-N,D=y+N;else{switch(f.value){case"left":R=g-_,A=g;break;case"center":R=g-P,A=g+P;break;case"right":R=g,A=g+_;break}switch(c.value){case"top":B=y-M,D=y;break;case"center":B=y-N,D=y+N;break;case"bottom":B=y,D=y+M;break}}var z=p-Math.max(b,T)-O-L,I=p+Math.max(b,T)+O+L,G=w-Math.max(b,T)-O-L,U=w+Math.max(b,T)+O+L;R+=z,A+=I,B+=G,D+=U;var q=n||"main",$=o.labelBounds,V=$[q]=$[q]||{};V.x1=R,V.y1=B,V.x2=A,V.y2=D,V.w=A-R,V.h=D-B,V.leftPad=z,V.rightPad=I,V.topPad=G,V.botPad=U;var W=x&&E.strValue==="autorotate",ee=E.pfValue!=null&&E.pfValue!==0;if(W||ee){var J=W?Io(o.rstyle,"labelAngle",n):E.pfValue,te=Math.cos(J),re=Math.sin(J),fe=(R+A)/2,ue=(B+D)/2;if(!x){switch(f.value){case"left":fe=A;break;case"right":fe=R;break}switch(c.value){case"top":ue=D;break;case"bottom":ue=B;break}}var Y=function(Xe,ke){return Xe=Xe-fe,ke=ke-ue,{x:Xe*te-ke*re+fe,y:Xe*re+ke*te+ue}},j=Y(R,B),Q=Y(R,D),ce=Y(A,B),he=Y(A,D);R=Math.min(j.x,Q.x,ce.x,he.x),A=Math.max(j.x,Q.x,ce.x,he.x),B=Math.min(j.y,Q.y,ce.y,he.y),D=Math.max(j.y,Q.y,ce.y,he.y)}var me=q+"Rot",Le=$[me]=$[me]||{};Le.x1=R,Le.y1=B,Le.x2=A,Le.y2=D,Le.w=A-R,Le.h=D-B,an(e,R,B,A,D),an(o.labelBounds.all,R,B,A,D)}return e}},g2=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value;if(n>0&&i>0){var o=r.pstyle("outline-offset").value,u=r.pstyle("shape").value,l=i+o,f=(e.w+l*2)/e.w,c=(e.h+l*2)/e.h,d=0,v=0;["diamond","pentagon","round-triangle"].includes(u)?(f=(e.w+l*2.4)/e.w,v=-l/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(u)?f=(e.w+l*2.4)/e.w:u==="star"?(f=(e.w+l*2.8)/e.w,c=(e.h+l*2.6)/e.h,v=-l/3.8):u==="triangle"?(f=(e.w+l*2.8)/e.w,c=(e.h+l*2.4)/e.h,v=-l/1.4):u==="vee"&&(f=(e.w+l*4.4)/e.w,c=(e.h+l*3.8)/e.h,v=-l*.5);var g=e.h*c-e.h,y=e.w*f-e.w;if(Ju(e,[Math.ceil(g/2),Math.ceil(y/2)]),d!=0||v!==0){var p=zx(e,d,v);my(e,p)}}}},p2=function(e,r){var n=e._private.cy,i=n.styleEnabled(),o=n.headless(),u=Br(),l=e._private,f=e.isNode(),c=e.isEdge(),d,v,g,y,p,w,x=l.rstyle,E=f&&i?e.pstyle("bounds-expansion").pfValue:[0],b=function($e){return $e.pstyle("display").value!=="none"},S=!i||b(e)&&(!c||b(e.source())&&b(e.target()));if(S){var T=0,O=0;i&&r.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(O=e.pstyle("overlay-padding").value));var L=0,M=0;i&&r.includeUnderlays&&(L=e.pstyle("underlay-opacity").value,L!==0&&(M=e.pstyle("underlay-padding").value));var _=Math.max(O,M),P=0,N=0;if(i&&(P=e.pstyle("width").pfValue,N=P/2),f&&r.includeNodes){var R=e.position();p=R.x,w=R.y;var A=e.outerWidth(),B=A/2,D=e.outerHeight(),z=D/2;d=p-B,v=p+B,g=w-z,y=w+z,an(u,d,g,v,y),i&&r.includeOutlines&&g2(u,e)}else if(c&&r.includeEdges)if(i&&!o){var I=e.pstyle("curve-style").strValue;if(d=Math.min(x.srcX,x.midX,x.tgtX),v=Math.max(x.srcX,x.midX,x.tgtX),g=Math.min(x.srcY,x.midY,x.tgtY),y=Math.max(x.srcY,x.midY,x.tgtY),d-=N,v+=N,g-=N,y+=N,an(u,d,g,v,y),I==="haystack"){var G=x.haystackPts;if(G&&G.length===2){if(d=G[0].x,g=G[0].y,v=G[1].x,y=G[1].y,d>v){var U=d;d=v,v=U}if(g>y){var q=g;g=y,y=q}an(u,d-N,g-N,v+N,y+N)}}else if(I==="bezier"||I==="unbundled-bezier"||I.endsWith("segments")||I.endsWith("taxi")){var $;switch(I){case"bezier":case"unbundled-bezier":$=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":$=x.linePts;break}if($!=null)for(var V=0;V<$.length;V++){var W=$[V];d=W.x-N,v=W.x+N,g=W.y-N,y=W.y+N,an(u,d,g,v,y)}}}else{var ee=e.source(),J=ee.position(),te=e.target(),re=te.position();if(d=J.x,v=re.x,g=J.y,y=re.y,d>v){var fe=d;d=v,v=fe}if(g>y){var ue=g;g=y,y=ue}d-=N,v+=N,g-=N,y+=N,an(u,d,g,v,y)}if(i&&r.includeEdges&&c&&(Uu(u,e,"mid-source"),Uu(u,e,"mid-target"),Uu(u,e,"source"),Uu(u,e,"target")),i){var Y=e.pstyle("ghost").value==="yes";if(Y){var j=e.pstyle("ghost-offset-x").pfValue,Q=e.pstyle("ghost-offset-y").pfValue;an(u,u.x1+j,u.y1+Q,u.x2+j,u.y2+Q)}}var ce=l.bodyBounds=l.bodyBounds||{};xg(ce,u),Ju(ce,E),Zu(ce,1),i&&(d=u.x1,v=u.x2,g=u.y1,y=u.y2,an(u,d-_,g-_,v+_,y+_));var he=l.overlayBounds=l.overlayBounds||{};xg(he,u),Ju(he,E),Zu(he,1);var me=l.labelBounds=l.labelBounds||{};me.all!=null?Ix(me.all):me.all=Br(),i&&r.includeLabels&&(r.includeMainLabels&&Bc(u,e,null),c&&(r.includeSourceLabels&&Bc(u,e,"source"),r.includeTargetLabels&&Bc(u,e,"target")))}return u.x1=Xr(u.x1),u.y1=Xr(u.y1),u.x2=Xr(u.x2),u.y2=Xr(u.y2),u.w=Xr(u.x2-u.x1),u.h=Xr(u.y2-u.y1),u.w>0&&u.h>0&&S&&(Ju(u,E),Zu(u,1)),u},$y=function(e){var r=0,n=function(u){return(u?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},Wy=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(u){return Math.round(u)};return ax([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},Ug=function(e,r){var n=e._private,i,o=e.isEdge(),u=r==null?qg:$y(r),l=u===qg,f=Wy(e),c=n.bbCachePosKey===f,d=r.useCache&&c,v=function(w){return w._private.bbCache==null||w._private.styleDirty},g=!d||v(e)||o&&(v(e.source())||v(e.target()));if(g?(c||e.recalculateRenderedStyle(d),i=p2(e,ls),n.bbCache=i,n.bbCachePosKey=f):i=n.bbCache,!l){var y=e.isNode();i=Br(),(r.includeNodes&&y||r.includeEdges&&!y)&&(r.includeOverlays?Fa(i,n.overlayBounds):Fa(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!o||r.includeSourceLabels&&r.includeTargetLabels)?Fa(i,n.labelBounds.all):(r.includeMainLabels&&Fa(i,n.labelBounds.mainRot),r.includeSourceLabels&&Fa(i,n.labelBounds.sourceRot),r.includeTargetLabels&&Fa(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},ls={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},qg=$y(ls),Hg=Yt(ls);xa.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=ls:t=Hg(t),e=Ug(this[0],t);else{e=Br(),t=t||ls;var r=Hg(t),n=this,i=n.cy(),o=i.styleEnabled();if(o)for(var u=0;u<n.length;u++){var l=n[u],f=l._private,c=Wy(l),d=f.bbCachePosKey===c,v=r.useCache&&d&&!f.styleDirty;l.recalculateRenderedStyle(v)}this.updateCompoundBounds(!t.useCache);for(var g=0;g<n.length;g++){var y=n[g];Fa(e,Ug(y,r))}}return e.x1=Xr(e.x1),e.y1=Xr(e.y1),e.x2=Xr(e.x2),e.y2=Xr(e.y2),e.w=Xr(e.x2-e.x1),e.h=Xr(e.y2-e.y1),e};xa.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};xa.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(c){return c.isParent()}),e=e.not(i)),nt(t)){var o=t;t=function(){return o}}var u=function(d,v){return d._private.bbAtOldPos=t(d,v)},l=function(d){return d._private.bbAtOldPos};r.startBatch(),e.forEach(u).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var f=Ox(this.boundingBox({useCache:!1}));return e.silentPositions(l),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),f};Ii.boundingbox=Ii.bb=Ii.boundingBox;Ii.renderedBoundingbox=Ii.renderedBoundingBox;var y2=xa,Yo,ys;Yo=ys={};var Ky=function(e){e.uppercaseName=vg(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=vg(e.outerName),Yo[e.name]=function(){var n=this[0],i=n._private,o=i.cy,u=o._private.styleEnabled;if(n)if(u){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var l=n.pstyle(e.name);switch(l.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return l.pfValue}}else return 1},Yo["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,o=i.cy,u=o._private.styleEnabled;if(n)if(u){var l=n[e.name](),f=n.pstyle("border-width").pfValue,c=2*n.padding();return l+f+c}else return 1},Yo["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},Yo["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};Ky({name:"width"});Ky({name:"height"});ys.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};ys.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};ys.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var m2=ys,w2=function(e,r){if(e.isEdge())return r(e)},x2=function(e,r){if(e.isEdge()){var n=e.cy();return Sl(r(e),n.zoom(),n.pan())}},b2=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),o=n.zoom();return r(e).map(function(u){return Sl(u,o,i)})}},E2=function(e){return e.renderer().getControlPoints(e)},S2=function(e){return e.renderer().getSegmentPoints(e)},C2=function(e){return e.renderer().getSourceEndpoint(e)},k2=function(e){return e.renderer().getTargetEndpoint(e)},P2=function(e){return e.renderer().getEdgeMidpoint(e)},$g={controlPoints:{get:E2,mult:!0},segmentPoints:{get:S2,mult:!0},sourceEndpoint:{get:C2},targetEndpoint:{get:k2},midpoint:{get:P2}},T2=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},_2=Object.keys($g).reduce(function(t,e){var r=$g[e],n=T2(e);return t[e]=function(){return w2(this,r.get)},r.mult?t[n]=function(){return b2(this,r.get)}:t[n]=function(){return x2(this,r.get)},t},{}),D2=Ue({},h2,y2,m2,_2);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Xy=function(e,r){this.recycle(e,r)};function zo(){return!1}function qu(){return!0}Xy.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=zo,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?qu:zo):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*i+o.x,y:n.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=qu;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=qu;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=qu,this.stopPropagation()},isDefaultPrevented:zo,isPropagationStopped:zo,isImmediatePropagationStopped:zo};var Yy=/^([^.]+)(\.(?:[^.]+))?$/,A2=".*",jy={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Wg=Object.keys(jy),B2={};function Dl(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B2,e=arguments.length>1?arguments[1]:void 0,r=0;r<Wg.length;r++){var n=Wg[r];this[n]=t[n]||jy[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var pa=Dl.prototype,Qy=function(e,r,n,i,o,u,l){kt(i)&&(o=i,i=null),l&&(u==null?u=l:u=Ue({},u,l));for(var f=ct(n)?n:n.split(/\s+/),c=0;c<f.length;c++){var d=f[c];if(!ca(d)){var v=d.match(Yy);if(v){var g=v[1],y=v[2]?v[2]:null,p=r(e,d,g,y,i,o,u);if(p===!1)break}}}},Kg=function(e,r){return e.addEventFields(e.context,r),new Xy(r.type,r)},L2=function(e,r,n){if(tw(n)){r(e,n);return}else if(nt(n)){r(e,Kg(e,n));return}for(var i=ct(n)?n:n.split(/\s+/),o=0;o<i.length;o++){var u=i[o];if(!ca(u)){var l=u.match(Yy);if(l){var f=l[1],c=l[2]?l[2]:null,d=Kg(e,{type:f,namespace:c,target:e.context});r(e,d)}}}};pa.on=pa.addListener=function(t,e,r,n,i){return Qy(this,function(o,u,l,f,c,d,v){kt(d)&&o.listeners.push({event:u,callback:d,type:l,namespace:f,qualifier:c,conf:v})},t,e,r,n,i),this};pa.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};pa.removeListener=pa.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=lx(this.listeners));for(var o=this.listeners,u=function(c){var d=o[c];Qy(i,function(v,g,y,p,w,x){if((d.type===y||t==="*")&&(!p&&d.namespace!==".*"||d.namespace===p)&&(!w||v.qualifierCompare(d.qualifier,w))&&(!x||d.callback===x))return o.splice(c,1),!1},t,e,r,n)},l=o.length-1;l>=0;l--)u(l);return this};pa.removeAllListeners=function(){return this.removeListener("*")};pa.emit=pa.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,ct(e)||(e=[e]),L2(this,function(o,u){r!=null&&(n=[{event:u.event,type:u.type,namespace:u.namespace,callback:r}],i=n.length);for(var l=function(d){var v=n[d];if(v.type===u.type&&(!v.namespace||v.namespace===u.namespace||v.namespace===A2)&&o.eventMatches(o.context,v,u)){var g=[u];e!=null&&cx(g,e),o.beforeEmit(o.context,v,u),v.conf&&v.conf.one&&(o.listeners=o.listeners.filter(function(w){return w!==v}));var y=o.callbackContext(o.context,v,u),p=v.callback.apply(y,g);o.afterEmit(o.context,v,u),p===!1&&(u.stopPropagation(),u.preventDefault())}},f=0;f<i;f++)l(f);o.bubble(o.context)&&!u.isPropagationStopped()&&o.parent(o.context).emit(u,e)},t),this.emitting--,this};var R2={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&vs(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Hu=function(e){return Ne(e)?new ha(e):e},Zy={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Dl(R2,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=Hu(r),o=0;o<this.length;o++){var u=this[o];u.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=Hu(r),o=0;o<this.length;o++){var u=this[o];u.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=Hu(r),o=0;o<this.length;o++){var u=this[o];u.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=Hu(r),o=0;o<this.length;o++){var u=this[o];u.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};st.eventAliasesOn(Zy);var Jy={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Ne(e)||zr(e))return new ha(e).filter(this);if(kt(e)){for(var n=this.spawn(),i=this,o=0;o<i.length;o++){var u=i[o],l=r?e.apply(r,[u,o,i]):e(u,o,i);l&&n.push(u)}return n}return this.spawn()},not:function(e){if(e){Ne(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],o=e.has(i);o||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ne(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,o=e,u=this.length<e.length,l=u?i:o,f=u?o:i,c=0;c<l.length;c++){var d=l[c];f.has(d)&&n.push(d)}return n},xor:function(e){var r=this._private.cy;Ne(e)&&(e=r.$(e));var n=this.spawn(),i=this,o=e,u=function(f,c){for(var d=0;d<f.length;d++){var v=f[d],g=v._private.data.id,y=c.hasElementWithId(g);y||n.push(v)}};return u(i,o),u(o,i),n},diff:function(e){var r=this._private.cy;Ne(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),o=this.spawn(),u=this,l=e,f=function(d,v,g){for(var y=0;y<d.length;y++){var p=d[y],w=p._private.data.id,x=v.hasElementWithId(w);x?o.merge(p):g.push(p)}};return f(u,l,n),f(l,u,i),{left:n,right:i,both:o}},add:function(e){var r=this._private.cy;if(!e)return this;if(Ne(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var u=e[o],l=!this.has(u);l&&i.push(u)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Ne(e)){var i=e;e=n.mutableElements().filter(i)}for(var o=r.map,u=0;u<e.length;u++){var l=e[u],f=l._private.data.id,c=!o.has(f);if(c){var d=this.length++;this[d]=l,o.set(f,{ele:l,index:d})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(n);var u=e===this.length-1;if(this.length>1&&!u){var l=this.length-1,f=this[l],c=f._private.data.id;this[l]=void 0,this[e]=f,o.set(c,{ele:f,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,o=i.get(n);if(!o)return this;var u=o.index;return this.unmergeAt(u),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Ne(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,o=0;o<i.length;o++){var u=i[o],l=r?e.apply(r,[u,o,i]):e(u,o,i);n.push(l)}return n},reduce:function(e,r){for(var n=r,i=this,o=0;o<i.length;o++)n=e(n,i[o],o,i);return n},max:function(e,r){for(var n=-1/0,i,o=this,u=0;u<o.length;u++){var l=o[u],f=r?e.apply(r,[l,u,o]):e(l,u,o);f>n&&(n=f,i=l)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,o=this,u=0;u<o.length;u++){var l=o[u],f=r?e.apply(r,[l,u,o]):e(l,u,o);f<n&&(n=f,i=l)}return{value:n,ele:i}}},it=Jy;it.u=it["|"]=it["+"]=it.union=it.or=it.add;it["\\"]=it["!"]=it["-"]=it.difference=it.relativeComplement=it.subtract=it.not;it.n=it["&"]=it["."]=it.and=it.intersection=it.intersect;it["^"]=it["(+)"]=it["(-)"]=it.symmetricDifference=it.symdiff=it.xor;it.fnFilter=it.filterFn=it.stdFilter=it.filter;it.complement=it.abscomp=it.absoluteComplement;var M2={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},em=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function o(d){var v=d.pstyle("z-compound-depth");return v.value==="auto"?i?d.zDepth():0:v.value==="bottom"?-1:v.value==="top"?ld:0}var u=o(e)-o(r);if(u!==0)return u;function l(d){var v=d.pstyle("z-index-compare");return v.value==="auto"&&d.isNode()?1:0}var f=l(e)-l(r);if(f!==0)return f;var c=e.pstyle("z-index").value-r.pstyle("z-index").value;return c!==0?c:e.poolIndex()-r.poolIndex()},hl={forEach:function(e,r){if(kt(e))for(var n=this.length,i=0;i<n;i++){var o=this[i],u=r?e.apply(r,[o,i,this]):e(o,i,this);if(u===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var o=e;o>=0&&o<r&&o<i;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!kt(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(em)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:ld-1}else{var o=r.source,u=r.target,l=o.zDepth(),f=u.zDepth();return Math.max(l,f,0)}}}};hl.each=hl.forEach;var N2=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Vt(Symbol))!=e&&Vt(Symbol.iterator)!=e;r&&(hl[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},o=0,u=this.length;return jp({next:function(){return o<u?i.value=n[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};N2();var O2=Yt({nodeDimensionsIncludeLabels:!1}),tl={layoutDimensions:function(e){e=O2(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(O){return!O.isParent()}),o=this.cy(),u=r.eles,l=function(L){return L.id()},f=ts(n,l);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(L,M,_){var P={x:M.x1+M.w/2,y:M.y1+M.h/2},N={x:(_.x-P.x)*L,y:(_.y-P.y)*L};return{x:P.x+N.x,y:P.y+N.y}},d=r.spacingFactor&&r.spacingFactor!==1,v=function(){if(!d)return null;for(var L=Br(),M=0;M<i.length;M++){var _=i[M],P=f(_,M);Fx(L,P.x,P.y)}return L},g=v(),y=ts(function(O,L){var M=f(O,L);if(d){var _=Math.abs(r.spacingFactor);M=c(_,g,M)}return r.transform!=null&&(M=r.transform(O,M)),M},l);if(r.animate){for(var p=0;p<i.length;p++){var w=i[p],x=y(w,p),E=r.animateFilter==null||r.animateFilter(w,p);if(E){var b=w.animation({position:x,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(b)}else w.position(x)}if(r.fit){var S=o.animation({fit:{boundingBox:u.boundingBoxAt(y),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(S)}else if(r.zoom!==void 0&&r.pan!==void 0){var T=o.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}e.animations.forEach(function(O){return O.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),qi.all(e.animations.map(function(O){return O.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(y),r.fit&&o.fit(r.eles,r.padding),r.zoom!=null&&o.zoom(r.zoom),r.pan&&o.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ue({},e,{eles:this}))}};tl.createLayout=tl.makeLayout=tl.layout;function tm(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],o;return(o=i[t])!=null||(o=i[t]=e(r)),o}function Al(t,e){return t=da(t),function(n){return tm(t,e,n)}}function Bl(t,e){t=da(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return tm(t,r,i)}}var Jt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var u=o;return e?u.emitAndNotify("style"):u.emit("style"),o.forEach(function(l){return l._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var o=n._private.style[e];return o??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,o=n.style();if(nt(e)){var u=e;o.applyBypass(this,u,i),this.emitAndNotify("style")}else if(Ne(e))if(r===void 0){var l=this[0];return l?o.getStylePropertyValue(l,e):void 0}else o.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var f=this[0];return f?o.getRawStyle(f):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),o=this;if(e===void 0)for(var u=0;u<o.length;u++){var l=o[u];i.removeAllBypasses(l,n)}else{e=e.split(/\s+/);for(var f=0;f<o.length;f++){var c=o[f];i.removeBypasses(c,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,o=n.pstyle("opacity").value;if(!r)return o;var u=i.data.parent?n.parents():null;if(u)for(var l=0;l<u.length;l++){var f=u[l],c=f.pstyle("opacity").value;o=c*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Lc(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var o=n[i];if(!e(o))return!1}return!0}function bd(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],u=i.hasCompoundNodes();if(o){var l=o._private;if(!e(o))return!1;if(o.isNode())return!u||Lc(o,n);var f=l.source,c=l.target;return r(f)&&(!u||Lc(f,r))&&(f===c||r(c)&&(!u||Lc(c,r)))}}}var Ki=Al("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Jt.takesUpSpace=Bl("takesUpSpace",bd({ok:Ki}));var I2=Al("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Ki(t)}),z2=Al("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Ki(t)});Jt.interactive=Bl("interactive",bd({ok:I2,parentOk:z2,edgeOkViaNode:Ki}));Jt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var F2=Al("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Ki(t)}),V2=Ki;Jt.visible=Bl("visible",bd({ok:F2,edgeOkViaNode:V2}));Jt.hidden=function(){var t=this[0];if(t)return!t.visible()};Jt.isBundledBezier=Bl("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Jt.bypass=Jt.css=Jt.style;Jt.renderedCss=Jt.renderedStyle;Jt.removeBypass=Jt.removeCss=Jt.removeStyle;Jt.pstyle=Jt.parsedStyle;var fa={};function Xg(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&kt(e[0])){var o=e[0];this.on(t.event,o)}else if(e.length===0||e.length===1&&ct(e[0])){for(var u=e.length===1?e[0]:null,l=0;l<this.length;l++){var f=this[l],c=!t.ableField||f._private[t.ableField],d=f._private[t.field]!=t.value;if(t.overrideAble){var v=t.overrideAble(f);if(v!==void 0&&(c=v,!v))return this}c&&(f._private[t.field]=t.value,d&&r.push(f))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),u&&g.emit(u)}return this}}function Xi(t){fa[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},fa[t.on]=Xg({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),fa[t.off]=Xg({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Xi({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Xi({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Xi({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Xi({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});fa.deselect=fa.unselect;fa.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Xi({field:"active",on:"activate",off:"unactivate"});Xi({field:"pannable",on:"panify",off:"unpanify"});fa.inactive=function(){var t=this[0];if(t)return!t._private.active};var vr={},Yg=function(e){return function(n){for(var i=this,o=[],u=0;u<i.length;u++){var l=i[u];if(l.isNode()){for(var f=!1,c=l.connectedEdges(),d=0;d<c.length;d++){var v=c[d],g=v.source(),y=v.target();if(e.noIncomingEdges&&y===l&&g!==l||e.noOutgoingEdges&&g===l&&y!==l){f=!0;break}}f||o.push(l)}}return this.spawn(o,!0).filter(n)}},jg=function(e){return function(r){for(var n=this,i=[],o=0;o<n.length;o++){var u=n[o];if(u.isNode())for(var l=u.connectedEdges(),f=0;f<l.length;f++){var c=l[f],d=c.source(),v=c.target();e.outgoing&&d===u?(i.push(c),i.push(v)):e.incoming&&v===u&&(i.push(c),i.push(d))}}return this.spawn(i,!0).filter(r)}},Qg=function(e){return function(r){for(var n=this,i=[],o={};;){var u=e.outgoing?n.outgoers():n.incomers();if(u.length===0)break;for(var l=!1,f=0;f<u.length;f++){var c=u[f],d=c.id();o[d]||(o[d]=!0,i.push(c),l=!0)}if(!l)break;n=u}return this.spawn(i,!0).filter(r)}};vr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Ue(vr,{roots:Yg({noIncomingEdges:!0}),leaves:Yg({noOutgoingEdges:!0}),outgoers:Yr(jg({outgoing:!0}),"outgoers"),successors:Qg({outgoing:!0}),incomers:Yr(jg({incoming:!0}),"incomers"),predecessors:Qg({incoming:!0})});Ue(vr,{neighborhood:Yr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],o=i.connectedEdges(),u=0;u<o.length;u++){var l=o[u],f=l.source(),c=l.target(),d=i===f?c:f;d.length>0&&e.push(d[0]),e.push(l[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});vr.neighbourhood=vr.neighborhood;vr.closedNeighbourhood=vr.closedNeighborhood;vr.openNeighbourhood=vr.openNeighborhood;Ue(vr,{source:Yr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Yr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Zg({attr:"source"}),targets:Zg({attr:"target"})});function Zg(t){return function(r){for(var n=[],i=0;i<this.length;i++){var o=this[i],u=o._private[t.attr];u&&n.push(u)}return this.spawn(n,!0).filter(r)}}Ue(vr,{edgesWith:Yr(Jg(),"edgesWith"),edgesTo:Yr(Jg({thisIsSrc:!0}),"edgesTo")});function Jg(t){return function(r){var n=[],i=this._private.cy,o=t||{};Ne(r)&&(r=i.$(r));for(var u=0;u<r.length;u++)for(var l=r[u]._private.edges,f=0;f<l.length;f++){var c=l[f],d=c._private.data,v=this.hasElementWithId(d.source)&&r.hasElementWithId(d.target),g=r.hasElementWithId(d.source)&&this.hasElementWithId(d.target),y=v||g;y&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!v||o.thisIsTgt&&!g)||n.push(c))}return this.spawn(n,!0)}}Ue(vr,{connectedEdges:Yr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var o=i._private.edges,u=0;u<o.length;u++){var l=o[u];e.push(l)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Yr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Yr(ep(),"parallelEdges"),codirectedEdges:Yr(ep({codirected:!0}),"codirectedEdges")});function ep(t){var e={codirected:!1};return t=Ue({},e,t),function(n){for(var i=[],o=this.edges(),u=t,l=0;l<o.length;l++)for(var f=o[l],c=f._private,d=c.source,v=d._private.data.id,g=c.data.target,y=d._private.edges,p=0;p<y.length;p++){var w=y[p],x=w._private.data,E=x.target,b=x.source,S=E===g&&b===v,T=v===E&&g===b;(u.codirected&&S||!u.codirected&&(S||T))&&i.push(w)}return this.spawn(i,!0).filter(n)}}Ue(vr,{components:function(e){var r=this,n=r.cy(),i=n.collection(),o=e==null?r.nodes():e.nodes(),u=[];e!=null&&o.empty()&&(o=e.sources());var l=function(d,v){i.merge(d),o.unmerge(d),v.merge(d)};if(o.empty())return r.spawn();var f=function(){var d=n.collection();u.push(d);var v=o[0];l(v,d),r.bfs({directed:!1,roots:v,visit:function(y){return l(y,d)}}),d.forEach(function(g){g.connectedEdges().forEach(function(y){r.has(y)&&d.has(y.source())&&d.has(y.target())&&d.merge(y)})})};do f();while(o.length>0);return u},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});vr.componentsOf=vr.components;var er=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Ct("A collection must have a reference to the core");return}var o=new yn,u=!1;if(!r)r=[];else if(r.length>0&&nt(r[0])&&!vs(r[0])){u=!0;for(var l=[],f=new Ui,c=0,d=r.length;c<d;c++){var v=r[c];v.data==null&&(v.data={});var g=v.data;if(g.id==null)g.id=hy();else if(e.hasElementWithId(g.id)||f.has(g.id))continue;var y=new El(e,v,!1);l.push(y),f.add(g.id)}r=l}this.length=0;for(var p=0,w=r.length;p<w;p++){var x=r[p][0];if(x!=null){var E=x._private.data.id;(!n||!o.has(E))&&(n&&o.set(E,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(b){this.lazyMap=b},rebuildMap:function(){for(var S=this.lazyMap=new yn,T=this.eles,O=0;O<T.length;O++){var L=T[O];S.set(L.id(),{index:O,ele:L})}}},n&&(this._private.map=o),u&&!i&&this.restore()},ht=El.prototype=er.prototype=Object.create(Array.prototype);ht.instanceString=function(){return"collection"};ht.spawn=function(t,e){return new er(this.cy(),t,e)};ht.spawnSelf=function(){return this.spawn(this)};ht.cy=function(){return this._private.cy};ht.renderer=function(){return this._private.cy.renderer()};ht.element=function(){return this[0]};ht.collection=function(){return Jp(this)?this:new er(this._private.cy,[this])};ht.unique=function(){return new er(this._private.cy,this,!0)};ht.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};ht.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new er(e)};ht.$id=ht.getElementById;ht.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};ht.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};ht.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};ht.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(nt(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var o=!1,u={},l=t.data.source,f=t.data.target;l!=null&&l!=i.source&&(u.source=""+l,o=!0),f!=null&&f!=i.target&&(u.target=""+f,o=!0),o&&(e=e.move(u))}else{var c="parent"in t.data,d=t.data.parent;c&&(d!=null||i.parent!=null)&&d!=i.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),e=e.move({parent:d}))}}t.position&&e.position(t.position);var v=function(w,x,E){var b=t[w];b!=null&&b!==n[w]&&(b?e[x]():e[E]())};return v("removed","remove","restore"),v("selected","select","unselect"),v("selectable","selectify","unselectify"),v("locked","lock","unlock"),v("grabbable","grabify","ungrabify"),v("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:pn(n.data),position:pn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};g.classes="";var y=0;return n.classes.forEach(function(p){return g.classes+=y++===0?p:" "+p}),g}}};ht.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};ht.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),o=new El(t,i,!1);e.push(o)}return new er(t,e)};ht.copy=ht.clone;ht.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,o=[],u=[],l,f=0,c=r.length;f<c;f++){var d=r[f];e&&!d.removed()||(d.isNode()?o.push(d):u.push(d))}l=o.concat(u);var v,g=function(){l.splice(v,1),v--};for(v=0;v<l.length;v++){var y=l[v],p=y._private,w=p.data;if(y.clearTraversalCache(),!(!e&&!p.removed)){if(w.id===void 0)w.id=hy();else if(Ee(w.id))w.id=""+w.id;else if(ca(w.id)||!Ne(w.id)){Ct("Can not create element with invalid string ID `"+w.id+"`"),g();continue}else if(n.hasElementWithId(w.id)){Ct("Can not create second element with ID `"+w.id+"`"),g();continue}}var x=w.id;if(y.isNode()){var E=p.position;E.x==null&&(E.x=0),E.y==null&&(E.y=0)}if(y.isEdge()){for(var b=y,S=["source","target"],T=S.length,O=!1,L=0;L<T;L++){var M=S[L],_=w[M];Ee(_)&&(_=w[M]=""+w[M]),_==null||_===""?(Ct("Can not create edge `"+x+"` with unspecified "+M),O=!0):n.hasElementWithId(_)||(Ct("Can not create edge `"+x+"` with nonexistant "+M+" `"+_+"`"),O=!0)}if(O){g();continue}var P=n.getElementById(w.source),N=n.getElementById(w.target);P.same(N)?P._private.edges.push(b):(P._private.edges.push(b),N._private.edges.push(b)),b._private.source=P,b._private.target=N}p.map=new yn,p.map.set(x,{ele:y,index:0}),p.removed=!1,e&&n.addToPool(y)}for(var R=0;R<o.length;R++){var A=o[R],B=A._private.data;Ee(B.parent)&&(B.parent=""+B.parent);var D=B.parent,z=D!=null;if(z||A._private.parent){var I=A._private.parent?n.collection().merge(A._private.parent):n.getElementById(D);if(I.empty())B.parent=void 0;else if(I[0].removed())ut("Node added with missing parent, reference to parent removed"),B.parent=void 0,A._private.parent=null;else{for(var G=!1,U=I;!U.empty();){if(A.same(U)){G=!0,B.parent=void 0;break}U=U.parent()}G||(I[0]._private.children.push(A),A._private.parent=I[0],i.hasCompoundNodes=!0)}}}if(l.length>0){for(var q=l.length===r.length?r:new er(n,l),$=0;$<q.length;$++){var V=q[$];V.isNode()||(V.parallelEdges().clearTraversalCache(),V.source().clearTraversalCache(),V.target().clearTraversalCache())}var W;i.hasCompoundNodes?W=n.collection().merge(q).merge(q.connectedNodes()).merge(q.parent()):W=q,W.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?q.emitAndNotify("add"):e&&q.emit("add")}return r};ht.removed=function(){var t=this[0];return t&&t._private.removed};ht.inside=function(){var t=this[0];return t&&!t._private.removed};ht.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},o=r._private.cy;function u(D){for(var z=D._private.edges,I=0;I<z.length;I++)f(z[I])}function l(D){for(var z=D._private.children,I=0;I<z.length;I++)f(z[I])}function f(D){var z=i[D.id()];e&&D.removed()||z||(i[D.id()]=!0,D.isNode()?(n.push(D),u(D),l(D)):n.unshift(D))}for(var c=0,d=r.length;c<d;c++){var v=r[c];f(v)}function g(D,z){var I=D._private.edges;va(I,z),D.clearTraversalCache()}function y(D){D.clearTraversalCache()}var p=[];p.ids={};function w(D,z){z=z[0],D=D[0];var I=D._private.children,G=D.id();va(I,z),z._private.parent=null,p.ids[G]||(p.ids[G]=!0,p.push(D))}r.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var x=0;x<n.length;x++){var E=n[x];if(E.isEdge()){var b=E.source()[0],S=E.target()[0];g(b,E),g(S,E);for(var T=E.parallelEdges(),O=0;O<T.length;O++){var L=T[O];y(L),L.isBundledBezier()&&L.dirtyBoundingBoxCache()}}else{var M=E.parent();M.length!==0&&w(M,E)}e&&(E._private.removed=!0)}var _=o._private.elements;o._private.hasCompoundNodes=!1;for(var P=0;P<_.length;P++){var N=_[P];if(N.isParent()){o._private.hasCompoundNodes=!0;break}}var R=new er(this.cy(),n);R.size()>0&&(t?R.emitAndNotify("remove"):e&&R.emit("remove"));for(var A=0;A<p.length;A++){var B=p[A];(!e||!B.removed())&&B.updateStyle()}return R};ht.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,o=function(p){return p==null?p:""+p};if(t.source!==void 0||t.target!==void 0){var u=o(t.source),l=o(t.target),f=u!=null&&e.hasElementWithId(u),c=l!=null&&e.hasElementWithId(l);(f||c)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var y=0;y<r.length;y++){var p=r[y],w=p._private.data;p.isEdge()&&(f&&(w.source=u),c&&(w.target=l))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var d=o(t.parent),v=d===null||e.hasElementWithId(d);if(v){var g=d===null?void 0:d;e.batch(function(){var y=r.remove(n,i);y.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var w=r[p],x=w._private.data;w.isNode()&&(x.parent=g)}y.restore(n,i)}),r.emitAndNotify("move")}}return this};[Ty,QS,el,la,Gi,v2,_l,D2,Zy,Jy,M2,hl,tl,Jt,fa,vr].forEach(function(t){Ue(ht,t)});var G2={add:function(e){var r,n=this;if(zr(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var o=[],u=0;u<i.length;u++){var l=i[u];o.push(l.json())}r=new er(n,o)}}else if(ct(e)){var f=e;r=new er(n,f)}else if(nt(e)&&(ct(e.nodes)||ct(e.edges))){for(var c=e,d=[],v=["nodes","edges"],g=0,y=v.length;g<y;g++){var p=v[g],w=c[p];if(ct(w))for(var x=0,E=w.length;x<E;x++){var b=Ue({group:p},w[x]);d.push(b)}}r=new er(n,d)}else{var S=e;r=new El(n,S).collection()}return r},remove:function(e){if(!zr(e)){if(Ne(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function U2(t,e,r,n){var i=4,o=.001,u=1e-7,l=10,f=11,c=1/(f-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var v=0;v<4;++v)if(typeof arguments[v]!="number"||isNaN(arguments[v])||!isFinite(arguments[v]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=d?new Float32Array(f):new Array(f);function y(N,R){return 1-3*R+3*N}function p(N,R){return 3*R-6*N}function w(N){return 3*N}function x(N,R,A){return((y(R,A)*N+p(R,A))*N+w(R))*N}function E(N,R,A){return 3*y(R,A)*N*N+2*p(R,A)*N+w(R)}function b(N,R){for(var A=0;A<i;++A){var B=E(R,t,r);if(B===0)return R;var D=x(R,t,r)-N;R-=D/B}return R}function S(){for(var N=0;N<f;++N)g[N]=x(N*c,t,r)}function T(N,R,A){var B,D,z=0;do D=R+(A-R)/2,B=x(D,t,r)-N,B>0?A=D:R=D;while(Math.abs(B)>u&&++z<l);return D}function O(N){for(var R=0,A=1,B=f-1;A!==B&&g[A]<=N;++A)R+=c;--A;var D=(N-g[A])/(g[A+1]-g[A]),z=R+D*c,I=E(z,t,r);return I>=o?b(N,z):I===0?z:T(N,R,R+c)}var L=!1;function M(){L=!0,(t!==e||r!==n)&&S()}var _=function(R){return L||M(),t===e&&r===n?R:R===0?0:R===1?1:x(O(R),e,n)};_.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var P="generateBezier("+[t,e,r,n]+")";return _.toString=function(){return P},_}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var q2=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,o){var u={x:n.x+o.dx*i,v:n.v+o.dv*i,tension:n.tension,friction:n.friction};return{dx:u.v,dv:t(u)}}function r(n,i){var o={dx:n.v,dv:t(n)},u=e(n,i*.5,o),l=e(n,i*.5,u),f=e(n,i,l),c=1/6*(o.dx+2*(u.dx+l.dx)+f.dx),d=1/6*(o.dv+2*(u.dv+l.dv)+f.dv);return n.x=n.x+c*i,n.v=n.v+d*i,n}return function n(i,o,u){var l={x:-1,v:0,tension:null,friction:null},f=[0],c=0,d=1/1e4,v=16/1e3,g,y,p;for(i=parseFloat(i)||500,o=parseFloat(o)||20,u=u||null,l.tension=i,l.friction=o,g=u!==null,g?(c=n(i,o),y=c/u*v):y=v;p=r(p||l,y),f.push(1+p.x),c+=16,Math.abs(p.x)>d&&Math.abs(p.v)>d;);return g?function(w){return f[w*(f.length-1)|0]}:c}}(),vt=function(e,r,n,i){var o=U2(e,r,n,i);return function(u,l,f){return u+(l-u)*o(f)}},rl={linear:function(e,r,n){return e+(r-e)*n},ease:vt(.25,.1,.25,1),"ease-in":vt(.42,0,1,1),"ease-out":vt(0,0,.58,1),"ease-in-out":vt(.42,0,.58,1),"ease-in-sine":vt(.47,0,.745,.715),"ease-out-sine":vt(.39,.575,.565,1),"ease-in-out-sine":vt(.445,.05,.55,.95),"ease-in-quad":vt(.55,.085,.68,.53),"ease-out-quad":vt(.25,.46,.45,.94),"ease-in-out-quad":vt(.455,.03,.515,.955),"ease-in-cubic":vt(.55,.055,.675,.19),"ease-out-cubic":vt(.215,.61,.355,1),"ease-in-out-cubic":vt(.645,.045,.355,1),"ease-in-quart":vt(.895,.03,.685,.22),"ease-out-quart":vt(.165,.84,.44,1),"ease-in-out-quart":vt(.77,0,.175,1),"ease-in-quint":vt(.755,.05,.855,.06),"ease-out-quint":vt(.23,1,.32,1),"ease-in-out-quint":vt(.86,0,.07,1),"ease-in-expo":vt(.95,.05,.795,.035),"ease-out-expo":vt(.19,1,.22,1),"ease-in-out-expo":vt(1,0,0,1),"ease-in-circ":vt(.6,.04,.98,.335),"ease-out-circ":vt(.075,.82,.165,1),"ease-in-out-circ":vt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return rl.linear;var i=q2(e,r,n);return function(o,u,l){return o+(u-o)*i(l)}},"cubic-bezier":vt};function tp(t,e,r,n,i){if(n===1||e===r)return r;var o=i(e,r,n);return t==null||((t.roundValue||t.color)&&(o=Math.round(o)),t.min!==void 0&&(o=Math.max(o,t.min)),t.max!==void 0&&(o=Math.min(o,t.max))),o}function rp(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Si(t,e,r,n,i){var o=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var u=rp(t,i),l=rp(e,i);if(Ee(u)&&Ee(l))return tp(o,u,l,r,n);if(ct(u)&&ct(l)){for(var f=[],c=0;c<l.length;c++){var d=u[c],v=l[c];if(d!=null&&v!=null){var g=tp(o,d,v,r,n);f.push(g)}else f.push(v)}return f}}function H2(t,e,r,n){var i=!n,o=t._private,u=e._private,l=u.easing,f=u.startTime,c=n?t:t.cy(),d=c.style();if(!u.easingImpl)if(l==null)u.easingImpl=rl.linear;else{var v;if(Ne(l)){var g=d.parse("transition-timing-function",l);v=g.value}else v=l;var y,p;Ne(v)?(y=v,p=[]):(y=v[1],p=v.slice(2).map(function(q){return+q})),p.length>0?(y==="spring"&&p.push(u.duration),u.easingImpl=rl[y].apply(null,p)):u.easingImpl=rl[y]}var w=u.easingImpl,x;if(u.duration===0?x=1:x=(r-f)/u.duration,u.applying&&(x=u.progress),x<0?x=0:x>1&&(x=1),u.delay==null){var E=u.startPosition,b=u.position;if(b&&i&&!t.locked()){var S={};Fo(E.x,b.x)&&(S.x=Si(E.x,b.x,x,w)),Fo(E.y,b.y)&&(S.y=Si(E.y,b.y,x,w)),t.position(S)}var T=u.startPan,O=u.pan,L=o.pan,M=O!=null&&n;M&&(Fo(T.x,O.x)&&(L.x=Si(T.x,O.x,x,w)),Fo(T.y,O.y)&&(L.y=Si(T.y,O.y,x,w)),t.emit("pan"));var _=u.startZoom,P=u.zoom,N=P!=null&&n;N&&(Fo(_,P)&&(o.zoom=is(o.minZoom,Si(_,P,x,w),o.maxZoom)),t.emit("zoom")),(M||N)&&t.emit("viewport");var R=u.style;if(R&&R.length>0&&i){for(var A=0;A<R.length;A++){var B=R[A],D=B.name,z=B,I=u.startStyle[D],G=d.properties[I.name],U=Si(I,z,x,w,G);d.overrideBypass(t,D,U)}t.emit("style")}}return u.progress=x,x}function Fo(t,e){return t==null||e==null?!1:Ee(t)&&Ee(e)?!0:!!(t&&e)}function $2(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function np(t,e){var r=e._private.aniEles,n=[];function i(d,v){var g=d._private,y=g.animation.current,p=g.animation.queue,w=!1;if(y.length===0){var x=p.shift();x&&y.push(x)}for(var E=function(L){for(var M=L.length-1;M>=0;M--){var _=L[M];_()}L.splice(0,L.length)},b=y.length-1;b>=0;b--){var S=y[b],T=S._private;if(T.stopped){y.splice(b,1),T.hooked=!1,T.playing=!1,T.started=!1,E(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||$2(d,S,t),H2(d,S,t,v),T.applying&&(T.applying=!1),E(T.frames),T.step!=null&&T.step(t),S.completed()&&(y.splice(b,1),T.hooked=!1,T.playing=!1,T.started=!1,E(T.completes)),w=!0)}return!v&&y.length===0&&p.length===0&&n.push(d),w}for(var o=!1,u=0;u<r.length;u++){var l=r[u],f=i(l);o=o||f}var c=i(e,!0);(o||c)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var W2={animate:st.animate(),animation:st.animation(),animated:st.animated(),clearQueue:st.clearQueue(),delay:st.delay(),delayAnimation:st.delayAnimation(),stop:st.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ll(function(o){np(o,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(o,u){np(u,e)},n.beforeRenderPriorities.animations):r()}},K2={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&vs(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},$u=function(e){return Ne(e)?new ha(e):e},rm={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Dl(K2,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,$u(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,$u(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,$u(r),n),this},once:function(e,r,n){return this.emitter().one(e,$u(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};st.eventAliasesOn(rm);var Xc={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Xc.jpeg=Xc.jpg;var nl={layout:function(e){var r=this;if(e==null){Ct("Layout options must be specified to make a layout");return}if(e.name==null){Ct("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){Ct("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;Ne(e.eles)?o=r.$(e.eles):o=e.eles!=null?e.eles:r.$();var u=new i(Ue({},e,{cy:r,eles:o}));return u}};nl.createLayout=nl.makeLayout=nl.layout;var X2={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],u=e[o],l=r.getElementById(o);l.data(u)}})}},Y2=Yt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Yc={renderTo:function(e,r,n,i){var o=this._private.renderer;return o.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Ct("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ut("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=Y2(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Yc.invalidateDimensions=Yc.resize;var al={collection:function(e,r){return Ne(e)?this.$(e):zr(e)?e.collection():ct(e)?(r||(r={}),new er(this,e,r.unique,r.removed)):new er(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};al.elements=al.filter=al.$;var gr={},Qo="t",j2="f";gr.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),o=0;o<t.length;o++){var u=t[o],l=e.getContextMeta(u);if(!l.empty){var f=e.getContextStyle(l),c=e.applyContextStyle(l,f,u);u._private.appliedInitStyle?e.updateTransitions(u,c.diffProps):u._private.appliedInitStyle=!0;var d=e.updateStyleHints(u);d&&i.push(u)}}return i};gr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,o=n[i];if(o)return o;for(var u=[],l={},f=0;f<r.length;f++){var c=r[f],d=t[f]===Qo,v=e[f]===Qo,g=d!==v,y=c.mappedProperties.length>0;if(g||v&&y){var p=void 0;g&&y||g?p=c.properties:y&&(p=c.mappedProperties);for(var w=0;w<p.length;w++){for(var x=p[w],E=x.name,b=!1,S=f+1;S<r.length;S++){var T=r[S],O=e[S]===Qo;if(O&&(b=T.properties[x.name]!=null,b))break}!l[E]&&!b&&(l[E]=!0,u.push(E))}}}return n[i]=u,u};gr.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",o=0;o<e.length;o++){var u=e[o],l=u.selector&&u.selector.matches(t);l?r+=Qo:r+=j2}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};gr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},o=0;o<r.length;o++){var u=r[o],l=e[o]===Qo;if(l)for(var f=0;f<u.properties.length;f++){var c=u.properties[f];i[c.name]=c}}return n[e]=i,i};gr.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,o={},u=n.types,l=0;l<i.length;l++){var f=i[l],c=e[f],d=r.pstyle(f);if(!c)if(d)d.bypass?c={name:f,deleteBypassed:!0}:c={name:f,delete:!0};else continue;if(d!==c){if(c.mapped===u.fn&&d!=null&&d.mapping!=null&&d.mapping.value===c.value){var v=d.mapping,g=v.fnValue=c.value(r);if(g===v.prevFnValue)continue}var y=o[f]={prev:d};n.applyParsedProperty(r,c),y.next=r.pstyle(f),y.next&&y.next.bypass&&(y.next=y.next.bypassed)}}return{diffProps:o}};gr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,o=function(Q,ce,he){return r.getPropertiesHash(Q,ce,he)},u=e.styleKey;if(t.removed())return!1;var l=e.group==="nodes",f=t._private.style;n=Object.keys(f);for(var c=0;c<i.length;c++){var d=i[c];e.styleKeys[d]=[Bi,Ko]}for(var v=function(Q,ce){return e.styleKeys[ce][0]=rs(Q,e.styleKeys[ce][0])},g=function(Q,ce){return e.styleKeys[ce][1]=ns(Q,e.styleKeys[ce][1])},y=function(Q,ce){v(Q,ce),g(Q,ce)},p=function(Q,ce){for(var he=0;he<Q.length;he++){var me=Q.charCodeAt(he);v(me,ce),g(me,ce)}},w=2e9,x=function(Q){return-128<Q&&Q<128&&Math.floor(Q)!==Q?w-(Q*1024|0):Q},E=0;E<n.length;E++){var b=n[E],S=f[b];if(S!=null){var T=this.properties[b],O=T.type,L=T.groupKey,M=void 0;T.hashOverride!=null?M=T.hashOverride(t,S):S.pfValue!=null&&(M=S.pfValue);var _=T.enums==null?S.value:null,P=M!=null,N=_!=null,R=P||N,A=S.units;if(O.number&&R&&!O.multiple){var B=P?M:_;y(x(B),L),!P&&A!=null&&p(A,L)}else p(S.strValue,L)}}for(var D=[Bi,Ko],z=0;z<i.length;z++){var I=i[z],G=e.styleKeys[I];D[0]=rs(G[0],D[0]),D[1]=ns(G[1],D[1])}e.styleKey=nx(D[0],D[1]);var U=e.styleKeys;e.labelDimsKey=ia(U.labelDimensions);var q=o(t,["label"],U.labelDimensions);if(e.labelKey=ia(q),e.labelStyleKey=ia(Ou(U.commonLabel,q)),!l){var $=o(t,["source-label"],U.labelDimensions);e.sourceLabelKey=ia($),e.sourceLabelStyleKey=ia(Ou(U.commonLabel,$));var V=o(t,["target-label"],U.labelDimensions);e.targetLabelKey=ia(V),e.targetLabelStyleKey=ia(Ou(U.commonLabel,V))}if(l){var W=e.styleKeys,ee=W.nodeBody,J=W.nodeBorder,te=W.nodeOutline,re=W.backgroundImage,fe=W.compound,ue=W.pie,Y=[ee,J,te,re,fe,ue].filter(function(j){return j!=null}).reduce(Ou,[Bi,Ko]);e.nodeKey=ia(Y),e.hasPie=ue!=null&&ue[0]!==Bi&&ue[1]!==Ko}return u!==e.styleKey};gr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};gr.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,o,u=r.types,l=r.properties[n.name].type,f=n.bypass,c=i[n.name],d=c&&c.bypass,v=t._private,g="mapping",y=function(ee){return ee==null?null:ee.pfValue!=null?ee.pfValue:ee.value},p=function(){var ee=y(c),J=y(n);r.checkTriggers(t,n.name,ee,J)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",f)),n.delete)return i[n.name]=void 0,p(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,p(),!0):!1:(p(),!0);if(n.deleteBypass)return c?c.bypass?(i[n.name]=c.bypassed,p(),!0):!1:(p(),!0);var w=function(){ut("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case u.mapData:{for(var x=n.field.split("."),E=v.data,b=0;b<x.length&&E;b++){var S=x[b];E=E[S]}if(E==null)return w(),!1;var T;if(Ee(E)){var O=n.fieldMax-n.fieldMin;O===0?T=0:T=(E-n.fieldMin)/O}else return ut("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+E+"` for `"+t.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),l.color){var L=n.valueMin[0],M=n.valueMax[0],_=n.valueMin[1],P=n.valueMax[1],N=n.valueMin[2],R=n.valueMax[2],A=n.valueMin[3]==null?1:n.valueMin[3],B=n.valueMax[3]==null?1:n.valueMax[3],D=[Math.round(L+(M-L)*T),Math.round(_+(P-_)*T),Math.round(N+(R-N)*T),Math.round(A+(B-A)*T)];o={bypass:n.bypass,name:n.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else if(l.number){var z=n.valueMin+(n.valueMax-n.valueMin)*T;o=this.parse(n.name,z,n.bypass,g)}else return!1;if(!o)return w(),!1;o.mapping=n,n=o;break}case u.data:{for(var I=n.field.split("."),G=v.data,U=0;U<I.length&&G;U++){var q=I[U];G=G[q]}if(G!=null&&(o=this.parse(n.name,G,n.bypass,g)),!o)return w(),!1;o.mapping=n,n=o;break}case u.fn:{var $=n.value,V=n.fnValue!=null?n.fnValue:$(t);if(n.prevFnValue=V,V==null)return ut("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(o=this.parse(n.name,V,n.bypass,g),!o)return ut("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;o.mapping=pn(n),n=o;break}case void 0:break;default:return!1}return f?(d?n.bypassed=c.bypassed:n.bypassed=c,i[n.name]=n):d?c.bypassed=n:i[n.name]=n,p(),!0};gr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,o=Object.keys(i),u=0;u<o.length;u++){var l=o[u],f=i[l];f!=null&&(f.bypass?f.bypassed=null:i[l]=null)}}};gr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};gr.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,u=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var l={},f=!1,c=0;c<i.length;c++){var d=i[c],v=t.pstyle(d),g=e[d];if(g){var y=g.prev,p=y,w=g.next!=null?g.next:v,x=!1,E=void 0,b=1e-6;p&&(Ee(p.pfValue)&&Ee(w.pfValue)?(x=w.pfValue-p.pfValue,E=p.pfValue+b*x):Ee(p.value)&&Ee(w.value)?(x=w.value-p.value,E=p.value+b*x):ct(p.value)&&ct(w.value)&&(x=p.value[0]!==w.value[0]||p.value[1]!==w.value[1]||p.value[2]!==w.value[2],E=p.strValue),x&&(l[d]=w.strValue,this.applyBypass(t,d,E),f=!0))}}if(!f)return;n.transitioning=!0,new qi(function(S){u>0?t.delayAnimation(u).play().promise().then(S):S()}).then(function(){return t.animation({style:l,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};gr.checkTrigger=function(t,e,r,n,i,o){var u=this.properties[e],l=i(u);l!=null&&l(r,n)&&o(u)};gr.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};gr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};gr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var ms={};ms.applyBypass=function(t,e,r,n){var i=this,o=[],u=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var l=0;l<i.properties.length;l++){var f=i.properties[l],c=f.name,d=this.parse(c,r,!0);d&&o.push(d)}}else if(Ne(e)){var v=this.parse(e,r,!0);v&&o.push(v)}else if(nt(e)){var g=e;n=r;for(var y=Object.keys(g),p=0;p<y.length;p++){var w=y[p],x=g[w];if(x===void 0&&(x=g[xl(w)]),x!==void 0){var E=this.parse(w,x,!0);E&&o.push(E)}}}else return!1;if(o.length===0)return!1;for(var b=!1,S=0;S<t.length;S++){for(var T=t[S],O={},L=void 0,M=0;M<o.length;M++){var _=o[M];if(n){var P=T.pstyle(_.name);L=O[_.name]={prev:P}}b=this.applyParsedProperty(T,pn(_))||b,n&&(L.next=T.pstyle(_.name))}b&&this.updateStyleHints(T),n&&this.updateTransitions(T,O,u)}return b};ms.overrideBypass=function(t,e,r){e=ud(e);for(var n=0;n<t.length;n++){var i=t[n],o=i._private.style[e],u=this.properties[e].type,l=u.color,f=u.mutiple,c=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,r):(o.value=r,o.pfValue!=null&&(o.pfValue=r),l?o.strValue="rgb("+r.join(",")+")":f?o.strValue=r.join(" "):o.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,c,r)}};ms.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};ms.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var o=t[i],u={},l=0;l<e.length;l++){var f=e[l],c=this.properties[f],d=o.pstyle(c.name);if(!(!d||!d.bypass)){var v="",g=this.parse(f,v,!0),y=u[c.name]={prev:d};this.applyParsedProperty(o,g),y.next=o.pstyle(c.name)}}this.updateStyleHints(o),r&&this.updateTransitions(o,u,n)}};var Ed={};Ed.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Ed.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var mn={};mn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};mn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var o=r.properties[i],u=r.getStylePropertyValue(t,o.name,e);u!=null&&(n[o.name]=u,n[xl(o.name)]=u)}return n}};mn.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};mn.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,u=t.pstyle(i.name);if(u){var l=u.value,f=u.units,c=u.strValue;if(r&&o.number&&l!=null&&Ee(l)){var d=t.cy().zoom(),v=function(x){return x*d},g=function(x,E){return v(x)+E},y=ct(l),p=y?f.every(function(w){return w!=null}):f!=null;return p?y?l.map(function(w,x){return g(w,f[x])}).join(" "):g(l,f):y?l.map(function(w){return Ne(w)?w:""+v(w)}).join(" "):""+v(l)}else if(c!=null)return c}return null}};mn.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],o=i.name,u=t.pstyle(o);u!==void 0&&(nt(u)?u=this.parse(o,u.strValue):u=this.parse(o,u)),u&&(r[o]=u)}return r};mn.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var o=Object.keys(n),u=0;u<o.length;u++){var l=o[u],f=n[l],c=i[l]||i[ud(l)],d=this.parse(c.name,f);d&&r.push(d)}return r};mn.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,o,u,l,f,c;for(f=0;f<e.length;f++)if(i=e[f],o=t.pstyle(i,!1),o!=null)if(o.pfValue!=null)n[0]=rs(l,n[0]),n[1]=ns(l,n[1]);else for(u=o.strValue,c=0;c<u.length;c++)l=u.charCodeAt(c),n[0]=rs(l,n[0]),n[1]=ns(l,n[1]);return n};mn.getPropertiesHash=mn.getNonDefaultPropertiesHash;var Ll={};Ll.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,o=n.style||n.css,u=Object.keys(o);e.selector(i);for(var l=0;l<u.length;l++){var f=u[l],c=o[f];e.css(f,c)}}return e};Ll.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Ll.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,o={},u=0;u<i.length;u++){var l=i[u];o[l.name]=l.strValue}t.push({selector:n?n.toString():"core",style:o})}return t};var Sd={};Sd.appendFromString=function(t){var e=this,r=this,n=""+t,i,o,u;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>i.length?n=n.substr(i.length):n=""}function f(){o.length>u.length?o=o.substr(u.length):o=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var d=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){ut("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=d[0];var v=d[1];if(v!=="core"){var g=new ha(v);if(g.invalid){ut("Skipping parsing of block: Invalid selector found in string stylesheet: "+v),l();continue}}var y=d[2],p=!1;o=y;for(var w=[];;){var x=o.match(/^\s*$/);if(x)break;var E=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!E){ut("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+y),p=!0;break}u=E[0];var b=E[1],S=E[2],T=e.properties[b];if(!T){ut("Skipping property: Invalid property name in: "+u),f();continue}var O=r.parse(b,S);if(!O){ut("Skipping property: Invalid property definition in: "+u),f();continue}w.push({name:b,val:S}),f()}if(p){l();break}r.selector(v);for(var L=0;L<w.length;L++){var M=w[L];r.css(M.name,M.val)}l()}return r};Sd.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Zt={};(function(){var t=Ft,e=sw,r=lw,n=fw,i=cw,o=function(Y){return"^"+Y+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(Y){var j=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+Y+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+j+")\\s*\\,\\s*("+j+")\\)$"},l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Zt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Y,j){switch(Y.length){case 2:return j[0]!=="deg"&&j[0]!=="rad"&&j[1]!=="deg"&&j[1]!=="rad";case 1:return Ne(Y[0])||j[0]==="deg"||j[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Y){var j=Y.length;return j===1||j===2||j===4}}};var f={zeroNonZero:function(Y,j){return(Y==null||j==null)&&Y!==j||Y==0&&j!=0?!0:Y!=0&&j==0},any:function(Y,j){return Y!=j},emptyNonEmpty:function(Y,j){var Q=ca(Y),ce=ca(j);return Q&&!ce||!Q&&ce}},c=Zt.types,d=[{name:"label",type:c.text,triggersBounds:f.any,triggersZOrder:f.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any}],v=[{name:"source-label",type:c.text,triggersBounds:f.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"source-text-offset",type:c.size,triggersBounds:f.any}],g=[{name:"target-label",type:c.text,triggersBounds:f.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"target-text-offset",type:c.size,triggersBounds:f.any}],y=[{name:"font-family",type:c.fontFamily,triggersBounds:f.any},{name:"font-style",type:c.fontStyle,triggersBounds:f.any},{name:"font-weight",type:c.fontWeight,triggersBounds:f.any},{name:"font-size",type:c.size,triggersBounds:f.any},{name:"text-transform",type:c.textTransform,triggersBounds:f.any},{name:"text-wrap",type:c.textWrap,triggersBounds:f.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:f.any},{name:"text-max-width",type:c.size,triggersBounds:f.any},{name:"text-outline-width",type:c.size,triggersBounds:f.any},{name:"line-height",type:c.positiveNumber,triggersBounds:f.any}],p=[{name:"text-valign",type:c.valign,triggersBounds:f.any},{name:"text-halign",type:c.halign,triggersBounds:f.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:f.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:f.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:f.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:f.any},{name:"text-justification",type:c.justification}],w=[{name:"events",type:c.bool,triggersZOrder:f.any},{name:"text-events",type:c.bool,triggersZOrder:f.any}],x=[{name:"display",type:c.display,triggersZOrder:f.any,triggersBounds:f.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:c.visibility,triggersZOrder:f.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:f.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:f.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:f.any},{name:"z-index",type:c.number,triggersZOrder:f.any}],E=[{name:"overlay-padding",type:c.size,triggersBounds:f.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:f.any},{name:"overlay-corner-radius",type:c.cornerRadius}],b=[{name:"underlay-padding",type:c.size,triggersBounds:f.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:f.any},{name:"underlay-corner-radius",type:c.cornerRadius}],S=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],T=function(Y,j){return j.value==="label"?-Y.poolIndex():j.pfValue},O=[{name:"height",type:c.nodeSize,triggersBounds:f.any,hashOverride:T},{name:"width",type:c.nodeSize,triggersBounds:f.any,hashOverride:T},{name:"shape",type:c.nodeShape,triggersBounds:f.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:f.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:f.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:f.any}],L=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:f.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],M=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:f.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:f.any}],_=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],P=[{name:"position",type:c.position,triggersBounds:f.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:f.any},{name:"min-width",type:c.size,triggersBounds:f.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-height",type:c.size,triggersBounds:f.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:f.any}],N=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:f.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:f.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:f.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:f.any},{name:"control-point-step-size",type:c.size,triggersBounds:f.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:f.any},{name:"control-point-weights",type:c.numbers,triggersBounds:f.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:f.any},{name:"segment-weights",type:c.numbers,triggersBounds:f.any},{name:"segment-radii",type:c.numbers,triggersBounds:f.any},{name:"radius-type",type:c.radiusType,triggersBounds:f.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:f.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:f.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:f.any},{name:"taxi-radius",type:c.number,triggersBounds:f.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:f.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:f.any},{name:"loop-direction",type:c.angle,triggersBounds:f.any},{name:"loop-sweep",type:c.angle,triggersBounds:f.any},{name:"source-distance-from-node",type:c.size,triggersBounds:f.any},{name:"target-distance-from-node",type:c.size,triggersBounds:f.any}],R=[{name:"ghost",type:c.bool,triggersBounds:f.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"ghost-opacity",type:c.zeroOneNumber}],A=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],B=[];Zt.pieBackgroundN=16,B.push({name:"pie-size",type:c.sizeMaybePercent});for(var D=1;D<=Zt.pieBackgroundN;D++)B.push({name:"pie-"+D+"-background-color",type:c.color}),B.push({name:"pie-"+D+"-background-size",type:c.percent}),B.push({name:"pie-"+D+"-background-opacity",type:c.zeroOneNumber});var z=[],I=Zt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:f.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(ue){I.forEach(function(Y){var j=Y+"-"+ue.name,Q=ue.type,ce=ue.triggersBounds;z.push({name:j,type:Q,triggersBounds:ce})})},{});var G=Zt.properties=[].concat(w,S,x,E,b,R,p,y,d,v,g,O,L,M,_,B,P,N,z,A),U=Zt.propertyGroups={behavior:w,transition:S,visibility:x,overlay:E,underlay:b,ghost:R,commonLabel:p,labelDimensions:y,mainLabel:d,sourceLabel:v,targetLabel:g,nodeBody:O,nodeBorder:L,nodeOutline:M,backgroundImage:_,pie:B,compound:P,edgeLine:N,edgeArrow:z,core:A},q=Zt.propertyGroupNames={},$=Zt.propertyGroupKeys=Object.keys(U);$.forEach(function(ue){q[ue]=U[ue].map(function(Y){return Y.name}),U[ue].forEach(function(Y){return Y.groupKey=ue})});var V=Zt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Zt.propertyNames=G.map(function(ue){return ue.name});for(var W=0;W<G.length;W++){var ee=G[W];G[ee.name]=ee}for(var J=0;J<V.length;J++){var te=V[J],re=G[te.pointsTo],fe={name:te.name,alias:!0,pointsTo:re};G.push(fe),G[te.name]=fe}})();Zt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Zt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ue({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(f,c){for(var d=1;d<=Zt.pieBackgroundN;d++){var v=c.name.replace("{{i}}",d),g=c.value;f[v]=g}return f},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(f,c){return Zt.arrowPrefixes.forEach(function(d){var v=d+"-"+c.name,g=c.value;f[v]=g}),f},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var o=i.name,u=e[o],l=this.parse(o,u);r[o]=l}}return t.defaultProperties=r,t.defaultProperties};Zt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Rl={};Rl.parse=function(t,e,r,n){var i=this;if(kt(e))return i.parseImplWarn(t,e,r,n);var o=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,u=r?"t":"f",l=""+e,f=cy(t,l,u,o),c=i.propCache=i.propCache||[],d;return(d=c[f])||(d=c[f]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(d=pn(d),d&&(d.value=pn(d.value))),d};Rl.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&ut("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&ut("The style value of `label` is deprecated for `"+i.name+"`"),i};Rl.parseImpl=function(t,e,r,n){var i=this;t=ud(t);var o=i.properties[t],u=e,l=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,t=o.name);var f=Ne(e);f&&(e=e.trim());var c=o.type;if(!c)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(kt(e))return{name:t,value:e,strValue:"fn",mapped:l.fn,bypass:r};var d,v;if(!(!f||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(d=new RegExp(l.data.regex).exec(e))){if(r)return!1;var g=l.data;return{name:t,value:d,strValue:""+e,mapped:g,field:d[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(v=new RegExp(l.mapData.regex).exec(e))){if(r||c.multiple)return!1;var y=l.mapData;if(!(c.color||c.number))return!1;var p=this.parse(t,v[4]);if(!p||p.mapped)return!1;var w=this.parse(t,v[5]);if(!w||w.mapped)return!1;if(p.pfValue===w.pfValue||p.strValue===w.strValue)return ut("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+p.strValue+"`"),this.parse(t,p.strValue);if(c.color){var x=p.value,E=w.value,b=x[0]===E[0]&&x[1]===E[1]&&x[2]===E[2]&&(x[3]===E[3]||(x[3]==null||x[3]===1)&&(E[3]==null||E[3]===1));if(b)return!1}return{name:t,value:v,strValue:""+e,mapped:y,field:v[1],fieldMin:parseFloat(v[2]),fieldMax:parseFloat(v[3]),valueMin:p.value,valueMax:w.value,bypass:r}}}if(c.multiple&&n!=="multiple"){var S;if(f?S=e.split(/\s+/):ct(e)?S=e:S=[e],c.evenMultiple&&S.length%2!==0)return null;for(var T=[],O=[],L=[],M="",_=!1,P=0;P<S.length;P++){var N=i.parse(t,S[P],r,"multiple");_=_||Ne(N.value),T.push(N.value),L.push(N.pfValue!=null?N.pfValue:N.value),O.push(N.units),M+=(P>0?" ":"")+N.strValue}return c.validate&&!c.validate(T,O)?null:c.singleEnum&&_?T.length===1&&Ne(T[0])?{name:t,value:T[0],strValue:T[0],bypass:r}:null:{name:t,value:T,pfValue:L,strValue:M,bypass:r,units:O}}var R=function(){for(var Y=0;Y<c.enums.length;Y++){var j=c.enums[Y];if(j===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(c.number){var A,B="px";if(c.units&&(A=c.units),c.implicitUnits&&(B=c.implicitUnits),!c.unitless)if(f){var D="px|em"+(c.allowPercent?"|\\%":"");A&&(D=A);var z=e.match("^("+Ft+")("+D+")?$");z&&(e=z[1],A=z[2]||B)}else(!A||c.implicitUnits)&&(A=B);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=u,R();if(c.integer&&!ew(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var I={name:t,value:e,strValue:""+e+(A||""),units:A,bypass:r};return c.unitless||A!=="px"&&A!=="em"?I.pfValue=e:I.pfValue=A==="px"||!A?e:this.getEmSizeInPixels()*e,(A==="ms"||A==="s")&&(I.pfValue=A==="ms"?e:1e3*e),(A==="deg"||A==="rad")&&(I.pfValue=A==="rad"?e:Rx(e)),A==="%"&&(I.pfValue=e/100),I}else if(c.propList){var G=[],U=""+e;if(U!=="none"){for(var q=U.split(/\s*,\s*|\s+/),$=0;$<q.length;$++){var V=q[$].trim();i.properties[V]?G.push(V):ut("`"+V+"` is not a valid property name")}if(G.length===0)return null}return{name:t,value:G,strValue:G.length===0?"none":G.join(" "),bypass:r}}else if(c.color){var W=ny(e);return W?{name:t,value:W,pfValue:W,strValue:"rgb("+W[0]+","+W[1]+","+W[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var ee=R();if(ee)return ee}for(var J=c.regexes?c.regexes:[c.regex],te=0;te<J.length;te++){var re=new RegExp(J[te]),fe=re.exec(e);if(fe)return{name:t,value:c.singleRegexMatchValue?fe[1]:fe,strValue:""+e,bypass:r}}return null}else return c.string?{name:t,value:""+e,strValue:""+e,bypass:r}:c.enums?R():null};var dr=function t(e){if(!(this instanceof t))return new t(e);if(!sd(e)){Ct("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},hr=dr.prototype;hr.instanceString=function(){return"style"};hr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};hr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};hr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};hr.selector=function(t){var e=t==="core"?null:new ha(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};hr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],o=r[i.name];o===void 0&&(o=r[xl(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};hr.style=hr.css;hr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};hr.append=function(t){return ey(t)?t.appendToStyle(this):ct(t)?this.appendFromJson(t):Ne(t)&&this.appendFromString(t),this};dr.fromJson=function(t,e){var r=new dr(t);return r.fromJson(e),r};dr.fromString=function(t,e){return new dr(t).fromString(e)};[gr,ms,Ed,mn,Ll,Sd,Zt,Rl].forEach(function(t){Ue(hr,t)});dr.types=hr.types;dr.properties=hr.properties;dr.propertyGroups=hr.propertyGroups;dr.propertyGroupNames=hr.propertyGroupNames;dr.propertyGroupKeys=hr.propertyGroupKeys;var Q2={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return ey(e)?r.style=e.generateStyle(this):ct(e)?r.style=dr.fromJson(this,e):Ne(e)?r.style=dr.fromString(this,e):r.style=dr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},Z2="single",Ka={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=Z2),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,o,u,l;switch(e.length){case 0:return r;case 1:if(Ne(e[0]))return n=e[0],r[n];if(nt(e[0])){if(!this._private.panningEnabled)return this;o=e[0],u=o.x,l=o.y,Ee(u)&&(r.x=u),Ee(l)&&(r.y=l),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Ee(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,o,u,l,f,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:nt(e)&&(l=n[0],f=l.x,c=l.y,Ee(f)&&(i.x+=f),Ee(c)&&(i.y+=c),this.emit("pan viewport"));break;case 2:o=e,u=r,(o==="x"||o==="y")&&Ee(u)&&(i[o]+=u),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Ee(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ne(e)){var i=e;e=this.$(i)}else if(nw(e)){var o=e;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else zr(e)||(e=this.mutableElements());if(!(zr(e)&&e.empty())){n=n||e.boundingBox();var u=this.width(),l=this.height(),f;if(r=Ee(r)?r:0,!isNaN(u)&&!isNaN(l)&&u>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){f=Math.min((u-2*r)/n.w,(l-2*r)/n.h),f=f>this._private.maxZoom?this._private.maxZoom:f,f=f<this._private.minZoom?this._private.minZoom:f;var c={x:(u-f*(n.x1+n.x2))/2,y:(l-f*(n.y1+n.y2))/2};return{zoom:f,pan:c}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return Ee(e)&&Ee(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Ee(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Ee(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,o,u,l=!1;if(r.zoomingEnabled||(l=!0),Ee(e)?u=e:nt(e)&&(u=e.level,e.position!=null?o=Sl(e.position,i,n):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!r.panningEnabled&&(l=!0)),u=u>r.maxZoom?r.maxZoom:u,u=u<r.minZoom?r.minZoom:u,l||!Ee(u)||u===i||o!=null&&(!Ee(o.x)||!Ee(o.y)))return null;if(o!=null){var f=n,c=i,d=u,v={x:-d/c*(o.x-f.x)+o.x,y:-d/c*(o.y-f.y)+o.y};return{zoomed:!0,panned:!0,zoom:d,pan:v}}else return{zoomed:!0,panned:!1,zoom:u,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,o=[],u=!1,l=!1;if(!e)return this;if(Ee(e.zoom)||(n=!1),nt(e.pan)||(i=!1),!n&&!i)return this;if(n){var f=e.zoom;f<r.minZoom||f>r.maxZoom||!r.zoomingEnabled?u=!0:(r.zoom=f,o.push("zoom"))}if(i&&(!u||!e.cancelOnFailedZoom)&&r.panningEnabled){var c=e.pan;Ee(c.x)&&(r.pan.x=c.x,l=!1),Ee(c.y)&&(r.pan.y=c.y,l=!1),l||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Ne(e)){var n=e;e=this.mutableElements().filter(n)}else zr(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),u=this.height();r=r===void 0?this._private.zoom:r;var l={x:(o-r*(i.x1+i.x2))/2,y:(u-r*(i.y1+i.y2))/2};return l}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),o=function(l){return parseFloat(i.getPropertyValue(l))};return{width:r.clientWidth-o("padding-left")-o("padding-right"),height:r.clientHeight-o("padding-top")-o("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Ka.centre=Ka.center;Ka.autolockNodes=Ka.autolock;Ka.autoungrabifyNodes=Ka.autoungrabify;var fs={data:st.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:st.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:st.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:st.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};fs.attr=fs.data;fs.removeAttr=fs.removeData;var cs=function(e){var r=this;e=Ue({},e);var n=e.container;n&&!ul(n)&&ul(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var u=zt!==void 0&&n!==void 0&&!e.headless,l=e;l.layout=Ue({name:u?"grid":"null"},l.layout),l.renderer=Ue({name:u?"canvas":"null"},l.renderer);var f=function(p,w,x){return w!==void 0?w:x!==void 0?x:p},c=this._private={container:n,ready:!1,options:l,elements:new er(this),listeners:[],aniEles:new er(this),data:l.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,l.zoomingEnabled),userZoomingEnabled:f(!0,l.userZoomingEnabled),panningEnabled:f(!0,l.panningEnabled),userPanningEnabled:f(!0,l.userPanningEnabled),boxSelectionEnabled:f(!0,l.boxSelectionEnabled),autolock:f(!1,l.autolock,l.autolockNodes),autoungrabify:f(!1,l.autoungrabify,l.autoungrabifyNodes),autounselectify:f(!1,l.autounselectify),styleEnabled:l.styleEnabled===void 0?u:l.styleEnabled,zoom:Ee(l.zoom)?l.zoom:1,pan:{x:nt(l.pan)&&Ee(l.pan.x)?l.pan.x:0,y:nt(l.pan)&&Ee(l.pan.y)?l.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:f(250,l.multiClickDebounceTime)};this.createEmitter(),this.selectionType(l.selectionType),this.zoomRange({min:l.minZoom,max:l.maxZoom});var d=function(p,w){var x=p.some(aw);if(x)return qi.all(p).then(w);w(p)};c.styleEnabled&&r.setStyle([]);var v=Ue({},l,l.renderer);r.initRenderer(v);var g=function(p,w,x){r.notifications(!1);var E=r.mutableElements();E.length>0&&E.remove(),p!=null&&(nt(p)||ct(p))&&r.add(p),r.one("layoutready",function(S){r.notifications(!0),r.emit(S),r.one("load",w),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",x),r.emit("done")});var b=Ue({},r._private.options.layout);b.eles=r.elements(),r.layout(b).run()};d([l.style,l.elements],function(y){var p=y[0],w=y[1];c.styleEnabled&&r.style().append(p),g(w,function(){r.startAnimationLoop(),c.ready=!0,kt(l.ready)&&r.on("ready",l.ready);for(var x=0;x<o.length;x++){var E=o[x];r.on("ready",E)}i&&(i.readies=[]),r.emit("ready")},l.done)})},gl=cs.prototype;Ue(gl,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return zt;var r=this._private.container.ownerDocument;return r===void 0||r==null?zt:r.defaultView||zt},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!ul(e)&&ul(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ue({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return pn(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),o=function(T){return r.getElementById(T.id())};if(nt(e)){if(r.startBatch(),e.elements){var u={},l=function(T,O){for(var L=[],M=[],_=0;_<T.length;_++){var P=T[_];if(!P.data.id){ut("cy.json() cannot handle elements without an ID attribute");continue}var N=""+P.data.id,R=r.getElementById(N);u[N]=!0,R.length!==0?M.push({ele:R,json:P}):(O&&(P.group=O),L.push(P))}r.add(L);for(var A=0;A<M.length;A++){var B=M[A],D=B.ele,z=B.json;D.json(z)}};if(ct(e.elements))l(e.elements);else for(var f=["nodes","edges"],c=0;c<f.length;c++){var d=f[c],v=e.elements[d];ct(v)&&l(v,d)}var g=r.collection();i.filter(function(S){return!u[S.id()]}).forEach(function(S){S.isParent()?g.merge(S):S.remove()}),g.forEach(function(S){return S.children().move({parent:null})}),g.forEach(function(S){return o(S).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var y=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<y.length;p++){var w=y[p];e[w]!=null&&r[w](e[w])}return r.endBatch(),this}else{var x=!!e,E={};x?E.elements=this.elements().map(function(S){return S.json()}):(E.elements={},i.forEach(function(S){var T=S.group();E.elements[T]||(E.elements[T]=[]),E.elements[T].push(S.json())})),this._private.styleEnabled&&(E.style=r.style().json()),E.data=pn(r.data());var b=n.options;return E.zoomingEnabled=n.zoomingEnabled,E.userZoomingEnabled=n.userZoomingEnabled,E.zoom=n.zoom,E.minZoom=n.minZoom,E.maxZoom=n.maxZoom,E.panningEnabled=n.panningEnabled,E.userPanningEnabled=n.userPanningEnabled,E.pan=pn(n.pan),E.boxSelectionEnabled=n.boxSelectionEnabled,E.renderer=pn(b.renderer),E.hideEdgesOnViewport=b.hideEdgesOnViewport,E.textureOnViewport=b.textureOnViewport,E.wheelSensitivity=b.wheelSensitivity,E.motionBlur=b.motionBlur,E.multiClickDebounceTime=b.multiClickDebounceTime,E}}});gl.$id=gl.getElementById;[G2,W2,rm,Xc,nl,X2,Yc,al,Q2,Ka,fs].forEach(function(t){Ue(gl,t)});var J2={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},eC={maximal:!1,acyclic:!1},Ci=function(e){return e.scratch("breadthfirst")},ap=function(e,r){return e.scratch("breadthfirst",r)};function nm(t){this.options=Ue({},J2,eC,t)}nm.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(ke){return ke.isChildless()}),i=r,o=t.directed,u=t.acyclic||t.maximal||t.maximalAdjustments>0,l=!!t.boundingBox,f=e.extent(),c=Br(l?t.boundingBox:{x1:f.x1,y1:f.y1,w:f.w,h:f.h}),d;if(zr(t.roots))d=t.roots;else if(ct(t.roots)){for(var v=[],g=0;g<t.roots.length;g++){var y=t.roots[g],p=e.getElementById(y);v.push(p)}d=e.collection(v)}else if(Ne(t.roots))d=e.$(t.roots);else if(o)d=n.roots();else{var w=r.components();d=e.collection();for(var x=function(Se){var Me=w[Se],Oe=Me.maxDegree(!1),Ie=Me.filter(function(qe){return qe.degree(!1)===Oe});d=d.add(Ie)},E=0;E<w.length;E++)x(E)}var b=[],S={},T=function(Se,Me){b[Me]==null&&(b[Me]=[]);var Oe=b[Me].length;b[Me].push(Se),ap(Se,{index:Oe,depth:Me})},O=function(Se,Me){var Oe=Ci(Se),Ie=Oe.depth,qe=Oe.index;b[Ie][qe]=null,Se.isChildless()&&T(Se,Me)};i.bfs({roots:d,directed:t.directed,visit:function(Se,Me,Oe,Ie,qe){var je=Se[0],Qe=je.id();je.isChildless()&&T(je,qe),S[Qe]=!0}});for(var L=[],M=0;M<n.length;M++){var _=n[M];S[_.id()]||L.push(_)}var P=function(Se){for(var Me=b[Se],Oe=0;Oe<Me.length;Oe++){var Ie=Me[Oe];if(Ie==null){Me.splice(Oe,1),Oe--;continue}ap(Ie,{depth:Se,index:Oe})}},N=function(Se,Me){for(var Oe=Ci(Se),Ie=Se.incomers().filter(function(de){return de.isNode()&&r.has(de)}),qe=-1,je=Se.id(),Qe=0;Qe<Ie.length;Qe++){var ge=Ie[Qe],H=Ci(ge);qe=Math.max(qe,H.depth)}if(Oe.depth<=qe){if(!t.acyclic&&Me[je])return null;var ne=qe+1;return O(Se,ne),Me[je]=ne,!0}return!1};if(o&&u){var R=[],A={},B=function(Se){return R.push(Se)},D=function(){return R.shift()};for(n.forEach(function(ke){return R.push(ke)});R.length>0;){var z=D(),I=N(z,A);if(I)z.outgoers().filter(function(ke){return ke.isNode()&&r.has(ke)}).forEach(B);else if(I===null){ut("Detected double maximal shift for node `"+z.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var G=0;if(t.avoidOverlap)for(var U=0;U<n.length;U++){var q=n[U],$=q.layoutDimensions(t),V=$.w,W=$.h;G=Math.max(G,V,W)}var ee={},J=function(Se){if(ee[Se.id()])return ee[Se.id()];for(var Me=Ci(Se).depth,Oe=Se.neighborhood(),Ie=0,qe=0,je=0;je<Oe.length;je++){var Qe=Oe[je];if(!(Qe.isEdge()||Qe.isParent()||!n.has(Qe))){var ge=Ci(Qe);if(ge!=null){var H=ge.index,ne=ge.depth;if(!(H==null||ne==null)){var de=b[ne].length;ne<Me&&(Ie+=H/de,qe++)}}}}return qe=Math.max(1,qe),Ie=Ie/qe,qe===0&&(Ie=0),ee[Se.id()]=Ie,Ie},te=function(Se,Me){var Oe=J(Se),Ie=J(Me),qe=Oe-Ie;return qe===0?ry(Se.id(),Me.id()):qe};t.depthSort!==void 0&&(te=t.depthSort);for(var re=b.length,fe=0;fe<re;fe++)b[fe].sort(te),P(fe);for(var ue=[],Y=0;Y<L.length;Y++)ue.push(L[Y]);var j=function(){for(var Se=0;Se<re;Se++)P(Se)};ue.length&&(b.unshift(ue),re=b.length,j());for(var Q=0,ce=0;ce<re;ce++)Q=Math.max(b[ce].length,Q);var he={x:c.x1+c.w/2,y:c.y1+c.h/2},me=n.reduce(function(ke,Se){return function(Me){return{w:ke.w===-1?Me.w:(ke.w+Me.w)/2,h:ke.h===-1?Me.h:(ke.h+Me.h)/2}}(Se.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Le=Math.max(re===1?0:l?(c.h-t.padding*2-me.h)/(re-1):(c.h-t.padding*2-me.h)/(re+1),G),$e=b.reduce(function(ke,Se){return Math.max(ke,Se.length)},0),Xe=function(Se){var Me=Ci(Se),Oe=Me.depth,Ie=Me.index;if(t.circle){var qe=Math.min(c.w/2/re,c.h/2/re);qe=Math.max(qe,G);var je=qe*Oe+qe-(re>0&&b[0].length<=3?qe/2:0),Qe=2*Math.PI/b[Oe].length*Ie;return Oe===0&&b[0].length===1&&(je=1),{x:he.x+je*Math.cos(Qe),y:he.y+je*Math.sin(Qe)}}else{var ge=b[Oe].length,H=Math.max(ge===1?0:l?(c.w-t.padding*2-me.w)/((t.grid?$e:ge)-1):(c.w-t.padding*2-me.w)/((t.grid?$e:ge)+1),G),ne={x:he.x+(Ie+1-(ge+1)/2)*H,y:he.y+(Oe+1-(re+1)/2)*Le};return ne}};return r.nodes().layoutPositions(this,t,Xe),this};var tC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function am(t){this.options=Ue({},tC,t)}am.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var u=Br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:u.x1+u.w/2,y:u.y1+u.h/2},f=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,c=f/Math.max(1,o.length-1),d,v=0,g=0;g<o.length;g++){var y=o[g],p=y.layoutDimensions(e),w=p.w,x=p.h;v=Math.max(v,w,x)}if(Ee(e.radius)?d=e.radius:o.length<=1?d=0:d=Math.min(u.h,u.w)/2-v,o.length>1&&e.avoidOverlap){v*=1.75;var E=Math.cos(c)-Math.cos(0),b=Math.sin(c)-Math.sin(0),S=Math.sqrt(v*v/(E*E+b*b));d=Math.max(S,d)}var T=function(L,M){var _=e.startAngle+M*c*(i?1:-1),P=d*Math.cos(_),N=d*Math.sin(_),R={x:l.x+P,y:l.y+N};return R};return n.nodes().layoutPositions(this,e,T),this};var rC={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function im(t){this.options=Ue({},rC,t)}im.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,o=i.nodes().not(":parent"),u=Br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:u.x1+u.w/2,y:u.y1+u.h/2},f=[],c=0,d=0;d<o.length;d++){var v=o[d],g=void 0;g=e.concentric(v),f.push({value:g,node:v}),v._private.scratch.concentric=g}o.updateStyle();for(var y=0;y<o.length;y++){var p=o[y],w=p.layoutDimensions(e);c=Math.max(c,w.w,w.h)}f.sort(function(me,Le){return Le.value-me.value});for(var x=e.levelWidth(o),E=[[]],b=E[0],S=0;S<f.length;S++){var T=f[S];if(b.length>0){var O=Math.abs(b[0].value-T.value);O>=x&&(b=[],E.push(b))}b.push(T)}var L=c+e.minNodeSpacing;if(!e.avoidOverlap){var M=E.length>0&&E[0].length>1,_=Math.min(u.w,u.h)/2-L,P=_/(E.length+M?1:0);L=Math.min(L,P)}for(var N=0,R=0;R<E.length;R++){var A=E[R],B=e.sweep===void 0?2*Math.PI-2*Math.PI/A.length:e.sweep,D=A.dTheta=B/Math.max(1,A.length-1);if(A.length>1&&e.avoidOverlap){var z=Math.cos(D)-Math.cos(0),I=Math.sin(D)-Math.sin(0),G=Math.sqrt(L*L/(z*z+I*I));N=Math.max(G,N)}A.r=N,N+=L}if(e.equidistant){for(var U=0,q=0,$=0;$<E.length;$++){var V=E[$],W=V.r-q;U=Math.max(U,W)}q=0;for(var ee=0;ee<E.length;ee++){var J=E[ee];ee===0&&(q=J.r),J.r=q,q+=U}}for(var te={},re=0;re<E.length;re++)for(var fe=E[re],ue=fe.dTheta,Y=fe.r,j=0;j<fe.length;j++){var Q=fe[j],ce=e.startAngle+(r?1:-1)*ue*j,he={x:l.x+Y*Math.cos(ce),y:l.y+Y*Math.sin(ce)};te[Q.node.id()]=he}return i.nodes().layoutPositions(this,e,function(me){var Le=me.id();return te[Le]}),this};var Rc,nC={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ml(t){this.options=Ue({},nC,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var o=i.source().data("id"),u=i.target().data("id"),l=e.some(function(c){return c.data("id")===o}),f=e.some(function(c){return c.data("id")===u});return!l||!f});this.options.eles=this.options.eles.not(n)}Ml.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Rc=!0:Rc=!1;var n=aC(e,r,t);Rc&&sC(n),t.randomize&&uC(n);var i=Ln(),o=function(){lC(n,e,t),t.fit===!0&&e.fit(t.padding)},u=function(g){return!(r.stopped||g>=t.numIter||(fC(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},l=function(){if(t.animate===!0||t.animate===!1)o(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var g=t.eles.nodes(),y=om(n,t,g);g.layoutPositions(r,t,y)}},f=0,c=!0;if(t.animate===!0){var d=function v(){for(var g=0;c&&g<t.refresh;)c=u(f),f++,g++;if(!c)op(n,t),l();else{var y=Ln();y-i>=t.animationThreshold&&o(),ll(v)}};d()}else{for(;c;)c=u(f),f++;op(n,t),l()}return this};Ml.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Ml.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var aC=function(e,r,n){for(var i=n.eles.edges(),o=n.eles.nodes(),u=Br(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),l={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:u.w,clientHeight:u.h,boundingBox:u},f=n.eles.components(),c={},d=0;d<f.length;d++)for(var v=f[d],g=0;g<v.length;g++){var y=v[g];c[y.id()]=d}for(var d=0;d<l.nodeSize;d++){var p=o[d],w=p.layoutDimensions(n),x={};x.isLocked=p.locked(),x.id=p.data("id"),x.parentId=p.data("parent"),x.cmptId=c[p.id()],x.children=[],x.positionX=p.position("x"),x.positionY=p.position("y"),x.offsetX=0,x.offsetY=0,x.height=w.w,x.width=w.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(p.style("padding")),x.padRight=parseFloat(p.style("padding")),x.padTop=parseFloat(p.style("padding")),x.padBottom=parseFloat(p.style("padding")),x.nodeRepulsion=kt(n.nodeRepulsion)?n.nodeRepulsion(p):n.nodeRepulsion,l.layoutNodes.push(x),l.idToIndex[x.id]=d}for(var E=[],b=0,S=-1,T=[],d=0;d<l.nodeSize;d++){var p=l.layoutNodes[d],O=p.parentId;O!=null?l.layoutNodes[l.idToIndex[O]].children.push(p.id):(E[++S]=p.id,T.push(p.id))}for(l.graphSet.push(T);b<=S;){var L=E[b++],M=l.idToIndex[L],y=l.layoutNodes[M],_=y.children;if(_.length>0){l.graphSet.push(_);for(var d=0;d<_.length;d++)E[++S]=_[d]}}for(var d=0;d<l.graphSet.length;d++)for(var P=l.graphSet[d],g=0;g<P.length;g++){var N=l.idToIndex[P[g]];l.indexToGraph[N]=d}for(var d=0;d<l.edgeSize;d++){var R=i[d],A={};A.id=R.data("id"),A.sourceId=R.data("source"),A.targetId=R.data("target");var B=kt(n.idealEdgeLength)?n.idealEdgeLength(R):n.idealEdgeLength,D=kt(n.edgeElasticity)?n.edgeElasticity(R):n.edgeElasticity,z=l.idToIndex[A.sourceId],I=l.idToIndex[A.targetId],G=l.indexToGraph[z],U=l.indexToGraph[I];if(G!=U){for(var q=iC(A.sourceId,A.targetId,l),$=l.graphSet[q],V=0,x=l.layoutNodes[z];$.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],V++;for(x=l.layoutNodes[I];$.indexOf(x.id)===-1;)x=l.layoutNodes[l.idToIndex[x.parentId]],V++;B*=V*n.nestingFactor}A.idealLength=B,A.elasticity=D,l.layoutEdges.push(A)}return l},iC=function(e,r,n){var i=oC(e,r,0,n);return 2>i.count?0:i.graph},oC=function t(e,r,n,i){var o=i.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(r))return{count:2,graph:n};for(var u=0,l=0;l<o.length;l++){var f=o[l],c=i.idToIndex[f],d=i.layoutNodes[c].children;if(d.length!==0){var v=i.indexToGraph[i.idToIndex[d[0]]],g=t(e,r,v,i);if(g.count!==0)if(g.count===1){if(u++,u===2)break}else return g}}return{count:u,graph:n}},sC,uC=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var u=e.layoutNodes[o];u.children.length===0&&!u.isLocked&&(u.positionX=Math.random()*n,u.positionY=Math.random()*i)}},om=function(e,r,n){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(u){var l=e.layoutNodes[e.idToIndex[u.data("id")]];o.x1=Math.min(o.x1,l.positionX),o.x2=Math.max(o.x2,l.positionX),o.y1=Math.min(o.y1,l.positionY),o.y2=Math.max(o.y2,l.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(u,l){var f=e.layoutNodes[e.idToIndex[u.data("id")]];if(r.boundingBox){var c=(f.positionX-o.x1)/o.w,d=(f.positionY-o.y1)/o.h;return{x:i.x1+c*i.w,y:i.y1+d*i.h}}else return{x:f.positionX,y:f.positionY}}},lC=function(e,r,n){var i=n.layout,o=n.eles.nodes(),u=om(e,n,o);o.positions(u),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},fC=function(e,r,n){cC(e,r),hC(e),gC(e,r),pC(e),yC(e)},cC=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],o=i.length,u=0;u<o;u++)for(var l=e.layoutNodes[e.idToIndex[i[u]]],f=u+1;f<o;f++){var c=e.layoutNodes[e.idToIndex[i[f]]];dC(l,c,e,r)}},ip=function(e){return-1+2*e*Math.random()},dC=function(e,r,n,i){var o=e.cmptId,u=r.cmptId;if(!(o!==u&&!n.isCompound)){var l=r.positionX-e.positionX,f=r.positionY-e.positionY,c=1;l===0&&f===0&&(l=ip(c),f=ip(c));var d=vC(e,r,l,f);if(d>0)var v=i.nodeOverlap*d,g=Math.sqrt(l*l+f*f),y=v*l/g,p=v*f/g;else var w=pl(e,l,f),x=pl(r,-1*l,-1*f),E=x.x-w.x,b=x.y-w.y,S=E*E+b*b,g=Math.sqrt(S),v=(e.nodeRepulsion+r.nodeRepulsion)/S,y=v*E/g,p=v*b/g;e.isLocked||(e.offsetX-=y,e.offsetY-=p),r.isLocked||(r.offsetX+=y,r.offsetY+=p)}},vC=function(e,r,n,i){if(n>0)var o=e.maxX-r.minX;else var o=r.maxX-e.minX;if(i>0)var u=e.maxY-r.minY;else var u=r.maxY-e.minY;return o>=0&&u>=0?Math.sqrt(o*o+u*u):0},pl=function(e,r,n){var i=e.positionX,o=e.positionY,u=e.height||1,l=e.width||1,f=n/r,c=u/l,d={};return r===0&&0<n||r===0&&0>n?(d.x=i,d.y=o+u/2,d):0<r&&-1*c<=f&&f<=c?(d.x=i+l/2,d.y=o+l*n/2/r,d):0>r&&-1*c<=f&&f<=c?(d.x=i-l/2,d.y=o-l*n/2/r,d):0<n&&(f<=-1*c||f>=c)?(d.x=i+u*r/2/n,d.y=o+u/2,d):(0>n&&(f<=-1*c||f>=c)&&(d.x=i-u*r/2/n,d.y=o-u/2),d)},hC=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],o=e.idToIndex[i.sourceId],u=e.layoutNodes[o],l=e.idToIndex[i.targetId],f=e.layoutNodes[l],c=f.positionX-u.positionX,d=f.positionY-u.positionY;if(!(c===0&&d===0)){var v=pl(u,c,d),g=pl(f,-1*c,-1*d),y=g.x-v.x,p=g.y-v.y,w=Math.sqrt(y*y+p*p),x=Math.pow(i.idealLength-w,2)/i.elasticity;if(w!==0)var E=x*y/w,b=x*p/w;else var E=0,b=0;u.isLocked||(u.offsetX+=E,u.offsetY+=b),f.isLocked||(f.offsetX-=E,f.offsetY-=b)}}},gC=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],u=o.length;if(i===0)var l=e.clientHeight/2,f=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[o[0]]],d=e.layoutNodes[e.idToIndex[c.parentId]],l=d.positionX,f=d.positionY;for(var v=0;v<u;v++){var g=e.layoutNodes[e.idToIndex[o[v]]];if(!g.isLocked){var y=l-g.positionX,p=f-g.positionY,w=Math.sqrt(y*y+p*p);if(w>n){var x=r.gravity*y/w,E=r.gravity*p/w;g.offsetX+=x,g.offsetY+=E}}}}},pC=function(e,r){var n=[],i=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var u=n[i++],l=e.idToIndex[u],f=e.layoutNodes[l],c=f.children;if(0<c.length&&!f.isLocked){for(var d=f.offsetX,v=f.offsetY,g=0;g<c.length;g++){var y=e.layoutNodes[e.idToIndex[c[g]]];y.offsetX+=d,y.offsetY+=v,n[++o]=c[g]}f.offsetX=0,f.offsetY=0}}},yC=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var o=mC(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,wC(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},mC=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var o={x:n*e/i,y:n*r/i};else var o={x:e,y:r};return o},wC=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return t(i,r)}},op=function(e,r){for(var n=e.layoutNodes,i=[],o=0;o<n.length;o++){var u=n[o],l=u.cmptId,f=i[l]=i[l]||[];f.push(u)}for(var c=0,o=0;o<i.length;o++){var d=i[o];if(d){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var v=0;v<d.length;v++){var g=d[v];d.x1=Math.min(d.x1,g.positionX-g.width/2),d.x2=Math.max(d.x2,g.positionX+g.width/2),d.y1=Math.min(d.y1,g.positionY-g.height/2),d.y2=Math.max(d.y2,g.positionY+g.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,c+=d.w*d.h}}i.sort(function(b,S){return S.w*S.h-b.w*b.h});for(var y=0,p=0,w=0,x=0,E=Math.sqrt(c)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var d=i[o];if(d){for(var v=0;v<d.length;v++){var g=d[v];g.isLocked||(g.positionX+=y-d.x1,g.positionY+=p-d.y1)}y+=d.w+r.componentSpacing,w+=d.w+r.componentSpacing,x=Math.max(x,d.h),w>E&&(p+=x+r.componentSpacing,y=0,w=0,x=0)}}},xC={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function sm(t){this.options=Ue({},xC,t)}sm.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=Br(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,e,function(ee){return{x:o.x1,y:o.y1}});else{var u=i.size(),l=Math.sqrt(u*o.h/o.w),f=Math.round(l),c=Math.round(o.w/o.h*l),d=function(J){if(J==null)return Math.min(f,c);var te=Math.min(f,c);te==f?f=J:c=J},v=function(J){if(J==null)return Math.max(f,c);var te=Math.max(f,c);te==f?f=J:c=J},g=e.rows,y=e.cols!=null?e.cols:e.columns;if(g!=null&&y!=null)f=g,c=y;else if(g!=null&&y==null)f=g,c=Math.ceil(u/f);else if(g==null&&y!=null)c=y,f=Math.ceil(u/c);else if(c*f>u){var p=d(),w=v();(p-1)*w>=u?d(p-1):(w-1)*p>=u&&v(w-1)}else for(;c*f<u;){var x=d(),E=v();(E+1)*x>=u?v(E+1):d(x+1)}var b=o.w/c,S=o.h/f;if(e.condense&&(b=0,S=0),e.avoidOverlap)for(var T=0;T<i.length;T++){var O=i[T],L=O._private.position;(L.x==null||L.y==null)&&(L.x=0,L.y=0);var M=O.layoutDimensions(e),_=e.avoidOverlapPadding,P=M.w+_,N=M.h+_;b=Math.max(b,P),S=Math.max(S,N)}for(var R={},A=function(J,te){return!!R["c-"+J+"-"+te]},B=function(J,te){R["c-"+J+"-"+te]=!0},D=0,z=0,I=function(){z++,z>=c&&(z=0,D++)},G={},U=0;U<i.length;U++){var q=i[U],$=e.position(q);if($&&($.row!==void 0||$.col!==void 0)){var V={row:$.row,col:$.col};if(V.col===void 0)for(V.col=0;A(V.row,V.col);)V.col++;else if(V.row===void 0)for(V.row=0;A(V.row,V.col);)V.row++;G[q.id()]=V,B(V.row,V.col)}}var W=function(J,te){var re,fe;if(J.locked()||J.isParent())return!1;var ue=G[J.id()];if(ue)re=ue.col*b+b/2+o.x1,fe=ue.row*S+S/2+o.y1;else{for(;A(D,z);)I();re=z*b+b/2+o.x1,fe=D*S+S/2+o.y1,B(D,z),I()}return{x:re,y:fe}};i.layoutPositions(this,e,W)}return this};var bC={ready:function(){},stop:function(){}};function Cd(t){this.options=Ue({},bC,t)}Cd.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Cd.prototype.stop=function(){return this};var EC={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function um(t){this.options=Ue({},EC,t)}um.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=kt(t.positions);function i(o){if(t.positions==null)return _x(o.position());if(n)return t.positions(o);var u=t.positions[o._private.data.id];return u??null}return r.layoutPositions(this,t,function(o,u){var l=i(o);return o.locked()||l==null?!1:l}),this};var SC={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function lm(t){this.options=Ue({},SC,t)}lm.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Br(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(u,l){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var CC=[{name:"breadthfirst",impl:nm},{name:"circle",impl:am},{name:"concentric",impl:im},{name:"cose",impl:Ml},{name:"grid",impl:sm},{name:"null",impl:Cd},{name:"preset",impl:um},{name:"random",impl:lm}];function fm(t){this.options=t,this.notifications=0}var sp=function(){},up=function(){throw new Error("A headless instance can not render images")};fm.prototype={recalculateRenderedStyle:sp,notify:function(){this.notifications++},init:sp,isHeadless:function(){return!0},png:up,jpg:up};var kd={};kd.arrowShapeWidth=.3;kd.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(c,d,v,g,y,p,w){var x=y.x-v/2-w,E=y.x+v/2+w,b=y.y-v/2-w,S=y.y+v/2+w,T=x<=c&&c<=E&&b<=d&&d<=S;return T},n=function(c,d,v,g,y){var p=c*Math.cos(g)-d*Math.sin(g),w=c*Math.sin(g)+d*Math.cos(g),x=p*v,E=w*v,b=x+y.x,S=E+y.y;return{x:b,y:S}},i=function(c,d,v,g){for(var y=[],p=0;p<c.length;p+=2){var w=c[p],x=c[p+1];y.push(n(w,x,d,v,g))}return y},o=function(c){for(var d=[],v=0;v<c.length;v++){var g=c[v];d.push(g.x,g.y)}return d},u=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},l=function(c,d){Ne(d)&&(d=t[d]),t[c]=Ue({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,y,p,w,x,E){var b=o(i(this.points,p+2*E,w,x)),S=Ar(g,y,b);return S},roughCollide:r,draw:function(g,y,p,w){var x=i(this.points,y,p,w);e.arrowShapeImpl("polygon")(g,x)},spacing:function(g){return 0},gap:u},d)};l("none",{collide:fl,roughCollide:fl,draw:fd,spacing:mg,gap:mg}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,d,v,g,y){var p=i(this.points,d,v,g),w=this.controlPoint,x=n(w[0],w[1],d,v,g);e.arrowShapeImpl(this.name)(c,p,x)},gap:function(c){return u(c)*.8}}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,d,v,g,y,p,w){var x=o(i(this.points,v+2*w,g,y)),E=o(i(this.pointsTee,v+2*w,g,y)),b=Ar(c,d,x)||Ar(c,d,E);return b},draw:function(c,d,v,g,y){var p=i(this.points,d,v,g),w=i(this.pointsTee,d,v,g);e.arrowShapeImpl(this.name)(c,p,w)}}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,d,v,g,y,p,w){var x=y,E=Math.pow(x.x-c,2)+Math.pow(x.y-d,2)<=Math.pow((v+2*w)*this.radius,2),b=o(i(this.points,v+2*w,g,y));return Ar(c,d,b)||E},draw:function(c,d,v,g,y){var p=i(this.pointsTr,d,v,g);e.arrowShapeImpl(this.name)(c,p,g.x,g.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,d){var v=this.baseCrossLinePts.slice(),g=d/c,y=3,p=5;return v[y]=v[y]-g,v[p]=v[p]-g,v},collide:function(c,d,v,g,y,p,w){var x=o(i(this.points,v+2*w,g,y)),E=o(i(this.crossLinePts(v,p),v+2*w,g,y)),b=Ar(c,d,x)||Ar(c,d,E);return b},draw:function(c,d,v,g,y){var p=i(this.points,d,v,g),w=i(this.crossLinePts(d,y),d,v,g);e.arrowShapeImpl(this.name)(c,p,w)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return u(c)*.525}}),l("circle",{radius:.15,collide:function(c,d,v,g,y,p,w){var x=y,E=Math.pow(x.x-c,2)+Math.pow(x.y-d,2)<=Math.pow((v+2*w)*this.radius,2);return E},draw:function(c,d,v,g,y){e.arrowShapeImpl(this.name)(c,g.x,g.y,this.radius*d)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var Ya={};Ya.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],o=n[1],u=n[4],l=r.pan(),f=r.zoom(),c=((t-i)/u-l.x)/f,d=((e-o)/u-l.y)/f;return[c,d]};Ya.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(E){return parseFloat(r.getPropertyValue(E))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},o={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},u=t.clientWidth,l=t.clientHeight,f=i.left+i.right,c=i.top+i.bottom,d=o.left+o.right,v=e.width/(u+d),g=u-f,y=l-c,p=e.left+i.left+o.left,w=e.top+i.top+o.top;return this.containerBB=[p,w,g,y,v]};Ya.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ya.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Ya.findNearestElements=function(t,e,r,n){var i=this,o=this,u=o.getCachedZSortedEles(),l=[],f=o.cy.zoom(),c=o.cy.hasCompoundNodes(),d=(n?24:8)/f,v=(n?8:2)/f,g=(n?8:2)/f,y=1/0,p,w;r&&(u=u.interactive);function x(M,_){if(M.isNode()){if(w)return;w=M,l.push(M)}if(M.isEdge()&&(_==null||_<y))if(p){if(p.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value){for(var P=0;P<l.length;P++)if(l[P].isEdge()){l[P]=M,p=M,y=_??y;break}}}else l.push(M),p=M,y=_??y}function E(M){var _=M.outerWidth()+2*v,P=M.outerHeight()+2*v,N=_/2,R=P/2,A=M.position(),B=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,D=M._private.rscratch;if(A.x-N<=t&&t<=A.x+N&&A.y-R<=e&&e<=A.y+R){var z=o.nodeShapes[i.getNodeShape(M)];if(z.checkPoint(t,e,0,_,P,A.x,A.y,B,D))return x(M,0),!0}}function b(M){var _=M._private,P=_.rscratch,N=M.pstyle("width").pfValue,R=M.pstyle("arrow-scale").value,A=N/2+d,B=A*A,D=A*2,U=_.source,q=_.target,z;if(P.edgeType==="segments"||P.edgeType==="straight"||P.edgeType==="haystack"){for(var I=P.allpts,G=0;G+3<I.length;G+=2)if(Gx(t,e,I[G],I[G+1],I[G+2],I[G+3],D)&&B>(z=Wx(t,e,I[G],I[G+1],I[G+2],I[G+3])))return x(M,z),!0}else if(P.edgeType==="bezier"||P.edgeType==="multibezier"||P.edgeType==="self"||P.edgeType==="compound"){for(var I=P.allpts,G=0;G+5<P.allpts.length;G+=4)if(Ux(t,e,I[G],I[G+1],I[G+2],I[G+3],I[G+4],I[G+5],D)&&B>(z=$x(t,e,I[G],I[G+1],I[G+2],I[G+3],I[G+4],I[G+5])))return x(M,z),!0}for(var U=U||_.source,q=q||_.target,$=i.getArrowWidth(N,R),V=[{name:"source",x:P.arrowStartX,y:P.arrowStartY,angle:P.srcArrowAngle},{name:"target",x:P.arrowEndX,y:P.arrowEndY,angle:P.tgtArrowAngle},{name:"mid-source",x:P.midX,y:P.midY,angle:P.midsrcArrowAngle},{name:"mid-target",x:P.midX,y:P.midY,angle:P.midtgtArrowAngle}],G=0;G<V.length;G++){var W=V[G],ee=o.arrowShapes[M.pstyle(W.name+"-arrow-shape").value],J=M.pstyle("width").pfValue;if(ee.roughCollide(t,e,$,W.angle,{x:W.x,y:W.y},J,d)&&ee.collide(t,e,$,W.angle,{x:W.x,y:W.y},J,d))return x(M),!0}c&&l.length>0&&(E(U),E(q))}function S(M,_,P){return on(M,_,P)}function T(M,_){var P=M._private,N=g,R;_?R=_+"-":R="",M.boundingBox();var A=P.labelBounds[_||"main"],B=M.pstyle(R+"label").value,D=M.pstyle("text-events").strValue==="yes";if(!(!D||!B)){var z=S(P.rscratch,"labelX",_),I=S(P.rscratch,"labelY",_),G=S(P.rscratch,"labelAngle",_),U=M.pstyle(R+"text-margin-x").pfValue,q=M.pstyle(R+"text-margin-y").pfValue,$=A.x1-N-U,V=A.x2+N-U,W=A.y1-N-q,ee=A.y2+N-q;if(G){var J=Math.cos(G),te=Math.sin(G),re=function(he,me){return he=he-z,me=me-I,{x:he*J-me*te+z,y:he*te+me*J+I}},fe=re($,W),ue=re($,ee),Y=re(V,W),j=re(V,ee),Q=[fe.x+U,fe.y+q,Y.x+U,Y.y+q,j.x+U,j.y+q,ue.x+U,ue.y+q];if(Ar(t,e,Q))return x(M),!0}else if(Fi(A,t,e))return x(M),!0}}for(var O=u.length-1;O>=0;O--){var L=u[O];L.isNode()?E(L)||T(L):b(L)||T(L)||T(L,"source")||T(L,"target")}return l};Ya.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,o=[],u=Math.min(t,r),l=Math.max(t,r),f=Math.min(e,n),c=Math.max(e,n);t=u,r=l,e=f,n=c;for(var d=Br({x1:t,y1:e,x2:r,y2:n}),v=0;v<i.length;v++){var g=i[v];if(g.isNode()){var y=g,p=y.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});vd(d,p)&&!wy(p,d)&&o.push(y)}else{var w=g,x=w._private,E=x.rscratch;if(E.startX!=null&&E.startY!=null&&!Fi(d,E.startX,E.startY)||E.endX!=null&&E.endY!=null&&!Fi(d,E.endX,E.endY))continue;if(E.edgeType==="bezier"||E.edgeType==="multibezier"||E.edgeType==="self"||E.edgeType==="compound"||E.edgeType==="segments"||E.edgeType==="haystack"){for(var b=x.rstyle.bezierPts||x.rstyle.linePts||x.rstyle.haystackPts,S=!0,T=0;T<b.length;T++)if(!Vx(d,b[T])){S=!1;break}S&&o.push(w)}else(E.edgeType==="haystack"||E.edgeType==="straight")&&o.push(w)}}return o};var yl={};yl.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",u=e.edgeType==="compound",l=e.edgeType==="self",f,c,d,v,g,y,E,b;if(r?(d=e.haystackPts[0],v=e.haystackPts[1],g=e.haystackPts[2],y=e.haystackPts[3]):(d=e.arrowStartX,v=e.arrowStartY,g=e.arrowEndX,y=e.arrowEndY),E=e.midX,b=e.midY,o)f=d-e.segpts[0],c=v-e.segpts[1];else if(i||u||l||n){var p=e.allpts,w=Kt(p[0],p[2],p[4],.1),x=Kt(p[1],p[3],p[5],.1);f=d-w,c=v-x}else f=d-E,c=v-b;e.srcArrowAngle=Iu(f,c);var E=e.midX,b=e.midY;if(r&&(E=(d+g)/2,b=(v+y)/2),f=g-d,c=y-v,o){var p=e.allpts;if(p.length/2%2===0){var S=p.length/2,T=S-2;f=p[S]-p[T],c=p[S+1]-p[T+1]}else if(e.isRound)f=e.midVector[1],c=-e.midVector[0];else{var S=p.length/2-1,T=S-2;f=p[S]-p[T],c=p[S+1]-p[T+1]}}else if(i||u||l){var p=e.allpts,O=e.ctrlpts,L,M,_,P;if(O.length/2%2===0){var N=p.length/2-1,R=N+2,A=R+2;L=Kt(p[N],p[R],p[A],0),M=Kt(p[N+1],p[R+1],p[A+1],0),_=Kt(p[N],p[R],p[A],1e-4),P=Kt(p[N+1],p[R+1],p[A+1],1e-4)}else{var R=p.length/2-1,N=R-2,A=R+2;L=Kt(p[N],p[R],p[A],.4999),M=Kt(p[N+1],p[R+1],p[A+1],.4999),_=Kt(p[N],p[R],p[A],.5),P=Kt(p[N+1],p[R+1],p[A+1],.5)}f=_-L,c=P-M}if(e.midtgtArrowAngle=Iu(f,c),e.midDispX=f,e.midDispY=c,f*=-1,c*=-1,o){var p=e.allpts;if(p.length/2%2!==0){if(!e.isRound){var S=p.length/2-1,B=S+2;f=-(p[B]-p[S]),c=-(p[B+1]-p[S+1])}}}if(e.midsrcArrowAngle=Iu(f,c),o)f=g-e.segpts[e.segpts.length-2],c=y-e.segpts[e.segpts.length-1];else if(i||u||l||n){var p=e.allpts,D=p.length,w=Kt(p[D-6],p[D-4],p[D-2],.9),x=Kt(p[D-5],p[D-3],p[D-1],.9);f=g-w,c=y-x}else f=g-E,c=y-b;e.tgtArrowAngle=Iu(f,c)};yl.getArrowWidth=yl.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var jc,Qc,gn={},Kr={},lp,fp,Ga,il,An,Ma,Va,dn,ki,Wu,cm,dm,Zc,Jc,cp,dp=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},kC=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},PC=function(e,r,n,i,o){if(e!==cp?dp(r,e,gn):kC(Kr,gn),dp(r,n,Kr),lp=gn.nx*Kr.ny-gn.ny*Kr.nx,fp=gn.nx*Kr.nx-gn.ny*-Kr.ny,An=Math.asin(Math.max(-1,Math.min(1,lp))),Math.abs(An)<1e-6){jc=r.x,Qc=r.y,Va=ki=0;return}Ga=1,il=!1,fp<0?An<0?An=Math.PI+An:(An=Math.PI-An,Ga=-1,il=!0):An>0&&(Ga=-1,il=!0),r.radius!==void 0?ki=r.radius:ki=i,Ma=An/2,Wu=Math.min(gn.len/2,Kr.len/2),o?(dn=Math.abs(Math.cos(Ma)*ki/Math.sin(Ma)),dn>Wu?(dn=Wu,Va=Math.abs(dn*Math.sin(Ma)/Math.cos(Ma))):Va=ki):(dn=Math.min(Wu,ki),Va=Math.abs(dn*Math.sin(Ma)/Math.cos(Ma))),Zc=r.x+Kr.nx*dn,Jc=r.y+Kr.ny*dn,jc=Zc-Kr.ny*Va*Ga,Qc=Jc+Kr.nx*Va*Ga,cm=r.x+gn.nx*dn,dm=r.y+gn.ny*dn,cp=r};function vm(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Pd(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(PC(t,e,r,n,i),{cx:jc,cy:Qc,radius:Va,startX:cm,startY:dm,stopX:Zc,stopY:Jc,startAngle:gn.ang+Math.PI/2*Ga,endAngle:Kr.ang-Math.PI/2*Ga,counterClockwise:il})}var pr={};pr.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,o,u=t.pstyle("source-endpoint"),l=t.pstyle("target-endpoint"),f=u.units!=null&&l.units!=null,c=function(O,L,M,_){var P=_-L,N=M-O,R=Math.sqrt(N*N+P*P);return{x:-P/R,y:N/R}},d=t.pstyle("edge-distances").value;switch(d){case"node-position":o=r;break;case"intersection":o=n;break;case"endpoints":{if(f){var v=this.manualEndptToPx(t.source()[0],u),g=Xt(v,2),y=g[0],p=g[1],w=this.manualEndptToPx(t.target()[0],l),x=Xt(w,2),E=x[0],b=x[1],S={x1:y,y1:p,x2:E,y2:b};i=c(y,p,E,b),o=S}else ut("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=n;break}}return{midptPts:o,vectorNormInverse:i}};pr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var u=n.source,l=n.target,f=u.position(),c=l.position(),d=u.width(),v=l.width(),g=u.height(),y=l.height(),p=r.pstyle("haystack-radius").value,w=p/2;i.haystackPts=i.allpts=[i.source.x*d*w+f.x,i.source.y*g*w+f.y,i.target.x*v*w+c.x,i.target.y*y*w+c.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};pr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),o=t.pstyle("segment-radii"),u=t.pstyle("radius-type"),l=Math.min(n.pfValue.length,i.pfValue.length),f=o.pfValue[o.pfValue.length-1],c=u.pfValue[u.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<l;d++){var v=n.pfValue[d],g=i.pfValue[d],y=1-v,p=v,w=this.findMidptPtsEtc(t,e),x=w.midptPts,E=w.vectorNormInverse,b={x:x.x1*y+x.x2*p,y:x.y1*y+x.y2*p};r.segpts.push(b.x+E.x*g,b.y+E.y*g),r.radii.push(o.pfValue[d]!==void 0?o.pfValue[d]:f),r.isArcRadius.push((u.pfValue[d]!==void 0?u.pfValue[d]:c)==="arc-radius")}};pr.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,o=e.dirCounts,u=e.srcPos,l=t.pstyle("control-point-distances"),f=l?l.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,d=t.pstyle("loop-sweep").pfValue,v=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var g=r,y=v;n&&(g=0,y=f);var p=c-Math.PI/2,w=p-d/2,x=p+d/2,E=c+"_"+d;g=o[E]===void 0?o[E]=0:++o[E],i.ctrlpts=[u.x+Math.cos(w)*1.4*y*(g/3+1),u.y+Math.sin(w)*1.4*y*(g/3+1),u.x+Math.cos(x)*1.4*y*(g/3+1),u.y+Math.sin(x)*1.4*y*(g/3+1)]};pr.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,u=e.tgtPos,l=e.srcW,f=e.srcH,c=e.tgtW,d=e.tgtH,v=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),y=g?g.pfValue[0]:void 0,p=r,w=v;n&&(p=0,w=y);var x=50,E={x:o.x-l/2,y:o.y-f/2},b={x:u.x-c/2,y:u.y-d/2},S={x:Math.min(E.x,b.x),y:Math.min(E.y,b.y)},T=.5,O=Math.max(T,Math.log(l*.01)),L=Math.max(T,Math.log(c*.01));i.ctrlpts=[S.x,S.y-(1+Math.pow(x,1.12)/100)*w*(p/3+1)*O,S.x-(1+Math.pow(x,1.12)/100)*w*(p/3+1)*L,S.y]};pr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};pr.findBezierPoints=function(t,e,r,n,i){var o=t._private.rscratch,u=t.pstyle("control-point-step-size").pfValue,l=t.pstyle("control-point-distances"),f=t.pstyle("control-point-weights"),c=l&&f?Math.min(l.value.length,f.value.length):1,d=l?l.pfValue[0]:void 0,v=f.value[0],g=n;o.edgeType=g?"multibezier":"bezier",o.ctrlpts=[];for(var y=0;y<c;y++){var p=(.5-e.eles.length/2+r)*u*(i?-1:1),w=void 0,x=yy(p);g&&(d=l?l.pfValue[y]:u,v=f.value[y]),n?w=d:w=d!==void 0?x*d:void 0;var E=w!==void 0?w:p,b=1-v,S=v,T=this.findMidptPtsEtc(t,e),O=T.midptPts,L=T.vectorNormInverse,M={x:O.x1*b+O.x2*S,y:O.y1*b+O.y2*S};o.ctrlpts.push(M.x+L.x*E,M.y+L.y*E)}};pr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",o="leftward",u="rightward",l="downward",f="upward",c="auto",d=e.posPts,v=e.srcW,g=e.srcH,y=e.tgtW,p=e.tgtH,w=t.pstyle("edge-distances").value,x=w!=="node-position",E=t.pstyle("taxi-direction").value,b=E,S=t.pstyle("taxi-turn"),T=S.units==="%",O=S.pfValue,L=O<0,M=t.pstyle("taxi-turn-min-distance").pfValue,_=x?(v+y)/2:0,P=x?(g+p)/2:0,N=d.x2-d.x1,R=d.y2-d.y1,A=function(ve,be){return ve>0?Math.max(ve-be,0):Math.min(ve+be,0)},B=A(N,_),D=A(R,P),z=!1;b===c?E=Math.abs(B)>Math.abs(D)?i:n:b===f||b===l?(E=n,z=!0):(b===o||b===u)&&(E=i,z=!0);var I=E===n,G=I?D:B,U=I?R:N,q=yy(U),$=!1;!(z&&(T||L))&&(b===l&&U<0||b===f&&U>0||b===o&&U>0||b===u&&U<0)&&(q*=-1,G=q*Math.abs(G),$=!0);var V;if(T){var W=O<0?1+O:O;V=W*G}else{var ee=O<0?G:0;V=ee+O*q}var J=function(ve){return Math.abs(ve)<M||Math.abs(ve)>=Math.abs(G)},te=J(V),re=J(Math.abs(G)-Math.abs(V)),fe=te||re;if(fe&&!$)if(I){var ue=Math.abs(U)<=g/2,Y=Math.abs(N)<=y/2;if(ue){var j=(d.x1+d.x2)/2,Q=d.y1,ce=d.y2;r.segpts=[j,Q,j,ce]}else if(Y){var he=(d.y1+d.y2)/2,me=d.x1,Le=d.x2;r.segpts=[me,he,Le,he]}else r.segpts=[d.x1,d.y2]}else{var $e=Math.abs(U)<=v/2,Xe=Math.abs(R)<=p/2;if($e){var ke=(d.y1+d.y2)/2,Se=d.x1,Me=d.x2;r.segpts=[Se,ke,Me,ke]}else if(Xe){var Oe=(d.x1+d.x2)/2,Ie=d.y1,qe=d.y2;r.segpts=[Oe,Ie,Oe,qe]}else r.segpts=[d.x2,d.y1]}else if(I){var je=d.y1+V+(x?g/2*q:0),Qe=d.x1,ge=d.x2;r.segpts=[Qe,je,ge,je]}else{var H=d.x1+V+(x?v/2*q:0),ne=d.y1,de=d.y2;r.segpts=[H,ne,H,de]}if(r.isRound){var ae=t.pstyle("taxi-radius").value,se=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(ae),r.isArcRadius=new Array(r.segpts.length/2).fill(se)}};pr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,o=e.srcW,u=e.srcH,l=e.tgtW,f=e.tgtH,c=e.srcShape,d=e.tgtShape,v=e.srcCornerRadius,g=e.tgtCornerRadius,y=e.srcRs,p=e.tgtRs,w=!Ee(r.startX)||!Ee(r.startY),x=!Ee(r.arrowStartX)||!Ee(r.arrowStartY),E=!Ee(r.endX)||!Ee(r.endY),b=!Ee(r.arrowEndX)||!Ee(r.arrowEndY),S=3,T=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,O=S*T,L=Ha({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),M=L<O,_=Ha({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),P=_<O,N=!1;if(w||x||M){N=!0;var R={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},A=Math.sqrt(R.x*R.x+R.y*R.y),B={x:R.x/A,y:R.y/A},D=Math.max(o,u),z={x:r.ctrlpts[0]+B.x*2*D,y:r.ctrlpts[1]+B.y*2*D},I=c.intersectLine(n.x,n.y,o,u,z.x,z.y,0,v,y);M?(r.ctrlpts[0]=r.ctrlpts[0]+B.x*(O-L),r.ctrlpts[1]=r.ctrlpts[1]+B.y*(O-L)):(r.ctrlpts[0]=I[0]+B.x*O,r.ctrlpts[1]=I[1]+B.y*O)}if(E||b||P){N=!0;var G={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},U=Math.sqrt(G.x*G.x+G.y*G.y),q={x:G.x/U,y:G.y/U},$=Math.max(o,u),V={x:r.ctrlpts[0]+q.x*2*$,y:r.ctrlpts[1]+q.y*2*$},W=d.intersectLine(i.x,i.y,l,f,V.x,V.y,0,g,p);P?(r.ctrlpts[0]=r.ctrlpts[0]+q.x*(O-_),r.ctrlpts[1]=r.ctrlpts[1]+q.y*(O-_)):(r.ctrlpts[0]=W[0]+q.x*O,r.ctrlpts[1]=W[1]+q.y*O)}N&&this.findEndpoints(t)}};pr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=Kt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=Kt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var o=2;o+3<e.allpts.length;o+=2){var u=e.radii[o/2-1],l=e.isArcRadius[o/2-1];e.roundCorners.push(Pd({x:e.allpts[o-2],y:e.allpts[o-1]},{x:e.allpts[o],y:e.allpts[o+1],radius:u},{x:e.allpts[o+2],y:e.allpts[o+3]},u,l))}}if(e.segpts.length%4===0){var f=e.segpts.length/2,c=f-2;e.midX=(e.segpts[c]+e.segpts[f])/2,e.midY=(e.segpts[c+1]+e.segpts[f+1])/2}else{var d=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[d],e.midY=e.segpts[d+1];else{var v={x:e.segpts[d],y:e.segpts[d+1]},g=e.roundCorners[d/2],y=[v.x-g.cx,v.y-g.cy],p=g.radius/Math.sqrt(Math.pow(y[0],2)+Math.pow(y[1],2));y=y.map(function(w){return w*p}),e.midX=g.cx+y[0],e.midY=g.cy+y[1],e.midVector=y}}}};pr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Ee(e.startX)&&Ee(e.startY)&&Ee(e.endX)&&Ee(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ut("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};pr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),o={map:new yn,get:function(M){var _=this.map.get(M[0]);return _!=null?_.get(M[1]):null},set:function(M,_){var P=this.map.get(M[0]);P==null&&(P=new yn,this.map.set(M[0],P)),P.set(M[1],_)}},u=[],l=[],f=0;f<t.length;f++){var c=t[f],d=c._private,v=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(v==="haystack"){l.push(c);continue}var g=v==="unbundled-bezier"||v.endsWith("segments")||v==="straight"||v==="straight-triangle"||v.endsWith("taxi"),y=v==="unbundled-bezier"||v==="bezier",p=d.source,w=d.target,x=p.poolIndex(),E=w.poolIndex(),b=[x,E].sort(),S=o.get(b);S==null&&(S={eles:[]},o.set(b,S),u.push(b)),S.eles.push(c),g&&(S.hasUnbundled=!0),y&&(S.hasBezier=!0)}}for(var T=function(M){var _=u[M],P=o.get(_),N=void 0;if(!P.hasUnbundled){var R=P.eles[0].parallelEdges().filter(function(H){return H.isBundledBezier()});cd(P.eles),R.forEach(function(H){return P.eles.push(H)}),P.eles.sort(function(H,ne){return H.poolIndex()-ne.poolIndex()})}var A=P.eles[0],B=A.source(),D=A.target();if(B.poolIndex()>D.poolIndex()){var z=B;B=D,D=z}var I=P.srcPos=B.position(),G=P.tgtPos=D.position(),U=P.srcW=B.outerWidth(),q=P.srcH=B.outerHeight(),$=P.tgtW=D.outerWidth(),V=P.tgtH=D.outerHeight(),W=P.srcShape=r.nodeShapes[e.getNodeShape(B)],ee=P.tgtShape=r.nodeShapes[e.getNodeShape(D)],J=P.srcCornerRadius=B.pstyle("corner-radius").value==="auto"?"auto":B.pstyle("corner-radius").pfValue,te=P.tgtCornerRadius=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,re=P.tgtRs=D._private.rscratch,fe=P.srcRs=B._private.rscratch;P.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ue=0;ue<P.eles.length;ue++){var Y=P.eles[ue],j=Y[0]._private.rscratch,Q=Y.pstyle("curve-style").value,ce=Q==="unbundled-bezier"||Q.endsWith("segments")||Q.endsWith("taxi"),he=!B.same(Y.source());if(!P.calculatedIntersection&&B!==D&&(P.hasBezier||P.hasUnbundled)){P.calculatedIntersection=!0;var me=W.intersectLine(I.x,I.y,U,q,G.x,G.y,0,J,fe),Le=P.srcIntn=me,$e=ee.intersectLine(G.x,G.y,$,V,I.x,I.y,0,te,re),Xe=P.tgtIntn=$e,ke=P.intersectionPts={x1:me[0],x2:$e[0],y1:me[1],y2:$e[1]},Se=P.posPts={x1:I.x,x2:G.x,y1:I.y,y2:G.y},Me=$e[1]-me[1],Oe=$e[0]-me[0],Ie=Math.sqrt(Oe*Oe+Me*Me),qe=P.vector={x:Oe,y:Me},je=P.vectorNorm={x:qe.x/Ie,y:qe.y/Ie},Qe={x:-je.y,y:je.x};P.nodesOverlap=!Ee(Ie)||ee.checkPoint(me[0],me[1],0,$,V,G.x,G.y,te,re)||W.checkPoint($e[0],$e[1],0,U,q,I.x,I.y,J,fe),P.vectorNormInverse=Qe,N={nodesOverlap:P.nodesOverlap,dirCounts:P.dirCounts,calculatedIntersection:!0,hasBezier:P.hasBezier,hasUnbundled:P.hasUnbundled,eles:P.eles,srcPos:G,srcRs:re,tgtPos:I,tgtRs:fe,srcW:$,srcH:V,tgtW:U,tgtH:q,srcIntn:Xe,tgtIntn:Le,srcShape:ee,tgtShape:W,posPts:{x1:Se.x2,y1:Se.y2,x2:Se.x1,y2:Se.y1},intersectionPts:{x1:ke.x2,y1:ke.y2,x2:ke.x1,y2:ke.y1},vector:{x:-qe.x,y:-qe.y},vectorNorm:{x:-je.x,y:-je.y},vectorNormInverse:{x:-Qe.x,y:-Qe.y}}}var ge=he?N:P;j.nodesOverlap=ge.nodesOverlap,j.srcIntn=ge.srcIntn,j.tgtIntn=ge.tgtIntn,j.isRound=Q.startsWith("round"),i&&(B.isParent()||B.isChild()||D.isParent()||D.isChild())&&(B.parents().anySame(D)||D.parents().anySame(B)||B.same(D)&&B.isParent())?e.findCompoundLoopPoints(Y,ge,ue,ce):B===D?e.findLoopPoints(Y,ge,ue,ce):Q.endsWith("segments")?e.findSegmentsPoints(Y,ge):Q.endsWith("taxi")?e.findTaxiPoints(Y,ge):Q==="straight"||!ce&&P.eles.length%2===1&&ue===Math.floor(P.eles.length/2)?e.findStraightEdgePoints(Y):e.findBezierPoints(Y,ge,ue,ce,he),e.findEndpoints(Y),e.tryToCorrectInvalidPoints(Y,ge),e.checkForInvalidEdgeWarning(Y),e.storeAllpts(Y),e.storeEdgeProjections(Y),e.calculateArrowAngles(Y),e.recalculateEdgeLabelProjections(Y),e.calculateLabelAngles(Y)}},O=0;O<u.length;O++)T(O);this.findHaystackPoints(l)}};function hm(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}pr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return hm(e.segpts)};pr.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return hm(e.ctrlpts)};pr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ws={};ws.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),o=t.outerHeight(),u=t._private.rscratch;if(e.value.length===2){var l=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(l[0]=l[0]*i),e.units[1]==="%"&&(l[1]=l[1]*o),l[0]+=n.x,l[1]+=n.y,l}else{var f=e.pfValue[0];f=-Math.PI/2+f;var c=2*Math.max(i,o),d=[n.x+Math.cos(f)*c,n.y+Math.sin(f)*c];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,o,d[0],d[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,u)}};ws.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],o=n.position(),u=i.position(),l=t.pstyle("target-arrow-shape").value,f=t.pstyle("source-arrow-shape").value,c=t.pstyle("target-distance-from-node").pfValue,d=t.pstyle("source-distance-from-node").pfValue,v=n._private.rscratch,g=i._private.rscratch,y=t.pstyle("curve-style").value,p=t._private.rscratch,w=p.edgeType,x=y==="taxi",E=w==="self"||w==="compound",b=w==="bezier"||w==="multibezier"||E,S=w!=="bezier",T=w==="straight"||w==="segments",O=w==="segments",L=b||S||T,M=E||x,_=t.pstyle("source-endpoint"),P=M?"outside-to-node":_.value,N=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,R=t.pstyle("target-endpoint"),A=M?"outside-to-node":R.value,B=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;p.srcManEndpt=_,p.tgtManEndpt=R;var D,z,I,G;if(b){var U=[p.ctrlpts[0],p.ctrlpts[1]],q=S?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:U;D=q,z=U}else if(T){var $=O?p.segpts.slice(0,2):[u.x,u.y],V=O?p.segpts.slice(p.segpts.length-2):[o.x,o.y];D=V,z=$}if(A==="inside-to-node")r=[u.x,u.y];else if(R.units)r=this.manualEndptToPx(i,R);else if(A==="outside-to-line")r=p.tgtIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?I=D:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(I=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(u.x,u.y,i.outerWidth(),i.outerHeight(),I[0],I[1],0,B,g),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var W=i._private.rscratch,ee=W.labelWidth,J=W.labelHeight,te=W.labelX,re=W.labelY,fe=ee/2,ue=J/2,Y=i.pstyle("text-valign").value;Y==="top"?re-=ue:Y==="bottom"&&(re+=ue);var j=i.pstyle("text-halign").value;j==="left"?te-=fe:j==="right"&&(te+=fe);var Q=os(I[0],I[1],[te-fe,re-ue,te+fe,re-ue,te+fe,re+ue,te-fe,re+ue],u.x,u.y);if(Q.length>0){var ce=o,he=za(ce,Li(r)),me=za(ce,Li(Q)),Le=he;if(me<he&&(r=Q,Le=me),Q.length>2){var $e=za(ce,{x:Q[2],y:Q[3]});$e<Le&&(r=[Q[2],Q[3]])}}}var Xe=zu(r,D,e.arrowShapes[l].spacing(t)+c),ke=zu(r,D,e.arrowShapes[l].gap(t)+c);if(p.endX=ke[0],p.endY=ke[1],p.arrowEndX=Xe[0],p.arrowEndY=Xe[1],P==="inside-to-node")r=[o.x,o.y];else if(_.units)r=this.manualEndptToPx(n,_);else if(P==="outside-to-line")r=p.srcIntn;else if(P==="outside-to-node"||P==="outside-to-node-or-label"?G=z:(P==="outside-to-line"||P==="outside-to-line-or-label")&&(G=[u.x,u.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),G[0],G[1],0,N,v),P==="outside-to-node-or-label"||P==="outside-to-line-or-label"){var Se=n._private.rscratch,Me=Se.labelWidth,Oe=Se.labelHeight,Ie=Se.labelX,qe=Se.labelY,je=Me/2,Qe=Oe/2,ge=n.pstyle("text-valign").value;ge==="top"?qe-=Qe:ge==="bottom"&&(qe+=Qe);var H=n.pstyle("text-halign").value;H==="left"?Ie-=je:H==="right"&&(Ie+=je);var ne=os(G[0],G[1],[Ie-je,qe-Qe,Ie+je,qe-Qe,Ie+je,qe+Qe,Ie-je,qe+Qe],o.x,o.y);if(ne.length>0){var de=u,ae=za(de,Li(r)),se=za(de,Li(ne)),Ce=ae;if(se<ae&&(r=[ne[0],ne[1]],Ce=se),ne.length>2){var ve=za(de,{x:ne[2],y:ne[3]});ve<Ce&&(r=[ne[2],ne[3]])}}}var be=zu(r,z,e.arrowShapes[f].spacing(t)+d),ze=zu(r,z,e.arrowShapes[f].gap(t)+d);p.startX=ze[0],p.startY=ze[1],p.arrowStartX=be[0],p.arrowStartY=be[1],L&&(!Ee(p.startX)||!Ee(p.startY)||!Ee(p.endX)||!Ee(p.endY)?p.badLine=!0:p.badLine=!1)};ws.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};ws.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Td={};function TC(t,e,r){for(var n=function(c,d,v,g){return Kt(c,d,v,g)},i=e._private,o=i.rstyle.bezierPts,u=0;u<t.bezierProjPcts.length;u++){var l=t.bezierProjPcts[u];o.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}Td.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)TC(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)o.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var u=r.haystackPts;e.rstyle.haystackPts=[{x:u[0],y:u[1]},{x:u[2],y:u[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Td.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var wn={};wn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!ca(e)){var r,n,i=t._private,o=t.width(),u=t.height(),l=t.padding(),f=t.position(),c=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,v=i.rscratch,g=i.rstyle;switch(c){case"left":r=f.x-o/2-l;break;case"right":r=f.x+o/2+l;break;default:r=f.x}switch(d){case"top":n=f.y-u/2-l;break;case"bottom":n=f.y+u/2+l;break;default:n=f.y}v.labelX=r,v.labelY=n,g.labelX=r,g.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var gm=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},pm=function(e,r){var n=r.x-e.x,i=r.y-e.y;return gm(n,i)},_C=function(e,r,n,i){var o=is(0,i-.001,1),u=is(0,i+.001,1),l=Mi(e,r,n,o),f=Mi(e,r,n,u);return pm(l,f)};wn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:n.midX,y:n.midY};var u=function(v,g,y){sa(r.rscratch,v,g,y),sa(r.rstyle,v,g,y)};u("labelX",null,e.x),u("labelY",null,e.y);var l=gm(n.midDispX,n.midDispY);u("labelAutoAngle",null,l);var f=function d(){if(d.cache)return d.cache;for(var v=[],g=0;g+5<n.allpts.length;g+=4){var y={x:n.allpts[g],y:n.allpts[g+1]},p={x:n.allpts[g+2],y:n.allpts[g+3]},w={x:n.allpts[g+4],y:n.allpts[g+5]};v.push({p0:y,p1:p,p2:w,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,E=i.bezierProjPcts.length;function b(M,_,P,N,R){var A=Ha(_,P),B=M.segments[M.segments.length-1],D={p0:_,p1:P,t0:N,t1:R,startDist:B?B.startDist+B.length:0,length:A};M.segments.push(D),M.length+=A}for(var S=0;S<v.length;S++){var T=v[S],O=v[S-1];O&&(T.startDist=O.startDist+O.length),b(T,T.p0,x[S*E],0,i.bezierProjPcts[0]);for(var L=0;L<E-1;L++)b(T,x[S*E+L],x[S*E+L+1],i.bezierProjPcts[L],i.bezierProjPcts[L+1]);b(T,x[S*E+E-1],T.p2,i.bezierProjPcts[E-1],1)}return d.cache=v},c=function(v){var g,y=v==="source";if(o[v]){var p=t.pstyle(v+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var w=f(),x,E=0,b=0,S=0;S<w.length;S++){for(var T=w[y?S:w.length-1-S],O=0;O<T.segments.length;O++){var L=T.segments[y?O:T.segments.length-1-O],M=S===w.length-1&&O===T.segments.length-1;if(E=b,b+=L.length,b>=p||M){x={cp:T,segment:L};break}}if(x)break}var _=x.cp,P=x.segment,N=(p-E)/P.length,R=P.t1-P.t0,A=y?P.t0+R*N:P.t1-R*N;A=is(0,A,1),e=Mi(_.p0,_.p1,_.p2,A),g=_C(_.p0,_.p1,_.p2,A);break}case"straight":case"segments":case"haystack":{for(var B=0,D,z,I,G,U=n.allpts.length,q=0;q+3<U&&(y?(I={x:n.allpts[q],y:n.allpts[q+1]},G={x:n.allpts[q+2],y:n.allpts[q+3]}):(I={x:n.allpts[U-2-q],y:n.allpts[U-1-q]},G={x:n.allpts[U-4-q],y:n.allpts[U-3-q]}),D=Ha(I,G),z=B,B+=D,!(B>=p));q+=2);var $=p-z,V=$/D;V=is(0,V,1),e=Nx(I,G,V),g=pm(I,G);break}}u("labelX",v,e.x),u("labelY",v,e.y),u("labelAutoAngle",v,g)}};c("source"),c("target"),this.applyLabelDimensions(t)}};wn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};wn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,u=t.pstyle("text-wrap").strValue,l=on(r.rscratch,"labelWrapCachedLines",e)||[],f=u!=="wrap"?1:Math.max(l.length,1),c=i.height/f,d=c*o,v=i.width,g=i.height+(f-1)*(o-1)*c;sa(r.rstyle,"labelWidth",e,v),sa(r.rscratch,"labelWidth",e,v),sa(r.rstyle,"labelHeight",e,g),sa(r.rscratch,"labelHeight",e,g),sa(r.rscratch,"labelLineHeight",e,d)};wn.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,o=t.pstyle("text-transform").value,u=function(ee,J){return J?(sa(r.rscratch,ee,e,J),J):on(r.rscratch,ee,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var l=t.pstyle("text-wrap").value;if(l==="wrap"){var f=u("labelKey");if(f!=null&&u("labelWrapKey")===f)return u("labelWrapCachedText");for(var c="​",d=i.split(`
`),v=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,y=g==="anywhere",p=[],w=/[\s\u200b]+|$/g,x=0;x<d.length;x++){var E=d[x],b=this.calculateLabelDimensions(t,E),S=b.width;if(y){var T=E.split("").join(c);E=T}if(S>v){var O=E.matchAll(w),L="",M=0,_=Ir(O),P;try{for(_.s();!(P=_.n()).done;){var N=P.value,R=N[0],A=E.substring(M,N.index);M=N.index+R.length;var B=L.length===0?A:L+A+R,D=this.calculateLabelDimensions(t,B),z=D.width;z<=v?L+=A+R:(L&&p.push(L),L=A+R)}}catch(W){_.e(W)}finally{_.f()}L.match(/^[\s\u200b]+$/)||p.push(L)}else p.push(E)}u("labelWrapCachedLines",p),i=u("labelWrapCachedText",p.join(`
`)),u("labelWrapKey",f)}else if(l==="ellipsis"){var I=t.pstyle("text-max-width").pfValue,G="",U="…",q=!1;if(this.calculateLabelDimensions(t,i).width<I)return i;for(var $=0;$<i.length;$++){var V=this.calculateLabelDimensions(t,G+i[$]+U).width;if(V>I)break;G+=i[$],$===i.length-1&&(q=!0)}return q||(G+=U),G}return i};wn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};wn.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,o=da(e,t._private.labelDimsKey),u=r.labelDimCache||(r.labelDimCache=[]),l=u[o];if(l!=null)return l;var f=0,c=t.pstyle("font-style").strValue,d=t.pstyle("font-size").pfValue,v=t.pstyle("font-family").strValue,g=t.pstyle("font-weight").strValue,y=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!y){y=this.labelCalcCanvas=i.createElement("canvas"),p=this.labelCalcCanvasContext=y.getContext("2d");var w=y.style;w.position="absolute",w.left="-9999px",w.top="-9999px",w.zIndex="-1",w.visibility="hidden",w.pointerEvents="none"}p.font="".concat(c," ").concat(g," ").concat(d,"px ").concat(v);for(var x=0,E=0,b=e.split(`
`),S=0;S<b.length;S++){var T=b[S],O=p.measureText(T),L=Math.ceil(O.width),M=d;x=Math.max(L,x),E+=M}return x+=f,E+=f,u[o]={width:x,height:E}};wn.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),o=e?e+"-":"",u=t.pstyle(o+"text-rotation"),l=u.strValue;return l==="none"?0:i&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:u.pfValue};wn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var ym={},vp=28,hp=!1;ym.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<vp||t.height()<vp))return hp||(ut("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),hp=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Nl={};Nl.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(u),l)for(var f=0;f<u.length;f++){var c=u[f],d=c._private,v=d.rstyle;v.clean=!1,v.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(u){var l=u.target;n(l)}).on("style.* background.*",function(u){var l=u.target;n(l,!1)});var i=function(u){if(u){var l=r.onUpdateEleCalcsFns;e.cleanStyle();for(var f=0;f<e.length;f++){var c=e[f],d=c._private.rstyle;c.isNode()&&!d.cleanConnected&&(n(c.connectedEdges()),d.cleanConnected=!0)}if(l)for(var v=0;v<l.length;v++){var g=l[v];g(u,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};Nl.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Nl.recalculateRenderedStyle=function(t,e){var r=function(T){return T._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<t.length;o++){var u=t[o],l=u._private,f=l.rstyle;u.isEdge()&&(!r(u.source())||!r(u.target()))&&(f.clean=!1),!(e&&f.clean||u.removed())&&u.pstyle("display").value!=="none"&&(l.group==="nodes"?i.push(u):n.push(u),f.clean=!0)}for(var c=0;c<i.length;c++){var d=i[c],v=d._private,g=v.rstyle,y=d.position();this.recalculateNodeLabelProjection(d),g.nodeX=y.x,g.nodeY=y.y,g.nodeW=d.pstyle("width").pfValue,g.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var p=0;p<n.length;p++){var w=n[p],x=w._private,E=x.rstyle,b=x.rscratch;E.srcX=b.arrowStartX,E.srcY=b.arrowStartY,E.tgtX=b.arrowEndX,E.tgtY=b.arrowEndY,E.midX=b.midX,E.midY=b.midY,E.labelAngle=b.labelAngle,E.sourceLabelAngle=b.sourceLabelAngle,E.targetLabelAngle=b.targetLabelAngle}}};var Ol={};Ol.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Ol.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Ol.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(em),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var mm={};[Ya,yl,pr,ws,Td,wn,ym,Nl,Ol].forEach(function(t){Ue(mm,t)});var wm={};wm.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},o=i[t];if(o)return o.image.complete||o.image.addEventListener("load",r),o.image;o=i[t]=i[t]||{};var u=o.image=new Image;u.addEventListener("load",r),u.addEventListener("error",function(){u.error=!0});var l="data:",f=t.substring(0,l.length).toLowerCase()===l;return f||(e=e==="null"?null:e,u.crossOrigin=e),u.src=t,u};var Yi={};Yi.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var o=[],u=0;u<t.length;u++){var l=t[u];if(l!==void 0){var f=this.binder(l);o.push(f.on.apply(f,i))}}return o}var f=this.binder(t);return f.on.apply(f,i)};Yi.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||rw(t);if(e.supportsPassiveEvents==null){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,o)}catch{}e.supportsPassiveEvents=i}var u=function(f,c,d){var v=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(v[2]={capture:d??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:v}),(t.addEventListener||t.on).apply(t,v),this};return{on:u,addEventListener:u,addListener:u,bind:u}};Yi.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Yi.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Yi.load=function(){var t=this,e=t.cy.window(),r=function(H){return H.selected()},n=function(H){var ne=H.getRootNode();if(ne&&ne.nodeType===11&&ne.host!==void 0)return ne},i=function(H,ne,de,ae){H==null&&(H=t.cy);for(var se=0;se<ne.length;se++){var Ce=ne[se];H.emit({originalEvent:de,type:Ce,position:ae})}},o=function(H){return H.shiftKey||H.metaKey||H.ctrlKey},u=function(H,ne){var de=!0;if(t.cy.hasCompoundNodes()&&H&&H.pannable())for(var ae=0;ne&&ae<ne.length;ae++){var H=ne[ae];if(H.isNode()&&H.isParent()&&!H.pannable()){de=!1;break}}else de=!0;return de},l=function(H){H[0]._private.grabbed=!0},f=function(H){H[0]._private.grabbed=!1},c=function(H){H[0]._private.rscratch.inDragLayer=!0},d=function(H){H[0]._private.rscratch.inDragLayer=!1},v=function(H){H[0]._private.rscratch.isGrabTarget=!0},g=function(H){H[0]._private.rscratch.isGrabTarget=!1},y=function(H,ne){var de=ne.addToList,ae=de.has(H);!ae&&H.grabbable()&&!H.locked()&&(de.merge(H),l(H))},p=function(H,ne){if(H.cy().hasCompoundNodes()&&!(ne.inDragLayer==null&&ne.addToList==null)){var de=H.descendants();ne.inDragLayer&&(de.forEach(c),de.connectedEdges().forEach(c)),ne.addToList&&y(de,ne)}},w=function(H,ne){ne=ne||{};var de=H.cy().hasCompoundNodes();ne.inDragLayer&&(H.forEach(c),H.neighborhood().stdFilter(function(ae){return!de||ae.isEdge()}).forEach(c)),ne.addToList&&H.forEach(function(ae){y(ae,ne)}),p(H,ne),b(H,{inDragLayer:ne.inDragLayer}),t.updateCachedGrabbedEles()},x=w,E=function(H){H&&(t.getCachedZSortedEles().forEach(function(ne){f(ne),d(ne),g(ne)}),t.updateCachedGrabbedEles())},b=function(H,ne){if(!(ne.inDragLayer==null&&ne.addToList==null)&&H.cy().hasCompoundNodes()){var de=H.ancestors().orphans();if(!de.same(H)){var ae=de.descendants().spawnSelf().merge(de).unmerge(H).unmerge(H.descendants()),se=ae.connectedEdges();ne.inDragLayer&&(se.forEach(c),ae.forEach(c)),ne.addToList&&ae.forEach(function(Ce){y(Ce,ne)})}}},S=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},T=typeof MutationObserver<"u",O=typeof ResizeObserver<"u";T?(t.removeObserver=new MutationObserver(function(ge){for(var H=0;H<ge.length;H++){var ne=ge[H],de=ne.removedNodes;if(de)for(var ae=0;ae<de.length;ae++){var se=de[ae];if(se===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(ge){t.destroy()});var L=gs(function(){t.cy.resize()},100);T&&(t.styleObserver=new MutationObserver(L),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",L),O&&(t.resizeObserver=new ResizeObserver(L),t.resizeObserver.observe(t.container));var M=function(H,ne){for(;H!=null;)ne(H),H=H.parentNode},_=function(){t.invalidateContainerClientCoordsCache()};M(t.container,function(ge){t.registerBinding(ge,"transitionend",_),t.registerBinding(ge,"animationend",_),t.registerBinding(ge,"scroll",_)}),t.registerBinding(t.container,"contextmenu",function(ge){ge.preventDefault()});var P=function(){return t.selection[4]!==0},N=function(H){for(var ne=t.findContainerClientCoords(),de=ne[0],ae=ne[1],se=ne[2],Ce=ne[3],ve=H.touches?H.touches:[H],be=!1,ze=0;ze<ve.length;ze++){var Ke=ve[ze];if(de<=Ke.clientX&&Ke.clientX<=de+se&&ae<=Ke.clientY&&Ke.clientY<=ae+Ce){be=!0;break}}if(!be)return!1;for(var De=t.container,He=H.target,We=He.parentNode,Fe=!1;We;){if(We===De){Fe=!0;break}We=We.parentNode}return!!Fe};t.registerBinding(t.container,"mousedown",function(H){if(N(H)&&!(t.hoverData.which===1&&H.which!==1)){H.preventDefault(),S(),t.hoverData.capture=!0,t.hoverData.which=H.which;var ne=t.cy,de=[H.clientX,H.clientY],ae=t.projectIntoViewport(de[0],de[1]),se=t.selection,Ce=t.findNearestElements(ae[0],ae[1],!0,!1),ve=Ce[0],be=t.dragData.possibleDragElements;t.hoverData.mdownPos=ae,t.hoverData.mdownGPos=de;var ze=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var et=t.hoverData.down;et?et.emit({originalEvent:H,type:"taphold",position:{x:ae[0],y:ae[1]}}):ne.emit({originalEvent:H,type:"taphold",position:{x:ae[0],y:ae[1]}})}},t.tapholdDuration)};if(H.which==3){t.hoverData.cxtStarted=!0;var Ke={originalEvent:H,type:"cxttapstart",position:{x:ae[0],y:ae[1]}};ve?(ve.activate(),ve.emit(Ke),t.hoverData.down=ve):ne.emit(Ke),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(H.which==1){ve&&ve.activate();{if(ve!=null&&t.nodeIsGrabbable(ve)){var De=function(et){return{originalEvent:H,type:et,position:{x:ae[0],y:ae[1]}}},He=function(et){et.emit(De("grab"))};if(v(ve),!ve.selected())be=t.dragData.possibleDragElements=ne.collection(),x(ve,{addToList:be}),ve.emit(De("grabon")).emit(De("grab"));else{be=t.dragData.possibleDragElements=ne.collection();var We=ne.$(function(Fe){return Fe.isNode()&&Fe.selected()&&t.nodeIsGrabbable(Fe)});w(We,{addToList:be}),ve.emit(De("grabon")),We.forEach(He)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=ve,t.hoverData.downs=Ce,t.hoverData.downTime=new Date().getTime()}i(ve,["mousedown","tapstart","vmousedown"],H,{x:ae[0],y:ae[1]}),ve==null?(se[4]=1,t.data.bgActivePosistion={x:ae[0],y:ae[1]},t.redrawHint("select",!0),t.redraw()):ve.pannable()&&(se[4]=1),ze()}se[0]=se[2]=ae[0],se[1]=se[3]=ae[1]}},!1);var R=n(t.container);t.registerBinding([e,R],"mousemove",function(H){var ne=t.hoverData.capture;if(!(!ne&&!N(H))){var de=!1,ae=t.cy,se=ae.zoom(),Ce=[H.clientX,H.clientY],ve=t.projectIntoViewport(Ce[0],Ce[1]),be=t.hoverData.mdownPos,ze=t.hoverData.mdownGPos,Ke=t.selection,De=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(De=t.findNearestElement(ve[0],ve[1],!0,!1));var He=t.hoverData.last,We=t.hoverData.down,Fe=[ve[0]-Ke[2],ve[1]-Ke[3]],et=t.dragData.possibleDragElements,ot;if(ze){var rr=Ce[0]-ze[0],nr=rr*rr,Pt=Ce[1]-ze[1],At=Pt*Pt,Bt=nr+At;t.hoverData.isOverThresholdDrag=ot=Bt>=t.desktopTapThreshold2}var Nt=o(H);ot&&(t.hoverData.tapholdCancelled=!0);var Ut=function(){var Fr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Fr.length===0?(Fr.push(Fe[0]),Fr.push(Fe[1])):(Fr[0]+=Fe[0],Fr[1]+=Fe[1])};de=!0,i(De,["mousemove","vmousemove","tapdrag"],H,{x:ve[0],y:ve[1]});var ar=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ae.emit({originalEvent:H,type:"boxstart",position:{x:ve[0],y:ve[1]}}),Ke[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ot){var ir={originalEvent:H,type:"cxtdrag",position:{x:ve[0],y:ve[1]}};We?We.emit(ir):ae.emit(ir),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||De!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:H,type:"cxtdragout",position:{x:ve[0],y:ve[1]}}),t.hoverData.cxtOver=De,De&&De.emit({originalEvent:H,type:"cxtdragover",position:{x:ve[0],y:ve[1]}}))}}else if(t.hoverData.dragging){if(de=!0,ae.panningEnabled()&&ae.userPanningEnabled()){var or;if(t.hoverData.justStartedPan){var jr=t.hoverData.mdownPos;or={x:(ve[0]-jr[0])*se,y:(ve[1]-jr[1])*se},t.hoverData.justStartedPan=!1}else or={x:Fe[0]*se,y:Fe[1]*se};ae.panBy(or),ae.emit("dragpan"),t.hoverData.dragged=!0}ve=t.projectIntoViewport(H.clientX,H.clientY)}else if(Ke[4]==1&&(We==null||We.pannable())){if(ot){if(!t.hoverData.dragging&&ae.boxSelectionEnabled()&&(Nt||!ae.panningEnabled()||!ae.userPanningEnabled()))ar();else if(!t.hoverData.selecting&&ae.panningEnabled()&&ae.userPanningEnabled()){var yr=u(We,t.hoverData.downs);yr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ke[4]=0,t.data.bgActivePosistion=Li(be),t.redrawHint("select",!0),t.redraw())}We&&We.pannable()&&We.active()&&We.unactivate()}}else{if(We&&We.pannable()&&We.active()&&We.unactivate(),(!We||!We.grabbed())&&De!=He&&(He&&i(He,["mouseout","tapdragout"],H,{x:ve[0],y:ve[1]}),De&&i(De,["mouseover","tapdragover"],H,{x:ve[0],y:ve[1]}),t.hoverData.last=De),We)if(ot){if(ae.boxSelectionEnabled()&&Nt)We&&We.grabbed()&&(E(et),We.emit("freeon"),et.emit("free"),t.dragData.didDrag&&(We.emit("dragfreeon"),et.emit("dragfree"))),ar();else if(We&&We.grabbed()&&t.nodeIsDraggable(We)){var Lt=!t.dragData.didDrag;Lt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||w(et,{inDragLayer:!0});var xt={x:0,y:0};if(Ee(Fe[0])&&Ee(Fe[1])&&(xt.x+=Fe[0],xt.y+=Fe[1],Lt)){var qt=t.hoverData.dragDelta;qt&&Ee(qt[0])&&Ee(qt[1])&&(xt.x+=qt[0],xt.y+=qt[1])}t.hoverData.draggingEles=!0,et.silentShift(xt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Ut();de=!0}if(Ke[2]=ve[0],Ke[3]=ve[1],de)return H.stopPropagation&&H.stopPropagation(),H.preventDefault&&H.preventDefault(),!1}},!1);var A,B,D;t.registerBinding(e,"mouseup",function(H){if(!(t.hoverData.which===1&&H.which!==1&&t.hoverData.capture)){var ne=t.hoverData.capture;if(ne){t.hoverData.capture=!1;var de=t.cy,ae=t.projectIntoViewport(H.clientX,H.clientY),se=t.selection,Ce=t.findNearestElement(ae[0],ae[1],!0,!1),ve=t.dragData.possibleDragElements,be=t.hoverData.down,ze=o(H);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,be&&be.unactivate(),t.hoverData.which===3){var Ke={originalEvent:H,type:"cxttapend",position:{x:ae[0],y:ae[1]}};if(be?be.emit(Ke):de.emit(Ke),!t.hoverData.cxtDragged){var De={originalEvent:H,type:"cxttap",position:{x:ae[0],y:ae[1]}};be?be.emit(De):de.emit(De)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(Ce,["mouseup","tapend","vmouseup"],H,{x:ae[0],y:ae[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(be,["click","tap","vclick"],H,{x:ae[0],y:ae[1]}),B=!1,H.timeStamp-D<=de.multiClickDebounceTime()?(A&&clearTimeout(A),B=!0,D=null,i(be,["dblclick","dbltap","vdblclick"],H,{x:ae[0],y:ae[1]})):(A=setTimeout(function(){B||i(be,["oneclick","onetap","voneclick"],H,{x:ae[0],y:ae[1]})},de.multiClickDebounceTime()),D=H.timeStamp)),be==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!o(H)&&(de.$(r).unselect(["tapunselect"]),ve.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=ve=de.collection()),Ce==be&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ce!=null&&Ce._private.selectable&&(t.hoverData.dragging||(de.selectionType()==="additive"||ze?Ce.selected()?Ce.unselect(["tapunselect"]):Ce.select(["tapselect"]):ze||(de.$(r).unmerge(Ce).unselect(["tapunselect"]),Ce.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var He=de.collection(t.getAllInBox(se[0],se[1],se[2],se[3]));t.redrawHint("select",!0),He.length>0&&t.redrawHint("eles",!0),de.emit({type:"boxend",originalEvent:H,position:{x:ae[0],y:ae[1]}});var We=function(ot){return ot.selectable()&&!ot.selected()};de.selectionType()==="additive"||ze||de.$(r).unmerge(He).unselect(),He.emit("box").stdFilter(We).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!se[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Fe=be&&be.grabbed();E(ve),Fe&&(be.emit("freeon"),ve.emit("free"),t.dragData.didDrag&&(be.emit("dragfreeon"),ve.emit("dragfree")))}}se[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var z=function(H){if(!t.scrollingPage){var ne=t.cy,de=ne.zoom(),ae=ne.pan(),se=t.projectIntoViewport(H.clientX,H.clientY),Ce=[se[0]*de+ae.x,se[1]*de+ae.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||P()){H.preventDefault();return}if(ne.panningEnabled()&&ne.userPanningEnabled()&&ne.zoomingEnabled()&&ne.userZoomingEnabled()){H.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var ve;H.deltaY!=null?ve=H.deltaY/-250:H.wheelDeltaY!=null?ve=H.wheelDeltaY/1e3:ve=H.wheelDelta/1e3,ve=ve*t.wheelSensitivity;var be=H.deltaMode===1;be&&(ve*=33);var ze=ne.zoom()*Math.pow(10,ve);H.type==="gesturechange"&&(ze=t.gestureStartZoom*H.scale),ne.zoom({level:ze,renderedPosition:{x:Ce[0],y:Ce[1]}}),ne.emit(H.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",z,!0),t.registerBinding(e,"scroll",function(H){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(H){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||H.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(ge){t.hasTouchStarted||z(ge)},!0),t.registerBinding(t.container,"mouseout",function(H){var ne=t.projectIntoViewport(H.clientX,H.clientY);t.cy.emit({originalEvent:H,type:"mouseout",position:{x:ne[0],y:ne[1]}})},!1),t.registerBinding(t.container,"mouseover",function(H){var ne=t.projectIntoViewport(H.clientX,H.clientY);t.cy.emit({originalEvent:H,type:"mouseover",position:{x:ne[0],y:ne[1]}})},!1);var I,G,U,q,$,V,W,ee,J,te,re,fe,ue,Y=function(H,ne,de,ae){return Math.sqrt((de-H)*(de-H)+(ae-ne)*(ae-ne))},j=function(H,ne,de,ae){return(de-H)*(de-H)+(ae-ne)*(ae-ne)},Q;t.registerBinding(t.container,"touchstart",Q=function(H){if(t.hasTouchStarted=!0,!!N(H)){S(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var ne=t.cy,de=t.touchData.now,ae=t.touchData.earlier;if(H.touches[0]){var se=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);de[0]=se[0],de[1]=se[1]}if(H.touches[1]){var se=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);de[2]=se[0],de[3]=se[1]}if(H.touches[2]){var se=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);de[4]=se[0],de[5]=se[1]}if(H.touches[1]){t.touchData.singleTouchMoved=!0,E(t.dragData.touchDragEles);var Ce=t.findContainerClientCoords();J=Ce[0],te=Ce[1],re=Ce[2],fe=Ce[3],I=H.touches[0].clientX-J,G=H.touches[0].clientY-te,U=H.touches[1].clientX-J,q=H.touches[1].clientY-te,ue=0<=I&&I<=re&&0<=U&&U<=re&&0<=G&&G<=fe&&0<=q&&q<=fe;var ve=ne.pan(),be=ne.zoom();$=Y(I,G,U,q),V=j(I,G,U,q),W=[(I+U)/2,(G+q)/2],ee=[(W[0]-ve.x)/be,(W[1]-ve.y)/be];var ze=200,Ke=ze*ze;if(V<Ke&&!H.touches[2]){var De=t.findNearestElement(de[0],de[1],!0,!0),He=t.findNearestElement(de[2],de[3],!0,!0);De&&De.isNode()?(De.activate().emit({originalEvent:H,type:"cxttapstart",position:{x:de[0],y:de[1]}}),t.touchData.start=De):He&&He.isNode()?(He.activate().emit({originalEvent:H,type:"cxttapstart",position:{x:de[0],y:de[1]}}),t.touchData.start=He):ne.emit({originalEvent:H,type:"cxttapstart",position:{x:de[0],y:de[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(H.touches[2])ne.boxSelectionEnabled()&&H.preventDefault();else if(!H.touches[1]){if(H.touches[0]){var We=t.findNearestElements(de[0],de[1],!0,!0),Fe=We[0];if(Fe!=null&&(Fe.activate(),t.touchData.start=Fe,t.touchData.starts=We,t.nodeIsGrabbable(Fe))){var et=t.dragData.touchDragEles=ne.collection(),ot=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Fe.selected()?(ot=ne.$(function(Bt){return Bt.selected()&&t.nodeIsGrabbable(Bt)}),w(ot,{addToList:et})):x(Fe,{addToList:et}),v(Fe);var rr=function(Nt){return{originalEvent:H,type:Nt,position:{x:de[0],y:de[1]}}};Fe.emit(rr("grabon")),ot?ot.forEach(function(Bt){Bt.emit(rr("grab"))}):Fe.emit(rr("grab"))}i(Fe,["touchstart","tapstart","vmousedown"],H,{x:de[0],y:de[1]}),Fe==null&&(t.data.bgActivePosistion={x:se[0],y:se[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],H,{x:de[0],y:de[1]})},t.tapholdDuration)}}if(H.touches.length>=1){for(var nr=t.touchData.startPosition=[null,null,null,null,null,null],Pt=0;Pt<de.length;Pt++)nr[Pt]=ae[Pt]=de[Pt];var At=H.touches[0];t.touchData.startGPosition=[At.clientX,At.clientY]}}},!1);var ce;t.registerBinding(e,"touchmove",ce=function(H){var ne=t.touchData.capture;if(!(!ne&&!N(H))){var de=t.selection,ae=t.cy,se=t.touchData.now,Ce=t.touchData.earlier,ve=ae.zoom();if(H.touches[0]){var be=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);se[0]=be[0],se[1]=be[1]}if(H.touches[1]){var be=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);se[2]=be[0],se[3]=be[1]}if(H.touches[2]){var be=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);se[4]=be[0],se[5]=be[1]}var ze=t.touchData.startGPosition,Ke;if(ne&&H.touches[0]&&ze){for(var De=[],He=0;He<se.length;He++)De[He]=se[He]-Ce[He];var We=H.touches[0].clientX-ze[0],Fe=We*We,et=H.touches[0].clientY-ze[1],ot=et*et,rr=Fe+ot;Ke=rr>=t.touchTapThreshold2}if(ne&&t.touchData.cxt){H.preventDefault();var nr=H.touches[0].clientX-J,Pt=H.touches[0].clientY-te,At=H.touches[1].clientX-J,Bt=H.touches[1].clientY-te,Nt=j(nr,Pt,At,Bt),Ut=Nt/V,ar=150,ir=ar*ar,or=1.5,jr=or*or;if(Ut>=jr||Nt>=ir){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var yr={originalEvent:H,type:"cxttapend",position:{x:se[0],y:se[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(yr),t.touchData.start=null):ae.emit(yr)}}if(ne&&t.touchData.cxt){var yr={originalEvent:H,type:"cxtdrag",position:{x:se[0],y:se[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(yr):ae.emit(yr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Lt=t.findNearestElement(se[0],se[1],!0,!0);(!t.touchData.cxtOver||Lt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:H,type:"cxtdragout",position:{x:se[0],y:se[1]}}),t.touchData.cxtOver=Lt,Lt&&Lt.emit({originalEvent:H,type:"cxtdragover",position:{x:se[0],y:se[1]}}))}else if(ne&&H.touches[2]&&ae.boxSelectionEnabled())H.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ae.emit({originalEvent:H,type:"boxstart",position:{x:se[0],y:se[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,de[4]=1,!de||de.length===0||de[0]===void 0?(de[0]=(se[0]+se[2]+se[4])/3,de[1]=(se[1]+se[3]+se[5])/3,de[2]=(se[0]+se[2]+se[4])/3+1,de[3]=(se[1]+se[3]+se[5])/3+1):(de[2]=(se[0]+se[2]+se[4])/3,de[3]=(se[1]+se[3]+se[5])/3),t.redrawHint("select",!0),t.redraw();else if(ne&&H.touches[1]&&!t.touchData.didSelect&&ae.zoomingEnabled()&&ae.panningEnabled()&&ae.userZoomingEnabled()&&ae.userPanningEnabled()){H.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var xt=t.dragData.touchDragEles;if(xt){t.redrawHint("drag",!0);for(var qt=0;qt<xt.length;qt++){var Qa=xt[qt]._private;Qa.grabbed=!1,Qa.rscratch.inDragLayer=!1}}var Fr=t.touchData.start,nr=H.touches[0].clientX-J,Pt=H.touches[0].clientY-te,At=H.touches[1].clientX-J,Bt=H.touches[1].clientY-te,Cs=Y(nr,Pt,At,Bt),bn=Cs/$;if(ue){var ks=nr-I,Ps=Pt-G,zl=At-U,Ts=Bt-q,_s=(ks+zl)/2,Ds=(Ps+Ts)/2,In=ae.zoom(),Zi=In*bn,Za=ae.pan(),mt=ee[0]*In+Za.x,As=ee[1]*In+Za.y,Ji={x:-Zi/In*(mt-Za.x-_s)+mt,y:-Zi/In*(As-Za.y-Ds)+As};if(Fr&&Fr.active()){var xt=t.dragData.touchDragEles;E(xt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Fr.unactivate().emit("freeon"),xt.emit("free"),t.dragData.didDrag&&(Fr.emit("dragfreeon"),xt.emit("dragfree"))}ae.viewport({zoom:Zi,pan:Ji,cancelOnFailedZoom:!0}),ae.emit("pinchzoom"),$=Cs,I=nr,G=Pt,U=At,q=Bt,t.pinching=!0}if(H.touches[0]){var be=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);se[0]=be[0],se[1]=be[1]}if(H.touches[1]){var be=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);se[2]=be[0],se[3]=be[1]}if(H.touches[2]){var be=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);se[4]=be[0],se[5]=be[1]}}else if(H.touches[0]&&!t.touchData.didSelect){var Sr=t.touchData.start,zn=t.touchData.last,Lt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Lt=t.findNearestElement(se[0],se[1],!0,!0)),ne&&Sr!=null&&H.preventDefault(),ne&&Sr!=null&&t.nodeIsDraggable(Sr))if(Ke){var xt=t.dragData.touchDragEles,Bs=!t.dragData.didDrag;Bs&&w(xt,{inDragLayer:!0}),t.dragData.didDrag=!0;var Fn={x:0,y:0};if(Ee(De[0])&&Ee(De[1])&&(Fn.x+=De[0],Fn.y+=De[1],Bs)){t.redrawHint("eles",!0);var sr=t.touchData.dragDelta;sr&&Ee(sr[0])&&Ee(sr[1])&&(Fn.x+=sr[0],Fn.y+=sr[1])}t.hoverData.draggingEles=!0,xt.silentShift(Fn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ce[0]&&t.touchData.startPosition[1]==Ce[1]&&t.redrawHint("eles",!0),t.redraw()}else{var sr=t.touchData.dragDelta=t.touchData.dragDelta||[];sr.length===0?(sr.push(De[0]),sr.push(De[1])):(sr[0]+=De[0],sr[1]+=De[1])}if(i(Sr||Lt,["touchmove","tapdrag","vmousemove"],H,{x:se[0],y:se[1]}),(!Sr||!Sr.grabbed())&&Lt!=zn&&(zn&&zn.emit({originalEvent:H,type:"tapdragout",position:{x:se[0],y:se[1]}}),Lt&&Lt.emit({originalEvent:H,type:"tapdragover",position:{x:se[0],y:se[1]}})),t.touchData.last=Lt,ne)for(var qt=0;qt<se.length;qt++)se[qt]&&t.touchData.startPosition[qt]&&Ke&&(t.touchData.singleTouchMoved=!0);if(ne&&(Sr==null||Sr.pannable())&&ae.panningEnabled()&&ae.userPanningEnabled()){var Vr=u(Sr,t.touchData.starts);Vr&&(H.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Li(t.touchData.startPosition)),t.swipePanning?(ae.panBy({x:De[0]*ve,y:De[1]*ve}),ae.emit("dragpan")):Ke&&(t.swipePanning=!0,ae.panBy({x:We*ve,y:et*ve}),ae.emit("dragpan"),Sr&&(Sr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var be=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);se[0]=be[0],se[1]=be[1]}}for(var He=0;He<se.length;He++)Ce[He]=se[He];ne&&H.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var he;t.registerBinding(e,"touchcancel",he=function(H){var ne=t.touchData.start;t.touchData.capture=!1,ne&&ne.unactivate()});var me,Le,$e,Xe;if(t.registerBinding(e,"touchend",me=function(H){var ne=t.touchData.start,de=t.touchData.capture;if(de)H.touches.length===0&&(t.touchData.capture=!1),H.preventDefault();else return;var ae=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var se=t.cy,Ce=se.zoom(),ve=t.touchData.now,be=t.touchData.earlier;if(H.touches[0]){var ze=t.projectIntoViewport(H.touches[0].clientX,H.touches[0].clientY);ve[0]=ze[0],ve[1]=ze[1]}if(H.touches[1]){var ze=t.projectIntoViewport(H.touches[1].clientX,H.touches[1].clientY);ve[2]=ze[0],ve[3]=ze[1]}if(H.touches[2]){var ze=t.projectIntoViewport(H.touches[2].clientX,H.touches[2].clientY);ve[4]=ze[0],ve[5]=ze[1]}ne&&ne.unactivate();var Ke;if(t.touchData.cxt){if(Ke={originalEvent:H,type:"cxttapend",position:{x:ve[0],y:ve[1]}},ne?ne.emit(Ke):se.emit(Ke),!t.touchData.cxtDragged){var De={originalEvent:H,type:"cxttap",position:{x:ve[0],y:ve[1]}};ne?ne.emit(De):se.emit(De)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!H.touches[2]&&se.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var He=se.collection(t.getAllInBox(ae[0],ae[1],ae[2],ae[3]));ae[0]=void 0,ae[1]=void 0,ae[2]=void 0,ae[3]=void 0,ae[4]=0,t.redrawHint("select",!0),se.emit({type:"boxend",originalEvent:H,position:{x:ve[0],y:ve[1]}});var We=function(ir){return ir.selectable()&&!ir.selected()};He.emit("box").stdFilter(We).select().emit("boxselect"),He.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(ne!=null&&ne.unactivate(),H.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!H.touches[1]){if(!H.touches[0]){if(!H.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Fe=t.dragData.touchDragEles;if(ne!=null){var et=ne._private.grabbed;E(Fe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),et&&(ne.emit("freeon"),Fe.emit("free"),t.dragData.didDrag&&(ne.emit("dragfreeon"),Fe.emit("dragfree"))),i(ne,["touchend","tapend","vmouseup","tapdragout"],H,{x:ve[0],y:ve[1]}),ne.unactivate(),t.touchData.start=null}else{var ot=t.findNearestElement(ve[0],ve[1],!0,!0);i(ot,["touchend","tapend","vmouseup","tapdragout"],H,{x:ve[0],y:ve[1]})}var rr=t.touchData.startPosition[0]-ve[0],nr=rr*rr,Pt=t.touchData.startPosition[1]-ve[1],At=Pt*Pt,Bt=nr+At,Nt=Bt*Ce*Ce;t.touchData.singleTouchMoved||(ne||se.$(":selected").unselect(["tapunselect"]),i(ne,["tap","vclick"],H,{x:ve[0],y:ve[1]}),Le=!1,H.timeStamp-Xe<=se.multiClickDebounceTime()?($e&&clearTimeout($e),Le=!0,Xe=null,i(ne,["dbltap","vdblclick"],H,{x:ve[0],y:ve[1]})):($e=setTimeout(function(){Le||i(ne,["onetap","voneclick"],H,{x:ve[0],y:ve[1]})},se.multiClickDebounceTime()),Xe=H.timeStamp)),ne!=null&&!t.dragData.didDrag&&ne._private.selectable&&Nt<t.touchTapThreshold2&&!t.pinching&&(se.selectionType()==="single"?(se.$(r).unmerge(ne).unselect(["tapunselect"]),ne.select(["tapselect"])):ne.selected()?ne.unselect(["tapunselect"]):ne.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Ut=0;Ut<ve.length;Ut++)be[Ut]=ve[Ut];t.dragData.didDrag=!1,H.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),H.touches.length<2&&(H.touches.length===1&&(t.touchData.startGPosition=[H.touches[0].clientX,H.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var ke=[],Se=function(H){return{clientX:H.clientX,clientY:H.clientY,force:1,identifier:H.pointerId,pageX:H.pageX,pageY:H.pageY,radiusX:H.width/2,radiusY:H.height/2,screenX:H.screenX,screenY:H.screenY,target:H.target}},Me=function(H){return{event:H,touch:Se(H)}},Oe=function(H){ke.push(Me(H))},Ie=function(H){for(var ne=0;ne<ke.length;ne++){var de=ke[ne];if(de.event.pointerId===H.pointerId){ke.splice(ne,1);return}}},qe=function(H){var ne=ke.filter(function(de){return de.event.pointerId===H.pointerId})[0];ne.event=H,ne.touch=Se(H)},je=function(H){H.touches=ke.map(function(ne){return ne.touch})},Qe=function(H){return H.pointerType==="mouse"||H.pointerType===4};t.registerBinding(t.container,"pointerdown",function(ge){Qe(ge)||(ge.preventDefault(),Oe(ge),je(ge),Q(ge))}),t.registerBinding(t.container,"pointerup",function(ge){Qe(ge)||(Ie(ge),je(ge),me(ge))}),t.registerBinding(t.container,"pointercancel",function(ge){Qe(ge)||(Ie(ge),je(ge),he(ge))}),t.registerBinding(t.container,"pointermove",function(ge){Qe(ge)||(ge.preventDefault(),qe(ge),je(ge),ce(ge))})}};var Nn={};Nn.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,o,u,l,f){this.renderer.nodeShapeImpl("polygon",n,i,o,u,l,this.points)},intersectLine:function(n,i,o,u,l,f,c,d){return os(l,f,this.points,n,i,o/2,u/2,c)},checkPoint:function(n,i,o,u,l,f,c,d){return Rn(n,i,this.points,f,c,u,l,[0,-1],o)}}};Nn.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,o,u){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,u,l,f){return Xx(o,u,e,r,n/2+l,i/2+l)},checkPoint:function(e,r,n,i,o,u,l,f){return Ua(e,r,i,o,u,l,n)}}};Nn.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,o,u,l,f,c){if(f[c]!==void 0&&f[c+"-cx"]===n&&f[c+"-cy"]===i)return f[c];f[c]=new Array(e.length/2),f[c+"-cx"]=n,f[c+"-cy"]=i;var d=o/2,v=u/2;l=l==="auto"?Ey(o,u):l;for(var g=new Array(e.length/2),y=0;y<e.length/2;y++)g[y]={x:n+d*e[y*2],y:i+v*e[y*2+1]};var p,w,x,E,b=g.length;for(w=g[b-1],p=0;p<b;p++)x=g[p%b],E=g[(p+1)%b],f[c][p]=Pd(w,x,E,l),w=x,x=E;return f[c]},draw:function(n,i,o,u,l,f,c){this.renderer.nodeShapeImpl("round-polygon",n,i,o,u,l,this.points,this.getOrCreateCorners(i,o,u,l,f,c,"drawCorners"))},intersectLine:function(n,i,o,u,l,f,c,d,v){return Yx(l,f,this.points,n,i,o,u,c,this.getOrCreateCorners(n,i,o,u,d,v,"corners"))},checkPoint:function(n,i,o,u,l,f,c,d,v){return Kx(n,i,this.points,f,c,u,l,this.getOrCreateCorners(f,c,u,l,d,v,"corners"))}}};Nn.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:br(4,0),draw:function(e,r,n,i,o,u){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o,this.points,u)},intersectLine:function(e,r,n,i,o,u,l,f){return xy(o,u,e,r,n,i,l,f)},checkPoint:function(e,r,n,i,o,u,l,f){var c=i/2,d=o/2;f=f==="auto"?$a(i,o):f,f=Math.min(c,d,f);var v=f*2;return!!(Rn(e,r,this.points,u,l,i,o-v,[0,-1],n)||Rn(e,r,this.points,u,l,i-v,o,[0,-1],n)||Ua(e,r,v,v,u-c+f,l-d+f,n)||Ua(e,r,v,v,u+c-f,l-d+f,n)||Ua(e,r,v,v,u+c-f,l+d-f,n)||Ua(e,r,v,v,u-c+f,l+d-f,n))}}};Nn.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:hd(),points:br(4,0),draw:function(e,r,n,i,o,u){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o,null,u)},generateCutTrianglePts:function(e,r,n,i,o){var u=o==="auto"?this.cornerLength:o,l=r/2,f=e/2,c=n-f,d=n+f,v=i-l,g=i+l;return{topLeft:[c,v+u,c+u,v,c+u,v+u],topRight:[d-u,v,d,v+u,d-u,v+u],bottomRight:[d,g-u,d-u,g,d-u,g-u],bottomLeft:[c+u,g,c,g-u,c+u,g-u]}},intersectLine:function(e,r,n,i,o,u,l,f){var c=this.generateCutTrianglePts(n+2*l,i+2*l,e,r,f),d=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return os(o,u,d,e,r)},checkPoint:function(e,r,n,i,o,u,l,f){var c=f==="auto"?this.cornerLength:f;if(Rn(e,r,this.points,u,l,i,o-2*c,[0,-1],n)||Rn(e,r,this.points,u,l,i-2*c,o,[0,-1],n))return!0;var d=this.generateCutTrianglePts(i,o,u,l);return Ar(e,r,d.topLeft)||Ar(e,r,d.topRight)||Ar(e,r,d.bottomRight)||Ar(e,r,d.bottomLeft)}}};Nn.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:br(4,0),draw:function(e,r,n,i,o,u){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,u,l,f){var c=.15,d=.5,v=.85,g=this.generateBarrelBezierPts(n+2*l,i+2*l,e,r),y=function(x){var E=Mi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),b=Mi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},d),S=Mi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},v);return[x[0],x[1],E.x,E.y,b.x,b.y,S.x,S.y,x[4],x[5]]},p=[].concat(y(g.topLeft),y(g.topRight),y(g.bottomRight),y(g.bottomLeft));return os(o,u,p,e,r)},generateBarrelBezierPts:function(e,r,n,i){var o=r/2,u=e/2,l=n-u,f=n+u,c=i-o,d=i+o,v=qc(e,r),g=v.heightOffset,y=v.widthOffset,p=v.ctrlPtOffsetPct*e,w={topLeft:[l,c+g,l+p,c,l+y,c],topRight:[f-y,c,f-p,c,f,c+g],bottomRight:[f,d-g,f-p,d,f-y,d],bottomLeft:[l+y,d,l+p,d,l,d-g]};return w.topLeft.isTop=!0,w.topRight.isTop=!0,w.bottomLeft.isBottom=!0,w.bottomRight.isBottom=!0,w},checkPoint:function(e,r,n,i,o,u,l,f){var c=qc(i,o),d=c.heightOffset,v=c.widthOffset;if(Rn(e,r,this.points,u,l,i,o-2*d,[0,-1],n)||Rn(e,r,this.points,u,l,i-2*v,o,[0,-1],n))return!0;for(var g=this.generateBarrelBezierPts(i,o,u,l),y=function(_,P,N){var R=N[4],A=N[2],B=N[0],D=N[5],z=N[1],I=Math.min(R,B),G=Math.max(R,B),U=Math.min(D,z),q=Math.max(D,z);if(I<=_&&_<=G&&U<=P&&P<=q){var $=jx(R,A,B),V=qx($[0],$[1],$[2],_),W=V.filter(function(ee){return 0<=ee&&ee<=1});if(W.length>0)return W[0]}return null},p=Object.keys(g),w=0;w<p.length;w++){var x=p[w],E=g[x],b=y(e,r,E);if(b!=null){var S=E[5],T=E[3],O=E[1],L=Kt(S,T,O,b);if(E.isTop&&L<=r||E.isBottom&&r<=L)return!0}}return!1}}};Nn.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:br(4,0),draw:function(e,r,n,i,o,u){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o,this.points,u)},intersectLine:function(e,r,n,i,o,u,l,f){var c=e-(n/2+l),d=r-(i/2+l),v=d,g=e+(n/2+l),y=ua(o,u,e,r,c,d,g,v,!1);return y.length>0?y:xy(o,u,e,r,n,i,l,f)},checkPoint:function(e,r,n,i,o,u,l,f){f=f==="auto"?$a(i,o):f;var c=2*f;if(Rn(e,r,this.points,u,l,i,o-c,[0,-1],n)||Rn(e,r,this.points,u,l,i-c,o,[0,-1],n))return!0;var d=i/2+2*n,v=o/2+2*n,g=[u-d,l-v,u-d,l,u+d,l,u+d,l-v];return!!(Ar(e,r,g)||Ua(e,r,c,c,u+i/2-f,l+o/2-f,n)||Ua(e,r,c,c,u-i/2+f,l+o/2-f,n))}}};Nn.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",br(3,0)),this.generateRoundPolygon("round-triangle",br(3,0)),this.generatePolygon("rectangle",br(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",br(5,0)),this.generateRoundPolygon("round-pentagon",br(5,0)),this.generatePolygon("hexagon",br(6,0)),this.generateRoundPolygon("round-hexagon",br(6,0)),this.generatePolygon("heptagon",br(7,0)),this.generateRoundPolygon("round-heptagon",br(7,0)),this.generatePolygon("octagon",br(8,0)),this.generateRoundPolygon("round-octagon",br(8,0));var n=new Array(20);{var i=Uc(5,0),o=Uc(5,Math.PI/5),u=.5*(3-Math.sqrt(5));u*=1.57;for(var l=0;l<o.length/2;l++)o[l*2]*=u,o[l*2+1]*=u;for(var l=0;l<20/4;l++)n[l*4]=i[l*2],n[l*4+1]=i[l*2+1],n[l*4+2]=o[l*2],n[l*4+3]=o[l*2+1]}n=by(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var f=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",f),this.generateRoundPolygon("round-tag",f)}t.makePolygon=function(c){var d=c.join("$"),v="polygon-"+d,g;return(g=this[v])?g:e.generatePolygon(v,c)}};var xs={};xs.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};xs.redraw=function(t){t=t||gy();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};xs.beforeRender=function(t,e){if(!this.destroyed){e==null&&Ct("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var gp=function(e,r,n){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(r,n)};xs.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){gp(t,!0,i);var o=Ln();t.render(t.renderOptions);var u=t.lastDrawTime=Ln();t.averageRedrawTime===void 0&&(t.averageRedrawTime=u-o),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var l=u-o;t.redrawTotalTime+=l,t.lastRedrawTime=l,t.averageRedrawTime=t.averageRedrawTime/2+l/2,t.requestedFrame=!1}else gp(t,!1,i);t.skipFrame=!1,ll(n)}};ll(r)}};var DC=function(e){this.init(e)},xm=DC,ji=xm.prototype;ji.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];ji.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,o=i.head,u="__________cytoscape_stylesheet",l="__________cytoscape_container",f=i.getElementById(u)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!f){var c=i.createElement("style");c.id=u,c.textContent="."+l+" { position: relative; }",o.insertBefore(c,o.children[0])}var d=n.getComputedStyle(r),v=d.getPropertyValue("position");v==="static"&&ut("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Ee(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};ji.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};ji.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};ji.isHeadless=function(){return!1};[kd,mm,wm,Yi,Nn,xs].forEach(function(t){Ue(ji,t)});var Mc=1e3/60,bm={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var o=gs(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),u=function(c,d){var v=Ln(),g=i.averageRedrawTime,y=i.lastRedrawTime,p=[],w=i.cy.extent(),x=i.getPixelRatio();for(c||i.flushRenderedStyleQueue();;){var E=Ln(),b=E-v,S=E-d;if(y<Mc){var T=Mc-(c?g:0);if(S>=e.deqFastCost*T)break}else if(c){if(b>=e.deqCost*y||b>=e.deqAvgCost*g)break}else if(S>=e.deqNoDrawCost*Mc)break;var O=e.deq(n,x,w);if(O.length>0)for(var L=0;L<O.length;L++)p.push(O[L]);else break}p.length>0&&(e.onDeqd(n,p),!c&&e.shouldRedraw(n,p,x,w)&&o())},l=e.priority||fd;i.beforeRender(u,l(n))}}}},AC=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fl;ma(this,t),this.idsByKey=new yn,this.keyForId=new yn,this.cachesByLvl=new yn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return wa(t,[{key:"getIdsFor",value:function(r){r==null&&Ct("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new Ui,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),o=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(o,n),this.keyForId.set(n,o)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),o=this.getKey(r);return i!==o}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,o=n.get(r);return o||(o=new yn,n.set(r,o),i.push(r)),o}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),o=this.getCache(i,n);return o!=null&&this.updateKeyMappingFor(r),o}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),o=this.getCache(i,n);return o}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var o=this.getKey(r);this.setCache(o,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var o=this.doesEleInvalidateKey(r);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}]),t}(),pp=25,Ku=50,ol=-4,ed=3,Em=7.99,BC=8,LC=1024,RC=1024,MC=1024,NC=.2,OC=.8,IC=10,zC=.15,FC=.1,VC=.9,GC=.9,UC=100,qC=1,Ri={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},HC=Yt({getKey:null,doesEleInvalidateKey:fl,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:dy,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),jo=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=HC(r);Ue(n,i),n.lookup=new AC(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Gt=jo.prototype;Gt.reasons=Ri;Gt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Gt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Gt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new ps(function(r,n){return n.reqs-r.reqs});return e};Gt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Gt.getElement=function(t,e,r,n,i){var o=this,u=this.renderer,l=u.cy.zoom(),f=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(dd(l*r))),n<ol)n=ol;else if(l>=Em||n>ed)return null;var c=Math.pow(2,n),d=e.h*c,v=e.w*c,g=u.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,g))return null;var y=f.get(t,n);if(y&&y.invalidated&&(y.invalidated=!1,y.texture.invalidatedWidth-=y.width),y)return y;var p;if(d<=pp?p=pp:d<=Ku?p=Ku:p=Math.ceil(d/Ku)*Ku,d>MC||v>RC)return null;var w=o.getTextureQueue(p),x=w[w.length-2],E=function(){return o.recycleTexture(p,v)||o.addTexture(p,v)};x||(x=w[w.length-1]),x||(x=E()),x.width-x.usedWidth<v&&(x=E());for(var b=function(I){return I&&I.scaledLabelShown===g},S=i&&i===Ri.dequeue,T=i&&i===Ri.highQuality,O=i&&i===Ri.downscale,L,M=n+1;M<=ed;M++){var _=f.get(t,M);if(_){L=_;break}}var P=L&&L.level===n+1?L:null,N=function(){x.context.drawImage(P.texture.canvas,P.x,0,P.width,P.height,x.usedWidth,0,v,d)};if(x.context.setTransform(1,0,0,1,0,0),x.context.clearRect(x.usedWidth,0,v,p),b(P))N();else if(b(L))if(T){for(var R=L.level;R>n;R--)P=o.getElement(t,e,r,R,Ri.downscale);N()}else return o.queueElement(t,L.level-1),L;else{var A;if(!S&&!T&&!O)for(var B=n-1;B>=ol;B--){var D=f.get(t,B);if(D){A=D;break}}if(b(A))return o.queueElement(t,n),A;x.context.translate(x.usedWidth,0),x.context.scale(c,c),this.drawElement(x.context,t,e,g,!1),x.context.scale(1/c,1/c),x.context.translate(-x.usedWidth,0)}return y={x:x.usedWidth,texture:x,level:n,scale:c,width:v,height:d,scaledLabelShown:g},x.usedWidth+=Math.ceil(v+BC),x.eleCaches.push(y),f.set(t,n,y),o.checkTextureFullness(x),y};Gt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Gt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var o=ol;o<=ed;o++){var u=r.getForCachedKey(t,o);u&&n.push(u)}var l=r.invalidate(t);if(l)for(var f=0;f<n.length;f++){var c=n[f],d=c.texture;d.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(d)}e.removeFromQueue(t)}};Gt.checkTextureUtility=function(t){t.invalidatedWidth>=NC*t.width&&this.retireTexture(t)};Gt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>OC&&t.fullnessChecks>=IC?va(r,t):t.fullnessChecks++};Gt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;va(n,t),t.retired=!0;for(var o=t.eleCaches,u=0;u<o.length;u++){var l=o[u];i.deleteCache(l.key,l.level)}cd(o);var f=e.getRetiredTextureQueue(r);f.push(t)};Gt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(LC,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Gt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),o=0;o<i.length;o++){var u=i[o];if(u.width>=e)return u.retired=!1,u.usedWidth=0,u.invalidatedWidth=0,u.fullnessChecks=0,cd(u.eleCaches),u.context.setTransform(1,0,0,1,0,0),u.context.clearRect(0,0,u.width,u.height),va(i,u),n.push(u),u}};Gt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),o=this.getKey(t),u=i[o];if(u)u.level=Math.max(u.level,e),u.eles.merge(t),u.reqs++,n.updateItem(u);else{var l={eles:t.spawn().merge(t),level:e,reqs:1,key:o};n.push(l),i[o]=l}};Gt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],o=e.lookup,u=0;u<qC&&r.size()>0;u++){var l=r.pop(),f=l.key,c=l.eles[0],d=o.hasCache(c,l.level);if(n[f]=null,d)continue;i.push(l);var v=e.getBoundingBox(c);e.getElement(c,v,t,l.level,Ri.dequeue)}return i};Gt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),o=n[i];o!=null&&(o.eles.length===1?(o.reqs=ld,r.updateItem(o),r.pop(),n[i]=null):o.eles.unmerge(t))};Gt.onDequeue=function(t){this.onDequeues.push(t)};Gt.offDequeue=function(t){va(this.onDequeues,t)};Gt.setupDequeueing=bm.setupDequeueing({deqRedrawThreshold:UC,deqCost:zC,deqAvgCost:FC,deqNoDrawCost:VC,deqFastCost:GC,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var o=0;o<r.length;o++)for(var u=r[o].eles,l=0;l<u.length;l++){var f=u[l].boundingBox();if(vd(f,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var $C=1,Zo=-4,ml=2,WC=3.99,KC=50,XC=50,YC=.15,jC=.1,QC=.9,ZC=.9,JC=1,yp=250,ek=4e3*4e3,mp=32767,tk=!0,Sm=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Ln()-2*yp,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=gs(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},XC),n.beforeRender(function(u,l){l-r.lastInvalidationTime<=yp?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var o=function(l,f){return f.reqs-l.reqs};r.layersQueue=new ps(o),r.setupDequeueing()},tr=Sm.prototype,wp=0,rk=Math.pow(2,53)-1;tr.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),o=this.renderer.makeOffscreenCanvas(n,i),u={id:wp=++wp%rk,bb:t,level:e,width:n,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=u.context,f=-u.bb.x1,c=-u.bb.y1;return l.scale(r,r),l.translate(f,c),u};tr.getLayers=function(t,e,r){var n=this,i=n.renderer,o=i.cy,u=o.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(dd(u*e)),r<Zo)r=Zo;else if(u>=WC||r>ml)return null}n.validateLayersElesOrdering(r,t);var f=n.layersByLevel,c=Math.pow(2,r),d=f[r]=f[r]||[],v,g=n.levelIsComplete(r,t),y,p=function(){var N=function(z){if(n.validateLayersElesOrdering(z,t),n.levelIsComplete(z,t))return y=f[z],!0},R=function(z){if(!y)for(var I=r+z;Zo<=I&&I<=ml&&!N(I);I+=z);};R(1),R(-1);for(var A=d.length-1;A>=0;A--){var B=d[A];B.invalid&&va(d,B)}};if(!g)p();else return d;var w=function(){if(!v){v=Br();for(var N=0;N<t.length;N++)my(v,t[N].boundingBox())}return v},x=function(N){N=N||{};var R=N.after;w();var A=Math.ceil(v.w*c),B=Math.ceil(v.h*c);if(A>mp||B>mp)return null;var D=A*B;if(D>ek)return null;var z=n.makeLayer(v,r);if(R!=null){var I=d.indexOf(R)+1;d.splice(I,0,z)}else(N.insert===void 0||N.insert)&&d.unshift(z);return z};if(n.skipping&&!l)return null;for(var E=null,b=t.length/$C,S=!l,T=0;T<t.length;T++){var O=t[T],L=O._private.rscratch,M=L.imgLayerCaches=L.imgLayerCaches||{},_=M[r];if(_){E=_;continue}if((!E||E.eles.length>=b||!wy(E.bb,O.boundingBox()))&&(E=x({insert:!0,after:E}),!E))return null;y||S?n.queueLayer(E,O):n.drawEleInLayer(E,O,r,e),E.eles.push(O),M[r]=E}return y||(S?null:d)};tr.getEleLevelForLayerLevel=function(t,e){return t};tr.drawEleInLayer=function(t,e,r,n){var i=this,o=this.renderer,u=t.context,l=e.boundingBox();l.w===0||l.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),o.setImgSmoothing(u,!1),o.drawCachedElement(u,e,null,null,r,tk),o.setImgSmoothing(u,!0))};tr.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,o=0;o<n.length;o++){var u=n[o];if(u.reqs>0||u.invalid)return!1;i+=u.eles.length}return i===e.length};tr.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],o=-1,u=0;u<e.length;u++)if(i.eles[0]===e[u]){o=u;break}if(o<0){this.invalidateLayer(i);continue}for(var l=o,u=0;u<i.eles.length;u++)if(i.eles[u]!==e[l+u]){this.invalidateLayer(i);break}}};tr.updateElementsInLayers=function(t,e){for(var r=this,n=vs(t[0]),i=0;i<t.length;i++)for(var o=n?null:t[i],u=n?t[i]:t[i].ele,l=u._private.rscratch,f=l.imgLayerCaches=l.imgLayerCaches||{},c=Zo;c<=ml;c++){var d=f[c];d&&(o&&r.getEleLevelForLayerLevel(d.level)!==o.level||e(d,u,o))}};tr.haveLayers=function(){for(var t=this,e=!1,r=Zo;r<=ml;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};tr.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Ln(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,o){e.invalidateLayer(n)}))};tr.invalidateLayer=function(t){if(this.lastInvalidationTime=Ln(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];va(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var o=r[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};tr.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,o){var u=n.replacement;if(u||(u=n.replacement=e.makeLayer(n.bb,n.level),u.replaces=n,u.eles=n.eles),!u.reqs)for(var l=0;l<u.eles.length;l++)e.queueLayer(u,u.eles[l])})};tr.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};tr.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,o=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};tr.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<JC&&r.size()!==0;){var o=r.peek();if(o.replacement){r.pop();continue}if(o.replaces&&o!==o.replaces.replacement){r.pop();continue}if(o.invalid){r.pop();continue}var u=o.elesQueue.shift();u&&(e.drawEleInLayer(o,u,o.level,t),i++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(r.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return n};tr.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var o=0;o<t.eles.length;o++){var u=t.eles[o]._private,l=u.imgLayerCaches=u.imgLayerCaches||{};l&&(l[t.level]=t)}e.requestRedraw()}};tr.requestRedraw=gs(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);tr.setupDequeueing=bm.setupDequeueing({deqRedrawThreshold:KC,deqCost:YC,deqAvgCost:jC,deqNoDrawCost:QC,deqFastCost:ZC,deq:function(e,r){return e.dequeue(r)},onDeqd:fd,shouldRedraw:dy,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Cm={},xp;function nk(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function ak(t,e,r){for(var n,i=0;i<e.length;i++){var o=e[i];i===0&&(n=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function bp(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var o=n[i];t.lineTo(o.x,o.y)}var u=r,l=r[0];t.moveTo(l.x,l.y);for(var i=1;i<u.length;i++){var o=u[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath()}function ik(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var o=e,u=o[0];t.moveTo(u.x,u.y);for(var l=0;l<o.length;l++){var f=o[l];t.lineTo(f.x,f.y)}t.closePath&&t.closePath()}function ok(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Cm.arrowShapeImpl=function(t){return(xp||(xp={polygon:nk,"triangle-backcurve":ak,"triangle-tee":bp,"circle-triangle":ik,"triangle-cross":bp,circle:ok}))[t]};var xn={};xn.drawElement=function(t,e,r,n,i,o){var u=this;e.isNode()?u.drawNode(t,e,r,n,i,o):u.drawEdge(t,e,r,n,i,o)};xn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};xn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};xn.drawCachedElementPortion=function(t,e,r,n,i,o,u,l){var f=this,c=r.getBoundingBox(e);if(!(c.w===0||c.h===0)){var d=r.getElement(e,c,n,i,o);if(d!=null){var v=l(f,e);if(v===0)return;var g=u(f,e),y=c.x1,p=c.y1,w=c.w,x=c.h,E,b,S,T,O;if(g!==0){var L=r.getRotationPoint(e);S=L.x,T=L.y,t.translate(S,T),t.rotate(g),O=f.getImgSmoothing(t),O||f.setImgSmoothing(t,!0);var M=r.getRotationOffset(e);E=M.x,b=M.y}else E=y,b=p;var _;v!==1&&(_=t.globalAlpha,t.globalAlpha=_*v),t.drawImage(d.texture.canvas,d.x,0,d.width,d.height,E,b,w,x),v!==1&&(t.globalAlpha=_),g!==0&&(t.rotate(-g),t.translate(-S,-T),O||f.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var sk=function(){return 0},uk=function(e,r){return e.getTextAngle(r,null)},lk=function(e,r){return e.getTextAngle(r,"source")},fk=function(e,r){return e.getTextAngle(r,"target")},ck=function(e,r){return r.effectiveOpacity()},Nc=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};xn.drawCachedElement=function(t,e,r,n,i,o){var u=this,l=u.data,f=l.eleTxrCache,c=l.lblTxrCache,d=l.slbTxrCache,v=l.tlbTxrCache,g=e.boundingBox(),y=o===!0?f.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!n||vd(g,n))){var p=e.isEdge(),w=e.element()._private.rscratch.badLine;u.drawElementUnderlay(t,e),u.drawCachedElementPortion(t,e,f,r,i,y,sk,ck),(!p||!w)&&u.drawCachedElementPortion(t,e,c,r,i,y,uk,Nc),p&&!w&&(u.drawCachedElementPortion(t,e,d,r,i,y,lk,Nc),u.drawCachedElementPortion(t,e,v,r,i,y,fk,Nc)),u.drawElementOverlay(t,e)}};xn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};xn.drawCachedElements=function(t,e,r,n){for(var i=this,o=0;o<e.length;o++){var u=e[o];i.drawCachedElement(t,u,r,n)}};xn.drawCachedNodes=function(t,e,r,n){for(var i=this,o=0;o<e.length;o++){var u=e[o];u.isNode()&&i.drawCachedElement(t,u,r,n)}};xn.drawLayeredElements=function(t,e,r,n){var i=this,o=i.data.lyrTxrCache.getLayers(e,r);if(o)for(var u=0;u<o.length;u++){var l=o[u],f=l.bb;f.w===0||f.h===0||t.drawImage(l.canvas,f.x1,f.y1,f.w,f.h)}else i.drawCachedElements(t,e,r,n)};var On={};On.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this,l=e._private.rscratch;if(!(o&&!e.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var f;r&&(f=r,t.translate(-f.x1,-f.y1));var c=o?e.pstyle("opacity").value:1,d=o?e.pstyle("line-opacity").value:1,v=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,y=e.pstyle("width").pfValue,p=e.pstyle("line-cap").value,w=e.pstyle("line-outline-width").value,x=e.pstyle("line-outline-color").value,E=c*d,b=c*d,S=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;v==="straight-triangle"?(u.eleStrokeStyle(t,e,z),u.drawEdgeTrianglePath(e,t,l.allpts)):(t.lineWidth=y,t.lineCap=p,u.eleStrokeStyle(t,e,z),u.drawEdgePath(e,t,l.allpts,g),t.lineCap="butt")},T=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;if(t.lineWidth=y+w,t.lineCap=p,w>0)u.colorStrokeStyle(t,x[0],x[1],x[2],z);else{t.lineCap="butt";return}v==="straight-triangle"?u.drawEdgeTrianglePath(e,t,l.allpts):(u.drawEdgePath(e,t,l.allpts,g),t.lineCap="butt")},O=function(){i&&u.drawEdgeOverlay(t,e)},L=function(){i&&u.drawEdgeUnderlay(t,e)},M=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;u.drawArrowheads(t,e,z)},_=function(){u.drawElementText(t,e,null,n)};t.lineJoin="round";var P=e.pstyle("ghost").value==="yes";if(P){var N=e.pstyle("ghost-offset-x").pfValue,R=e.pstyle("ghost-offset-y").pfValue,A=e.pstyle("ghost-opacity").value,B=E*A;t.translate(N,R),S(B),M(B),t.translate(-N,-R)}else T();L(),S(),M(),O(),_(),r&&t.translate(f.x1,f.y1)}};var km=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,u=o.usePaths(),l=n._private.rscratch,f=n.pstyle("".concat(e,"-padding")).pfValue,c=2*f,d=n.pstyle("".concat(e,"-color")).value;r.lineWidth=c,l.edgeType==="self"&&!u?r.lineCap="butt":r.lineCap="round",o.colorStrokeStyle(r,d[0],d[1],d[2],i),o.drawEdgePath(n,r,l.allpts,"solid")}}}};On.drawEdgeOverlay=km("overlay");On.drawEdgeUnderlay=km("underlay");On.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,o=e,u,l=!1,f=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,d=t.pstyle("line-dash-offset").pfValue;if(f){var v=r.join("$"),g=i.pathCacheKey&&i.pathCacheKey===v;g?(u=e=i.pathCache,l=!0):(u=e=new Path2D,i.pathCacheKey=v,i.pathCache=u)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(c),o.lineDashOffset=d;break;case"solid":o.setLineDash([]);break}if(!l&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var y=2;y+3<r.length;y+=4)e.quadraticCurveTo(r[y],r[y+1],r[y+2],r[y+3]);break;case"straight":case"haystack":for(var p=2;p+1<r.length;p+=2)e.lineTo(r[p],r[p+1]);break;case"segments":if(i.isRound){var w=Ir(i.roundCorners),x;try{for(w.s();!(x=w.n()).done;){var E=x.value;vm(e,E)}}catch(S){w.e(S)}finally{w.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var b=2;b+1<r.length;b+=2)e.lineTo(r[b],r[b+1]);break}e=o,f?e.stroke(u):e.stroke(),e.setLineDash&&e.setLineDash([])};On.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var o=[r[i+2]-r[i],r[i+3]-r[i+1]],u=Math.sqrt(o[0]*o[0]+o[1]*o[1]),l=[o[1]/u,-o[0]/u],f=[l[0]*n/2,l[1]*n/2];e.beginPath(),e.moveTo(r[i]-f[0],r[i+1]-f[1]),e.lineTo(r[i]+f[0],r[i+1]+f[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};On.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};On.drawArrowhead=function(t,e,r,n,i,o,u){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(o)||o==null)){var l=this,f=e.pstyle(r+"-arrow-shape").value;if(f!=="none"){var c=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=e.pstyle(r+"-arrow-fill").value,v=e.pstyle("width").pfValue,g=e.pstyle(r+"-arrow-width"),y=g.value==="match-line"?v:g.pfValue;g.units==="%"&&(y*=v);var p=e.pstyle("opacity").value;u===void 0&&(u=p);var w=t.globalCompositeOperation;(u!==1||d==="hollow")&&(t.globalCompositeOperation="destination-out",l.colorFillStyle(t,255,255,255,1),l.colorStrokeStyle(t,255,255,255,1),l.drawArrowShape(e,t,c,v,f,y,n,i,o),t.globalCompositeOperation=w);var x=e.pstyle(r+"-arrow-color").value;l.colorFillStyle(t,x[0],x[1],x[2],u),l.colorStrokeStyle(t,x[0],x[1],x[2],u),l.drawArrowShape(e,t,d,v,f,y,n,i,o)}}};On.drawArrowShape=function(t,e,r,n,i,o,u,l,f){var c=this,d=this.usePaths()&&i!=="triangle-cross",v=!1,g,y=e,p={x:u,y:l},w=t.pstyle("arrow-scale").value,x=this.getArrowWidth(n,w),E=c.arrowShapes[i];if(d){var b=c.arrowPathCache=c.arrowPathCache||[],S=da(i),T=b[S];T!=null?(g=e=T,v=!0):(g=e=new Path2D,b[S]=g)}v||(e.beginPath&&e.beginPath(),d?E.draw(e,1,0,{x:0,y:0},1):E.draw(e,x,f,p,n),e.closePath&&e.closePath()),e=y,d&&(e.translate(u,l),e.rotate(f),e.scale(x,x)),(r==="filled"||r==="both")&&(d?e.fill(g):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=o/(d?x:1),e.lineJoin="miter",d?e.stroke(g):e.stroke()),d&&(e.scale(1/x,1/x),e.rotate(-f),e.translate(-u,-l))};var _d={};_d.safeDrawImage=function(t,e,r,n,i,o,u,l,f,c){if(!(i<=0||o<=0||f<=0||c<=0))try{t.drawImage(e,r,n,i,o,u,l,f,c)}catch(d){ut(d)}};_d.drawInscribedImage=function(t,e,r,n,i){var o=this,u=r.position(),l=u.x,f=u.y,c=r.cy().style(),d=c.getIndexedStyle.bind(c),v=d(r,"background-fit","value",n),g=d(r,"background-repeat","value",n),y=r.width(),p=r.height(),w=r.padding()*2,x=y+(d(r,"background-width-relative-to","value",n)==="inner"?0:w),E=p+(d(r,"background-height-relative-to","value",n)==="inner"?0:w),b=r._private.rscratch,S=d(r,"background-clip","value",n),T=S==="node",O=d(r,"background-image-opacity","value",n)*i,L=d(r,"background-image-smoothing","value",n),M=r.pstyle("corner-radius").value;M!=="auto"&&(M=r.pstyle("corner-radius").pfValue);var _=e.width||e.cachedW,P=e.height||e.cachedH;(_==null||P==null)&&(document.body.appendChild(e),_=e.cachedW=e.width||e.offsetWidth,P=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var N=_,R=P;if(d(r,"background-width","value",n)!=="auto"&&(d(r,"background-width","units",n)==="%"?N=d(r,"background-width","pfValue",n)*x:N=d(r,"background-width","pfValue",n)),d(r,"background-height","value",n)!=="auto"&&(d(r,"background-height","units",n)==="%"?R=d(r,"background-height","pfValue",n)*E:R=d(r,"background-height","pfValue",n)),!(N===0||R===0)){if(v==="contain"){var A=Math.min(x/N,E/R);N*=A,R*=A}else if(v==="cover"){var A=Math.max(x/N,E/R);N*=A,R*=A}var B=l-x/2,D=d(r,"background-position-x","units",n),z=d(r,"background-position-x","pfValue",n);D==="%"?B+=(x-N)*z:B+=z;var I=d(r,"background-offset-x","units",n),G=d(r,"background-offset-x","pfValue",n);I==="%"?B+=(x-N)*G:B+=G;var U=f-E/2,q=d(r,"background-position-y","units",n),$=d(r,"background-position-y","pfValue",n);q==="%"?U+=(E-R)*$:U+=$;var V=d(r,"background-offset-y","units",n),W=d(r,"background-offset-y","pfValue",n);V==="%"?U+=(E-R)*W:U+=W,b.pathCache&&(B-=l,U-=f,l=0,f=0);var ee=t.globalAlpha;t.globalAlpha=O;var J=o.getImgSmoothing(t),te=!1;if(L==="no"&&J?(o.setImgSmoothing(t,!1),te=!0):L==="yes"&&!J&&(o.setImgSmoothing(t,!0),te=!0),g==="no-repeat")T&&(t.save(),b.pathCache?t.clip(b.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(t,l,f,x,E,M,b),t.clip())),o.safeDrawImage(t,e,0,0,_,P,B,U,N,R),T&&t.restore();else{var re=t.createPattern(e,g);t.fillStyle=re,o.nodeShapes[o.getNodeShape(r)].draw(t,l,f,x,E,M,b),t.translate(B,U),t.fill(),t.translate(-B,-U)}t.globalAlpha=ee,te&&o.setImgSmoothing(t,J)}};var ja={};ja.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(dd(r*n));e=Math.pow(2,i)}var o=t.pstyle("font-size").pfValue*e,u=t.pstyle("min-zoomed-font-size").pfValue;return!(o<u)};ja.drawElementText=function(t,e,r,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this;if(n==null){if(o&&!u.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var l=e.pstyle("label");if(!l||!l.value)return;var f=u.getLabelJustification(e);t.textAlign=f,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,d=e.pstyle("label"),v=e.pstyle("source-label"),g=e.pstyle("target-label");if(c||(!d||!d.value)&&(!v||!v.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var y=!r,p;r&&(p=r,t.translate(-p.x1,-p.y1)),i==null?(u.drawText(t,e,null,y,o),e.isEdge()&&(u.drawText(t,e,"source",y,o),u.drawText(t,e,"target",y,o))):u.drawText(t,e,i,y,o),r&&t.translate(p.x1,p.y1)};ja.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};ja.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,l=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,f=e.pstyle("text-outline-opacity").value*l,c=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;t.font=n+" "+u+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],l),this.colorStrokeStyle(t,d[0],d[1],d[2],f)};function Oc(t,e,r,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,u=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+i-o),t.quadraticCurveTo(e+n,r+i,e+n-o,r+i),t.lineTo(e+o,r+i),t.quadraticCurveTo(e,r+i,e,r+i-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath(),u?t.stroke():t.fill()}ja.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,o=e?e+"-":"",u=t.pstyle(o+"text-rotation");if(u.strValue==="autorotate"){var l=on(i,"labelAngle",e);r=t.isEdge()?l:0}else u.strValue==="none"?r=0:r=u.pfValue;return r};ja.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,u=o.rscratch,l=i?e.effectiveOpacity():1;if(!(i&&(l===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var f=on(u,"labelX",r),c=on(u,"labelY",r),d,v,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(f)&&!isNaN(c)){this.setupTextStyle(t,e,i);var y=r?r+"-":"",p=on(u,"labelWidth",r),w=on(u,"labelHeight",r),x=e.pstyle(y+"text-margin-x").pfValue,E=e.pstyle(y+"text-margin-y").pfValue,b=e.isEdge(),S=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;b&&(S="center",T="center"),f+=x,c+=E;var O;switch(n?O=this.getTextAngle(e,r):O=0,O!==0&&(d=f,v=c,t.translate(d,v),t.rotate(O),f=0,c=0),T){case"top":break;case"center":c+=w/2;break;case"bottom":c+=w;break}var L=e.pstyle("text-background-opacity").value,M=e.pstyle("text-border-opacity").value,_=e.pstyle("text-border-width").pfValue,P=e.pstyle("text-background-padding").pfValue,N=e.pstyle("text-background-shape").strValue,R=N.indexOf("round")===0,A=2;if(L>0||_>0&&M>0){var B=f-P;switch(S){case"left":B-=p;break;case"center":B-=p/2;break}var D=c-w-P,z=p+2*P,I=w+2*P;if(L>0){var G=t.fillStyle,U=e.pstyle("text-background-color").value;t.fillStyle="rgba("+U[0]+","+U[1]+","+U[2]+","+L*l+")",R?Oc(t,B,D,z,I,A):t.fillRect(B,D,z,I),t.fillStyle=G}if(_>0&&M>0){var q=t.strokeStyle,$=t.lineWidth,V=e.pstyle("text-border-color").value,W=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+V[0]+","+V[1]+","+V[2]+","+M*l+")",t.lineWidth=_,t.setLineDash)switch(W){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=_/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(R?Oc(t,B,D,z,I,A,"stroke"):t.strokeRect(B,D,z,I),W==="double"){var ee=_/2;R?Oc(t,B+ee,D+ee,z-ee*2,I-ee*2,A,"stroke"):t.strokeRect(B+ee,D+ee,z-ee*2,I-ee*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=$,t.strokeStyle=q}}var J=2*e.pstyle("text-outline-width").pfValue;if(J>0&&(t.lineWidth=J),e.pstyle("text-wrap").value==="wrap"){var te=on(u,"labelWrapCachedLines",r),re=on(u,"labelLineHeight",r),fe=p/2,ue=this.getLabelJustification(e);switch(ue==="auto"||(S==="left"?ue==="left"?f+=-p:ue==="center"&&(f+=-fe):S==="center"?ue==="left"?f+=-fe:ue==="right"&&(f+=fe):S==="right"&&(ue==="center"?f+=fe:ue==="right"&&(f+=p))),T){case"top":c-=(te.length-1)*re;break;case"center":case"bottom":c-=(te.length-1)*re;break}for(var Y=0;Y<te.length;Y++)J>0&&t.strokeText(te[Y],f,c),t.fillText(te[Y],f,c),c+=re}else J>0&&t.strokeText(g,f,c),t.fillText(g,f,c);O!==0&&(t.rotate(-O),t.translate(-d,-v))}}};var Qi={};Qi.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this,l,f,c=e._private,d=c.rscratch,v=e.position();if(!(!Ee(v.x)||!Ee(v.y))&&!(o&&!e.visible())){var g=o?e.effectiveOpacity():1,y=u.usePaths(),p,w=!1,x=e.padding();l=e.width()+2*x,f=e.height()+2*x;var E;r&&(E=r,t.translate(-E.x1,-E.y1));for(var b=e.pstyle("background-image"),S=b.value,T=new Array(S.length),O=new Array(S.length),L=0,M=0;M<S.length;M++){var _=S[M],P=T[M]=_!=null&&_!=="none";if(P){var N=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",M);L++,O[M]=u.getCachedImage(_,N,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var R=e.pstyle("background-blacken").value,A=e.pstyle("border-width").pfValue,B=e.pstyle("background-opacity").value*g,D=e.pstyle("border-color").value,z=e.pstyle("border-style").value,I=e.pstyle("border-join").value,G=e.pstyle("border-cap").value,U=e.pstyle("border-position").value,q=e.pstyle("border-dash-pattern").pfValue,$=e.pstyle("border-dash-offset").pfValue,V=e.pstyle("border-opacity").value*g,W=e.pstyle("outline-width").pfValue,ee=e.pstyle("outline-color").value,J=e.pstyle("outline-style").value,te=e.pstyle("outline-opacity").value*g,re=e.pstyle("outline-offset").value,fe=e.pstyle("corner-radius").value;fe!=="auto"&&(fe=e.pstyle("corner-radius").pfValue);var ue=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B;u.eleFillStyle(t,e,ae)},Y=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;u.colorStrokeStyle(t,D[0],D[1],D[2],ae)},j=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:te;u.colorStrokeStyle(t,ee[0],ee[1],ee[2],ae)},Q=function(ae,se,Ce,ve){var be=u.nodePathCache=u.nodePathCache||[],ze=cy(Ce==="polygon"?Ce+","+ve.join(","):Ce,""+se,""+ae,""+fe),Ke=be[ze],De,He=!1;return Ke!=null?(De=Ke,He=!0,d.pathCache=De):(De=new Path2D,be[ze]=d.pathCache=De),{path:De,cacheHit:He}},ce=e.pstyle("shape").strValue,he=e.pstyle("shape-polygon-points").pfValue;if(y){t.translate(v.x,v.y);var me=Q(l,f,ce,he);p=me.path,w=me.cacheHit}var Le=function(){if(!w){var ae=v;y&&(ae={x:0,y:0}),u.nodeShapes[u.getNodeShape(e)].draw(p||t,ae.x,ae.y,l,f,fe,d)}y?t.fill(p):t.fill()},$e=function(){for(var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ce=c.backgrounding,ve=0,be=0;be<O.length;be++){var ze=e.cy().style().getIndexedStyle(e,"background-image-containment","value",be);if(se&&ze==="over"||!se&&ze==="inside"){ve++;continue}T[be]&&O[be].complete&&!O[be].error&&(ve++,u.drawInscribedImage(t,O[be],e,be,ae))}c.backgrounding=ve!==L,Ce!==c.backgrounding&&e.updateStyle(!1)},Xe=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;u.hasPie(e)&&(u.drawPie(t,e,se),ae&&(y||u.nodeShapes[u.getNodeShape(e)].draw(t,v.x,v.y,l,f,fe,d)))},ke=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,se=(R>0?R:-R)*ae,Ce=R>0?0:255;R!==0&&(u.colorFillStyle(t,Ce,Ce,Ce,se),y?t.fill(p):t.fill())},Se=function(){if(A>0){if(t.lineWidth=A,t.lineCap=G,t.lineJoin=I,t.setLineDash)switch(z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(q),t.lineDashOffset=$;break;case"solid":case"double":t.setLineDash([]);break}if(U!=="center"){if(t.save(),t.lineWidth*=2,U==="inside")y?t.clip(p):t.clip();else{var ae=new Path2D;ae.rect(-l/2-A,-f/2-A,l+2*A,f+2*A),ae.addPath(p),t.clip(ae,"evenodd")}y?t.stroke(p):t.stroke(),t.restore()}else y?t.stroke(p):t.stroke();if(z==="double"){t.lineWidth=A/3;var se=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(p):t.stroke(),t.globalCompositeOperation=se}t.setLineDash&&t.setLineDash([])}},Me=function(){if(W>0){if(t.lineWidth=W,t.lineCap="butt",t.setLineDash)switch(J){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var ae=v;y&&(ae={x:0,y:0});var se=u.getNodeShape(e),Ce=A;U==="inside"&&(Ce=0),U==="outside"&&(Ce*=2);var ve=(l+Ce+(W+re))/l,be=(f+Ce+(W+re))/f,ze=l*ve,Ke=f*be,De=u.nodeShapes[se].points,He;if(y){var We=Q(ze,Ke,se,De);He=We.path}if(se==="ellipse")u.drawEllipsePath(He||t,ae.x,ae.y,ze,Ke);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(se)){var Fe=0,et=0,ot=0;se==="round-diamond"?Fe=(Ce+re+W)*1.4:se==="round-heptagon"?(Fe=(Ce+re+W)*1.075,ot=-(Ce/2+re+W)/35):se==="round-hexagon"?Fe=(Ce+re+W)*1.12:se==="round-pentagon"?(Fe=(Ce+re+W)*1.13,ot=-(Ce/2+re+W)/15):se==="round-tag"?(Fe=(Ce+re+W)*1.12,et=(Ce/2+W+re)*.07):se==="round-triangle"&&(Fe=(Ce+re+W)*(Math.PI/2),ot=-(Ce+re/2+W)/Math.PI),Fe!==0&&(ve=(l+Fe)/l,ze=l*ve,["round-hexagon","round-tag"].includes(se)||(be=(f+Fe)/f,Ke=f*be)),fe=fe==="auto"?Ey(ze,Ke):fe;for(var rr=ze/2,nr=Ke/2,Pt=fe+(Ce+W+re)/2,At=new Array(De.length/2),Bt=new Array(De.length/2),Nt=0;Nt<De.length/2;Nt++)At[Nt]={x:ae.x+et+rr*De[Nt*2],y:ae.y+ot+nr*De[Nt*2+1]};var Ut,ar,ir,or,jr=At.length;for(ar=At[jr-1],Ut=0;Ut<jr;Ut++)ir=At[Ut%jr],or=At[(Ut+1)%jr],Bt[Ut]=Pd(ar,ir,or,Pt),ar=ir,ir=or;u.drawRoundPolygonPath(He||t,ae.x+et,ae.y+ot,l*ve,f*be,De,Bt)}else if(["roundrectangle","round-rectangle"].includes(se))fe=fe==="auto"?$a(ze,Ke):fe,u.drawRoundRectanglePath(He||t,ae.x,ae.y,ze,Ke,fe+(Ce+W+re)/2);else if(["cutrectangle","cut-rectangle"].includes(se))fe=fe==="auto"?hd():fe,u.drawCutRectanglePath(He||t,ae.x,ae.y,ze,Ke,null,fe+(Ce+W+re)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(se))fe=fe==="auto"?$a(ze,Ke):fe,u.drawBottomRoundRectanglePath(He||t,ae.x,ae.y,ze,Ke,fe+(Ce+W+re)/2);else if(se==="barrel")u.drawBarrelPath(He||t,ae.x,ae.y,ze,Ke);else if(se.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(se)){var yr=(Ce+W+re)/l;De=cl(dl(De,yr)),u.drawPolygonPath(He||t,ae.x,ae.y,l,f,De)}else{var Lt=(Ce+W+re)/l;De=cl(dl(De,-Lt)),u.drawPolygonPath(He||t,ae.x,ae.y,l,f,De)}if(y?t.stroke(He):t.stroke(),J==="double"){t.lineWidth=Ce/3;var xt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",y?t.stroke(He):t.stroke(),t.globalCompositeOperation=xt}t.setLineDash&&t.setLineDash([])}},Oe=function(){i&&u.drawNodeOverlay(t,e,v,l,f)},Ie=function(){i&&u.drawNodeUnderlay(t,e,v,l,f)},qe=function(){u.drawElementText(t,e,null,n)},je=e.pstyle("ghost").value==="yes";if(je){var Qe=e.pstyle("ghost-offset-x").pfValue,ge=e.pstyle("ghost-offset-y").pfValue,H=e.pstyle("ghost-opacity").value,ne=H*g;t.translate(Qe,ge),j(),Me(),ue(H*B),Le(),$e(ne,!0),Y(H*V),Se(),Xe(R!==0||A!==0),$e(ne,!1),ke(ne),t.translate(-Qe,-ge)}y&&t.translate(-v.x,-v.y),Ie(),y&&t.translate(v.x,v.y),j(),Me(),ue(),Le(),$e(g,!0),Y(),Se(),Xe(R!==0||A!==0),$e(g,!1),ke(),y&&t.translate(-v.x,-v.y),qe(),Oe(),r&&t.translate(E.x1,E.y1)}};var Pm=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,o,u){var l=this;if(n.visible()){var f=n.pstyle("".concat(e,"-padding")).pfValue,c=n.pstyle("".concat(e,"-opacity")).value,d=n.pstyle("".concat(e,"-color")).value,v=n.pstyle("".concat(e,"-shape")).value,g=n.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(i=i||n.position(),o==null||u==null){var y=n.padding();o=n.width()+2*y,u=n.height()+2*y}l.colorFillStyle(r,d[0],d[1],d[2],c),l.nodeShapes[v].draw(r,i.x,i.y,o+f*2,u+f*2,g),r.fill()}}}};Qi.drawNodeOverlay=Pm("overlay");Qi.drawNodeUnderlay=Pm("underlay");Qi.hasPie=function(t){return t=t[0],t._private.hasPie};Qi.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),u=n.x,l=n.y,f=e.width(),c=e.height(),d=Math.min(f,c)/2,v=0,g=this.usePaths();g&&(u=0,l=0),o.units==="%"?d=d*o.pfValue:o.pfValue!==void 0&&(d=o.pfValue/2);for(var y=1;y<=i.pieBackgroundN;y++){var p=e.pstyle("pie-"+y+"-background-size").value,w=e.pstyle("pie-"+y+"-background-color").value,x=e.pstyle("pie-"+y+"-background-opacity").value*r,E=p/100;E+v>1&&(E=1-v);var b=1.5*Math.PI+2*Math.PI*v,S=2*Math.PI*E,T=b+S;p===0||v>=1||v+E>1||(t.beginPath(),t.moveTo(u,l),t.arc(u,l,d,b,T),t.closePath(),this.colorFillStyle(t,w[0],w[1],w[2],x),t.fill(),v+=E)}};var Er={},dk=100;Er.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};Er.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Er.createGradientStyleFor=function(t,e,r,n,i){var o,u=this.usePaths(),l=r.pstyle(e+"-gradient-stop-colors").value,f=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),d=r.targetEndpoint(),v=r.midpoint(),g=Ha(c,v),y=Ha(d,v);o=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(g,y))}else{var p=u?{x:0,y:0}:r.position(),w=r.paddedWidth(),x=r.paddedHeight();o=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(w,x))}else if(r.isEdge()){var E=r.sourceEndpoint(),b=r.targetEndpoint();o=t.createLinearGradient(E.x,E.y,b.x,b.y)}else{var S=u?{x:0,y:0}:r.position(),T=r.paddedWidth(),O=r.paddedHeight(),L=T/2,M=O/2,_=r.pstyle("background-gradient-direction").value;switch(_){case"to-bottom":o=t.createLinearGradient(S.x,S.y-M,S.x,S.y+M);break;case"to-top":o=t.createLinearGradient(S.x,S.y+M,S.x,S.y-M);break;case"to-left":o=t.createLinearGradient(S.x+L,S.y,S.x-L,S.y);break;case"to-right":o=t.createLinearGradient(S.x-L,S.y,S.x+L,S.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(S.x-L,S.y-M,S.x+L,S.y+M);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(S.x-L,S.y+M,S.x+L,S.y-M);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(S.x+L,S.y-M,S.x-L,S.y+M);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(S.x+L,S.y+M,S.x-L,S.y-M);break}}if(!o)return null;for(var P=f.length===l.length,N=l.length,R=0;R<N;R++)o.addColorStop(P?f[R]:R/(N-1),"rgba("+l[R][0]+","+l[R][1]+","+l[R][2]+","+i+")");return o};Er.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};Er.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};Er.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};Er.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};Er.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};Er.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};Er.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],o=n[3],u=e.getPixelRatio(),l=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(u=l);var f=i*u,c=o*u,d;if(!(f===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var v=r.canvasContainer;v.style.width=i+"px",v.style.height=o+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)d=r.canvases[g],d.width=f,d.height=c,d.style.width=i+"px",d.style.height=o+"px";for(var g=0;g<e.BUFFER_COUNT;g++)d=r.bufferCanvases[g],d.width=f,d.height=c,d.style.width=i+"px",d.style.height=o+"px";e.textureMult=1,u<=1&&(d=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,d.width=f*e.textureMult,d.height=c*e.textureMult),e.canvasWidth=f,e.canvasHeight=c,e.pixelRatio=u}};Er.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Er.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};Er.render=function(t){var e=this;t=t||gy();var r=e.cy,n=t.forcedContext,i=t.drawAllLayers,o=t.drawOnlyNodeLayer,u=t.forcedZoom,l=t.forcedPan,f=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,c=e.data,d=c.canvasNeedsRedraw,v=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,y=e.motionBlurPxRatio,p=r.hasCompoundNodes(),w=e.hoverData.draggingEles,x=!!(e.hoverData.selecting||e.touchData.selecting);g=g&&!n&&e.motionBlurEnabled&&!x;var E=g;n||(e.prevPxRatio!==f&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=f),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),g&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(E=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!v&&(d[e.NODE]=!0,d[e.SELECT_BOX]=!0);var b=r.style(),S=r.zoom(),T=u!==void 0?u:S,O=r.pan(),L={x:O.x,y:O.y},M={zoom:S,pan:{x:O.x,y:O.y}},_=e.prevViewport,P=_===void 0||M.zoom!==_.zoom||M.pan.x!==_.pan.x||M.pan.y!==_.pan.y;!P&&!(w&&!p)&&(e.motionBlurPxRatio=1),l&&(L=l),T*=f,L.x*=f,L.y*=f;var N=e.getCachedZSortedEles();function R(Y,j,Q,ce,he){var me=Y.globalCompositeOperation;Y.globalCompositeOperation="destination-out",e.colorFillStyle(Y,255,255,255,e.motionBlurTransparency),Y.fillRect(j,Q,ce,he),Y.globalCompositeOperation=me}function A(Y,j){var Q,ce,he,me;!e.clearingMotionBlur&&(Y===c.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||Y===c.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(Q={x:O.x*y,y:O.y*y},ce=S*y,he=e.canvasWidth*y,me=e.canvasHeight*y):(Q=L,ce=T,he=e.canvasWidth,me=e.canvasHeight),Y.setTransform(1,0,0,1,0,0),j==="motionBlur"?R(Y,0,0,he,me):!n&&(j===void 0||j)&&Y.clearRect(0,0,he,me),i||(Y.translate(Q.x,Q.y),Y.scale(ce,ce)),l&&Y.translate(l.x,l.y),u&&Y.scale(u,u)}if(v||(e.textureDrawLastFrame=!1),v){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var B=e.data.bufferContexts[e.TEXTURE_BUFFER];B.setTransform(1,0,0,1,0,0),B.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:B,drawOnlyNodeLayer:!0,forcedPxRatio:f*e.textureMult});var M=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};M.mpan={x:(0-M.pan.x)/M.zoom,y:(0-M.pan.y)/M.zoom}}d[e.DRAG]=!1,d[e.NODE]=!1;var D=c.contexts[e.NODE],z=e.textureCache.texture,M=e.textureCache.viewport;D.setTransform(1,0,0,1,0,0),g?R(D,0,0,M.width,M.height):D.clearRect(0,0,M.width,M.height);var I=b.core("outside-texture-bg-color").value,G=b.core("outside-texture-bg-opacity").value;e.colorFillStyle(D,I[0],I[1],I[2],G),D.fillRect(0,0,M.width,M.height);var S=r.zoom();A(D,!1),D.clearRect(M.mpan.x,M.mpan.y,M.width/M.zoom/f,M.height/M.zoom/f),D.drawImage(z,M.mpan.x,M.mpan.y,M.width/M.zoom/f,M.height/M.zoom/f)}else e.textureOnViewport&&!n&&(e.textureCache=null);var U=r.extent(),q=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),$=e.hideEdgesOnViewport&&q,V=[];if(V[e.NODE]=!d[e.NODE]&&g&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,V[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),V[e.DRAG]=!d[e.DRAG]&&g&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,V[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),d[e.NODE]||i||o||V[e.NODE]){var W=g&&!V[e.NODE]&&y!==1,D=n||(W?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:c.contexts[e.NODE]),ee=g&&!W?"motionBlur":void 0;A(D,ee),$?e.drawCachedNodes(D,N.nondrag,f,U):e.drawLayeredElements(D,N.nondrag,f,U),e.debug&&e.drawDebugPoints(D,N.nondrag),!i&&!g&&(d[e.NODE]=!1)}if(!o&&(d[e.DRAG]||i||V[e.DRAG])){var W=g&&!V[e.DRAG]&&y!==1,D=n||(W?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:c.contexts[e.DRAG]);A(D,g&&!W?"motionBlur":void 0),$?e.drawCachedNodes(D,N.drag,f,U):e.drawCachedElements(D,N.drag,f,U),e.debug&&e.drawDebugPoints(D,N.drag),!i&&!g&&(d[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,A),g&&y!==1){var J=c.contexts[e.NODE],te=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],re=c.contexts[e.DRAG],fe=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],ue=function(j,Q,ce){j.setTransform(1,0,0,1,0,0),ce||!E?j.clearRect(0,0,e.canvasWidth,e.canvasHeight):R(j,0,0,e.canvasWidth,e.canvasHeight);var he=y;j.drawImage(Q,0,0,e.canvasWidth*he,e.canvasHeight*he,0,0,e.canvasWidth,e.canvasHeight)};(d[e.NODE]||V[e.NODE])&&(ue(J,te,V[e.NODE]),d[e.NODE]=!1),(d[e.DRAG]||V[e.DRAG])&&(ue(re,fe,V[e.DRAG]),d[e.DRAG]=!1)}e.prevViewport=M,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),g&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!v,e.mbFrames=0,d[e.NODE]=!0,d[e.DRAG]=!0,e.redraw()},dk)),n||r.emit("render")};var Vo;Er.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,i=r.data,o=n.style(),u=t.drawOnlyNodeLayer,l=t.drawAllLayers,f=i.canvasNeedsRedraw,c=t.forcedContext;if(r.showFps||!u&&f[r.SELECT_BOX]&&!l){var d=c||i.contexts[r.SELECT_BOX];if(e(d),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var v=r.cy.zoom(),g=o.core("selection-box-border-width").value/v;d.lineWidth=g,d.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",d.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),g>0&&(d.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",d.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var v=r.cy.zoom(),y=i.bgActivePosistion;d.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",d.beginPath(),d.arc(y.x,y.y,o.core("active-bg-size").pfValue/v,0,2*Math.PI),d.fill()}var p=r.lastRedrawTime;if(r.showFps&&p){p=Math.round(p);var w=Math.round(1e3/p),x="1 frame = "+p+" ms = "+w+" fps";if(d.setTransform(1,0,0,1,0,0),d.fillStyle="rgba(255, 0, 0, 0.75)",d.strokeStyle="rgba(255, 0, 0, 0.75)",d.font="30px Arial",!Vo){var E=d.measureText(x);Vo=E.actualBoundingBoxAscent}d.fillText(x,0,Vo);var b=60;d.strokeRect(0,Vo+10,250,20),d.fillRect(0,Vo+10,250*Math.min(w/b,1),20)}l||(f[r.SELECT_BOX]=!1)}};function Ep(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function vk(t,e,r){var n=Ep(t,t.VERTEX_SHADER,e),i=Ep(t,t.FRAGMENT_SHADER,r),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,i),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error("Could not initialize shaders");return o}function hk(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function Dd(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function gk(t,e,r,n,i){var o=n*r+e.x,u=i*r+e.y;return u=Math.round(t.canvasHeight-u),[o,u]}function Xu(t,e,r){var n=t[0]/255,i=t[1]/255,o=t[2]/255,u=e,l=r||new Array(4);return l[0]=n*u,l[1]=i*u,l[2]=o*u,l[3]=u,l}function Yu(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function pk(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function yk(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function Tm(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function _m(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function mk(t,e,r,n,i,o){switch(e){case t.FLOAT:return new Float32Array(r.buffer,o*n,i);case t.INT:return new Int32Array(r.buffer,o*n,i)}}function wk(t,e,r,n){var i=Tm(t,e),o=Xt(i,2),u=o[0],l=o[1],f=_m(t,l,n),c=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW),l===t.FLOAT?t.vertexAttribPointer(r,u,l,!1,0,0):l===t.INT&&t.vertexAttribIPointer(r,u,l,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),c}function Or(t,e,r,n){var i=Tm(t,r),o=Xt(i,3),u=o[0],l=o[1],f=o[2],c=_m(t,l,e*u),d=u*f,v=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,v),t.bufferData(t.ARRAY_BUFFER,e*d,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),l===t.FLOAT?t.vertexAttribPointer(n,u,l,!1,d,0):l===t.INT&&t.vertexAttribIPointer(n,u,l,d,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var g=new Array(e),y=0;y<e;y++)g[y]=mk(t,l,c,d,u,y);return v.dataArray=c,v.stride=d,v.size=u,v.getView=function(p){return g[p]},v.setPoint=function(p,w,x){var E=g[p];E[0]=w,E[1]=x},v.bufferSubData=function(p){t.bindBuffer(t.ARRAY_BUFFER,v),p?t.bufferSubData(t.ARRAY_BUFFER,0,c,0,p*u):t.bufferSubData(t.ARRAY_BUFFER,0,c)},v}function xk(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var Sp=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Jo(){var t=new Sp(9);return Sp!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Dm(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function bk(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],l=e[4],f=e[5],c=e[6],d=e[7],v=e[8],g=r[0],y=r[1],p=r[2],w=r[3],x=r[4],E=r[5],b=r[6],S=r[7],T=r[8];return t[0]=g*n+y*u+p*c,t[1]=g*i+y*l+p*d,t[2]=g*o+y*f+p*v,t[3]=w*n+x*u+E*c,t[4]=w*i+x*l+E*d,t[5]=w*o+x*f+E*v,t[6]=b*n+S*u+T*c,t[7]=b*i+S*l+T*d,t[8]=b*o+S*f+T*v,t}function wl(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],l=e[4],f=e[5],c=e[6],d=e[7],v=e[8],g=r[0],y=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=u,t[4]=l,t[5]=f,t[6]=g*n+y*u+c,t[7]=g*i+y*l+d,t[8]=g*o+y*f+v,t}function Am(t,e,r){var n=e[0],i=e[1],o=e[2],u=e[3],l=e[4],f=e[5],c=e[6],d=e[7],v=e[8],g=Math.sin(r),y=Math.cos(r);return t[0]=y*n+g*u,t[1]=y*i+g*l,t[2]=y*o+g*f,t[3]=y*u-g*n,t[4]=y*l-g*i,t[5]=y*f-g*o,t[6]=c,t[7]=d,t[8]=v,t}function Ad(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ek(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var es={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Go=Yt({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),Sk=function(){function t(e,r){ma(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.atlasSize=r.webglTexSize,this.rows=r.webglTexRows,this.enableWrapping=r.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=r.createTextureCanvas(e,this.atlasSize,this.atlasSize),this.scratch=r.createTextureCanvas(e,this.atlasSize,this.texHeight,"scratch")}return wa(t,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,o=this.texHeight,u=this.maxTexWidth,l=o/i,f=n*l,c=i*l;return f>u&&(l=u/n,f=n*l,c=i*l),{scale:l,texW:f,texH:c}}},{key:"draw",value:function(r,n,i){var o=this,u=this.atlasSize,l=this.rows,f=this.texHeight,c=this.getScale(n),d=c.scale,v=c.texW,g=c.texH,y=[null,null],p=function(S,T){if(i&&T){var O=T.context,L=S.x,M=S.row,_=L,P=f*M;O.save(),O.translate(_,P),O.scale(d,d),i(O,n),O.restore()}},w=function(){p(o.freePointer,o.canvas),y[0]={x:o.freePointer.x,y:o.freePointer.row*f,w:v,h:g},y[1]={x:o.freePointer.x+v,y:o.freePointer.row*f,w:0,h:g},o.freePointer.x+=v,o.freePointer.x==u&&(o.freePointer.x=0,o.freePointer.row++)},x=function(){var S=o.scratch,T=o.canvas;S.clear(),p({x:0,row:0},S);var O=u-o.freePointer.x,L=v-O,M=f;{var _=o.freePointer.x,P=o.freePointer.row*f,N=O;T.context.drawImage(S,0,0,N,M,_,P,N,M),y[0]={x:_,y:P,w:N,h:g}}{var R=O,A=(o.freePointer.row+1)*f,B=L;T&&T.context.drawImage(S,R,0,B,M,0,A,B,M),y[1]={x:0,y:A,w:B,h:g}}o.freePointer.x=L,o.freePointer.row++},E=function(){o.freePointer.x=0,o.freePointer.row++};if(this.freePointer.x+v<=u)w();else{if(this.freePointer.row>=l-1)return!1;this.freePointer.x===u?(E(),w()):this.enableWrapping?x():(E(),w())}return this.keyToLocation.set(r,y),this.needsBuffer=!0,y}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){var n=this.atlasSize,i=this.rows,o=this.getScale(r),u=o.texW;return this.freePointer.x+u>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=yk(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),t}(),Ck=function(){function t(e,r){ma(this,t),this.r=e,this.opts=r,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return wa(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(r){var n=this.keyToIds.get(r);return n||(n=new Set,this.keyToIds.set(r,n)),n}},{key:"_createAtlas",value:function(){var r=this.r,n=this.opts;return new Sk(r,n)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.opts,i=n.webglTexSize,o=Math.floor(i/n.webglTexRows);this.scratch=n.createTextureCanvas(r,i,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i,o){if(this.styleKeyNeedsRedraw.has(n)){this.styleKeyNeedsRedraw.delete(n),this.deleteKey(r,n);var u=this.styleKeyToAtlas.get(n);u&&(u.forceGC=!0),this.styleKeyToAtlas.delete(n)}var l=this.styleKeyToAtlas.get(n);return l||(l=this.atlases[this.atlases.length-1],(!l||!l.canFit(i))&&(l=this._createAtlas(),this.atlases.push(l)),l.draw(n,i,o),this.styleKeyToAtlas.set(n,l),this.getIdsFor(n).add(r),this.idToKey.set(r,n)),l}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"deleteKey",value:function(r,n){this.idToKey.delete(r),this.getIdsFor(n).delete(r)}},{key:"checkKeyIsInvalid",value:function(r,n){if(!this.idToKey.has(r))return!1;var i=this.idToKey.get(r);return i!=n?(this.deleteKey(r,i),!0):!1}},{key:"_getKeysToCollect",value:function(){var r=new Set,n=Ir(this.styleKeyToAtlas.keys()),i;try{for(n.s();!(i=n.n()).done;){var o=i.value;this.getIdsFor(o).size==0&&r.add(o)}}catch(u){n.e(u)}finally{n.f()}return r}},{key:"gc",value:function(){var r=this,n=this.atlases.some(function(g){return g.forceGC}),i=this._getKeysToCollect();if(i.size===0&&!n){console.log("nothing to garbage collect");return}var o=[],u=new Map,l=null,f=Ir(this.atlases),c;try{var d=function(){var y=c.value,p=y.getKeys(),w=kk(i,p);if(w.size===0&&!y.forceGC)return o.push(y),p.forEach(function(M){return u.set(M,y)}),"continue";l||(l=r._createAtlas(),o.push(l));var x=Ir(p),E;try{for(x.s();!(E=x.n()).done;){var b=E.value;if(!w.has(b)){var S=y.getOffsets(b),T=Xt(S,2),O=T[0],L=T[1];l.canFit({w:O.w+L.w,h:O.h})||(l=r._createAtlas(),o.push(l)),r._copyTextureToNewAtlas(b,y,l),u.set(b,l)}}}catch(M){x.e(M)}finally{x.f()}};for(f.s();!(c=f.n()).done;)var v=d()}catch(g){f.e(g)}finally{f.f()}this.atlases=o,this.styleKeyToAtlas=u}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var o=n.getOffsets(r),u=Xt(o,2),l=u[0],f=u[1];if(f.w===0)i.draw(r,l,function(g){g.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(n.canvas,l.x,l.y,l.w,l.h,0,0,l.w,l.h),c.context.drawImage(n.canvas,f.x,f.y,f.w,f.h,l.w,0,f.w,f.h);var d=l.w+f.w,v=l.h;i.draw(r,{w:d,h:v},function(g){g.drawImage(c,0,0,d,v,0,0,d,v)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),t}();function kk(t,e){return t.intersection?t.intersection(e):new Set(Qp(t).filter(function(r){return e.has(r)}))}var Pk=function(){function t(e,r){ma(this,t),this.r=e;var n=r;this.globalOptions=n,this.maxAtlases=n.webglTexPerBatch,this.atlasSize=n.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(n)}return wa(t,[{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,o=null,u=r.createTextureCanvas;r.createTextureCanvas=function(l,f,c,d){return d?((!o||f!=n||c!=i)&&(n=f,i=c,o=u(l,f,c)),o):u(l,f,c)}}},{key:"addRenderType",value:function(r,n){var i=new Ck(this.r,this.globalOptions),o=n;this.renderTypes.set(r,Ue({type:r,atlasCollection:i},o))}},{key:"getRenderTypes",value:function(){return Qp(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.forceRedraw,o=i===void 0?!1:i,u=n.filterEle,l=u===void 0?function(){return!0}:u,f=n.filterType,c=f===void 0?function(){return!0}:f,d=!1,v=Ir(r),g;try{for(v.s();!(g=v.n()).done;){var y=g.value;if(l(y)){var p=y.id(),w=Ir(this.getRenderTypes()),x;try{for(w.s();!(x=w.n()).done;){var E=x.value;if(c(E.type)){var b=E.getKey(y);o?(E.atlasCollection.deleteKey(p,b),E.atlasCollection.styleKeyNeedsRedraw.add(b),d=!0):d|=E.atlasCollection.checkKeyIsInvalid(p,b)}}}catch(S){w.e(S)}finally{w.f()}}}}catch(S){v.e(S)}finally{v.f()}return d}},{key:"gc",value:function(){var r=Ir(this.getRenderTypes()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.atlasCollection.gc()}}catch(o){r.e(o)}finally{r.f()}}},{key:"isRenderable",value:function(r,n){var i=this.getRenderTypeOpts(n);return i&&i.isVisible(r)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(r,n,i){var o=this.renderTypes.get(i),u=o.getKey(r),l=r.id();return o.atlasCollection.draw(l,u,n,function(f){o.drawElement(f,r,n,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(r,n){return n})}},{key:"getAtlasInfo",value:function(r,n){var i=this.renderTypes.get(n),o=i.getBoundingBox(r),u=this.getOrCreateAtlas(r,o,n),l=this.getAtlasIndexForBatch(u);if(l!==void 0){var f=i.getKey(r),c=u.getOffsets(f),d=Xt(c,2),v=d[0],g=d[1];return{atlasID:l,tex:v,tex1:v,tex2:g,bb:o,type:n,styleKey:f}}}},{key:"canAddToCurrentBatch",value:function(r,n){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var i=this.renderTypes.get(n),o=i.getKey(r),u=i.atlasCollection.getAtlas(o);return u&&this.batchAtlases.includes(u)}return!0}},{key:"setTransformMatrix",value:function(r,n,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=n.bb,l=n.type,f=n.tex1,c=n.tex2,d=this.getRenderTypeOpts(l),v=d.getPadding?d.getPadding(i):0,g=f.w/(f.w+c.w);o||(g=1-g);var y=this.getAdjustedBB(u,v,o,g),p,w;Dm(r);var x=d.getRotation?d.getRotation(i):0;if(x!==0){var E=d.getRotationPoint(i),b=E.x,S=E.y;wl(r,r,[b,S]),Am(r,r,x);var T=d.getRotationOffset(i);p=T.x+y.xOffset,w=T.y}else p=y.x1,w=y.y1;wl(r,r,[p,w]),Ad(r,r,[y.w,y.h])}},{key:"getTransformMatrix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Jo();return this.setTransformMatrix(o,r,n,i),o}},{key:"getAdjustedBB",value:function(r,n,i,o){var u=r.x1,l=r.y1,f=r.w,c=r.h;n&&(u-=n,l-=n,f+=2*n,c+=2*n);var d=0,v=f*o;return i&&o<1?f=v:!i&&o<1&&(d=f-v,u+=d,f=v),{x1:u,y1:l,w:f,h:c,xOffset:d}}},{key:"getDebugInfo",value:function(){var r=[],n=Ir(this.renderTypes),i;try{for(n.s();!(i=n.n()).done;){var o=Xt(i.value,2),u=o[0],l=o[1],f=l.atlasCollection.getCounts(),c=f.keyCount,d=f.atlasCount;r.push({type:u,keyCount:c,atlasCount:d})}}catch(v){n.e(v)}finally{n.f()}return r}}]),t}(),Ic=0,Cp=1,kp=2,zc=3,Tk=function(){function t(e,r,n){ma(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.maxAtlases=n.webglTexPerBatch,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,n.enableWrapping=!0,n.createTextureCanvas=hk,this.atlasManager=new Pk(e,n),this.program=this.createShaderProgram(es.SCREEN),this.pickingProgram=this.createShaderProgram(es.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return wa(t,[{key:"addTextureRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,o=this.atlasManager;return i?o.invalidate(r,{filterType:function(l){return l===i},forceRedraw:!0}):o.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Ic,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(Cp,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(kp,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(zc,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),o=this.atlasManager.getIndexArray(),u=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(o.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Ic,`) {
          `).concat(o.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(zc,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),l=vk(n,i,u);l.aPosition=n.getAttribLocation(l,"aPosition"),l.aIndex=n.getAttribLocation(l,"aIndex"),l.aVertType=n.getAttribLocation(l,"aVertType"),l.aAtlasId=n.getAttribLocation(l,"aAtlasId"),l.aTex1=n.getAttribLocation(l,"aTex1"),l.aTex2=n.getAttribLocation(l,"aTex2"),l.aScaleRotate1=n.getAttribLocation(l,"aScaleRotate1"),l.aTranslate1=n.getAttribLocation(l,"aTranslate1"),l.aScaleRotate2=n.getAttribLocation(l,"aScaleRotate2"),l.aTranslate2=n.getAttribLocation(l,"aTranslate2"),l.aPointAPointB=n.getAttribLocation(l,"aPointAPointB"),l.aPointCPointD=n.getAttribLocation(l,"aPointCPointD"),l.aLineWidth=n.getAttribLocation(l,"aLineWidth"),l.aEdgeColor=n.getAttribLocation(l,"aEdgeColor"),l.uPanZoomMatrix=n.getUniformLocation(l,"uPanZoomMatrix"),l.uAtlasSize=n.getUniformLocation(l,"uAtlasSize"),l.uBGColor=n.getUniformLocation(l,"uBGColor"),l.uTextures=[];for(var f=0;f<this.atlasManager.maxAtlases;f++)l.uTextures.push(n.getUniformLocation(l,"uTexture".concat(f)));return l}},{key:"createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1],n=[].concat(r,r);this.vertexCount=n.length/2;var i=this.maxInstances,o=this.gl,u=this.program,l=o.createVertexArray();return o.bindVertexArray(l),wk(o,"vec2",u.aPosition,n),this.indexBuffer=Or(o,i,"vec4",u.aIndex),this.vertTypeBuffer=Or(o,i,"int",u.aVertType),this.atlasIdBuffer=Or(o,i,"int",u.aAtlasId),this.tex1Buffer=Or(o,i,"vec4",u.aTex1),this.tex2Buffer=Or(o,i,"vec4",u.aTex2),this.scaleRotate1Buffer=Or(o,i,"vec4",u.aScaleRotate1),this.translate1Buffer=Or(o,i,"vec2",u.aTranslate1),this.scaleRotate2Buffer=Or(o,i,"vec4",u.aScaleRotate2),this.translate2Buffer=Or(o,i,"vec2",u.aTranslate2),this.pointAPointBBuffer=Or(o,i,"vec4",u.aPointAPointB),this.pointCPointDBuffer=Or(o,i,"vec4",u.aPointCPointD),this.lineWidthBuffer=Or(o,i,"float",u.aLineWidth),this.edgeColorBuffer=Or(o,i,"vec4",u.aEdgeColor),o.bindVertexArray(null),l}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:es.SCREEN;this.panZoomMatrix=r,this.debugInfo=n,this.renderTarget=i,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||Jo()}},{key:"drawTexture",value:function(r,n,i){var o=this.atlasManager;if(o.isRenderable(r,i)){o.canAddToCurrentBatch(r,i)||this.endBatch();var u=this.instanceCount;this.vertTypeBuffer.getView(u)[0]=Ic;var l=this.indexBuffer.getView(u);Yu(n,l);var f=o.getAtlasInfo(r,i,f),c=f.atlasID,d=f.tex1,v=f.tex2,g=this.atlasIdBuffer.getView(u);g[0]=c;var y=this.tex1Buffer.getView(u);y[0]=d.x,y[1]=d.y,y[2]=d.w,y[3]=d.h;var p=this.tex2Buffer.getView(u);p[0]=v.x,p[1]=v.y,p[2]=v.w,p[3]=v.h;for(var w=this.getTempMatrix(),x=0,E=[1,2];x<E.length;x++){var b=E[x];o.setTransformMatrix(w,f,r,b===1);var S=this["scaleRotate".concat(b,"Buffer")].getView(u);S[0]=w[0],S[1]=w[1],S[2]=w[3],S[3]=w[4];var T=this["translate".concat(b,"Buffer")].getView(u);T[0]=w[6],T[1]=w[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(r,n,i){var o=r._private.rscratch,u,l,f;if(i==="source"?(u=o.arrowStartX,l=o.arrowStartY,f=o.srcArrowAngle):(u=o.arrowEndX,l=o.arrowEndY,f=o.tgtArrowAngle),!(isNaN(u)||u==null||isNaN(l)||l==null||isNaN(f)||f==null)){var c=r.pstyle(i+"-arrow-shape").value;if(c!=="none"){var d=r.pstyle(i+"-arrow-color").value,v=r.pstyle("opacity").value,g=r.pstyle("line-opacity").value,y=v*g,p=r.pstyle("width").pfValue,w=r.pstyle("arrow-scale").value,x=this.r.getArrowWidth(p,w),E=this.getTempMatrix();Dm(E),wl(E,E,[u,l]),Ad(E,E,[x,x]),Am(E,E,f);var b=this.instanceCount;this.vertTypeBuffer.getView(b)[0]=zc;var S=this.indexBuffer.getView(b);Yu(n,S);var T=this.edgeColorBuffer.getView(b);Xu(d,y,T);var O=this.scaleRotate1Buffer.getView(b);O[0]=E[0],O[1]=E[1],O[2]=E[3],O[3]=E[4];var L=this.translate1Buffer.getView(b);L[0]=E[6],L[1]=E[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(r,n){var i=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,u=r.pstyle("width").pfValue,l=r.pstyle("line-color").value,f=i*o,c=this.getEdgePoints(r);if(c.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),c.length==4){var d=this.instanceCount;this.vertTypeBuffer.getView(d)[0]=Cp;var v=this.indexBuffer.getView(d);Yu(n,v);var g=this.edgeColorBuffer.getView(d);Xu(l,f,g);var y=this.lineWidthBuffer.getView(d);y[0]=u;var p=this.pointAPointBBuffer.getView(d);p[0]=c[0],p[1]=c[1],p[2]=c[2],p[3]=c[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var w=0;w<c.length-2;w+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=kp;var E=this.indexBuffer.getView(x);Yu(n,E);var b=this.edgeColorBuffer.getView(x);Xu(l,f,b);var S=this.lineWidthBuffer.getView(x);S[0]=u;var T=c[w-2],O=c[w-1],L=c[w],M=c[w+1],_=c[w+2],P=c[w+3],N=c[w+4],R=c[w+5];w==0&&(T=2*L-_+.001,O=2*M-P+.001),w==c.length-4&&(N=2*_-L+.001,R=2*P-M+.001);var A=this.pointAPointBBuffer.getView(x);A[0]=T,A[1]=O,A[2]=L,A[3]=M;var B=this.pointCPointDBuffer.getView(x);B[0]=_,B[1]=P,B[2]=N,B[3]=R,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(r){var n=r._private.rscratch,i=n.allpts;if(i.length==4)return i;var o=this.getNumSegments(r);return this.getCurveSegmentPoints(i,o)}},{key:"getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),o=0;o<=n;o++)if(o==0)i[0]=r[0],i[1]=r[1];else if(o==n)i[o*2]=r[r.length-2],i[o*2+1]=r[r.length-1];else{var u=o/n;this.setCurvePoint(r,u,i,o*2)}return i}},{key:"setCurvePoint",value:function(r,n,i,o){if(r.length<=2)i[o]=r[0],i[o+1]=r[1];else{for(var u=Array(r.length-2),l=0;l<u.length;l+=2){var f=(1-n)*r[l]+n*r[l+2],c=(1-n)*r[l+1]+n*r[l+3];u[l]=f,u[l+1]=c}return this.setCurvePoint(u,n,i,o)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,o=this.instanceCount;if(o!==0){var u=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(u),r.bindVertexArray(n);var l=Ir(this.buffers),f;try{for(l.s();!(f=l.n()).done;){var c=f.value;c.bufferSubData(o)}}catch(p){l.e(p)}finally{l.f()}for(var d=this.atlasManager.getAtlases(),v=0;v<d.length;v++)d[v].bufferIfNeeded(r);for(var g=0;g<d.length;g++)r.activeTexture(r.TEXTURE0+g),r.bindTexture(r.TEXTURE_2D,d[g].texture),r.uniform1i(u.uTextures[g],g);r.uniformMatrix3fv(u.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(u.uAtlasSize,this.atlasManager.atlasSize);var y=Xu(this.bgColor,1);r.uniform4fv(u.uBGColor,y),r.drawArraysInstanced(r.TRIANGLES,0,i,o),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:o,atlasCount:d.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),t}();function Pp(t,e){return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e,")")}var _k=function(){function t(e){ma(this,t),this.r=e}return wa(t,[{key:"getStyleKey",value:function(r,n){var i=this.getStyle(r,n),o=i.shape,u=i.opacity,l=i.color;if(!o)return null;var f=n.width(),c=n.height(),d=Pp(l,u);return da("".concat(o,"-").concat(f,"-").concat(c,"-").concat(d))}},{key:"isVisible",value:function(r,n){var i=n.pstyle("".concat(r,"-opacity")).value;return i>0}},{key:"getStyle",value:function(r,n){var i=n.pstyle("".concat(r,"-opacity")).value,o=n.pstyle("".concat(r,"-color")).value,u=n.pstyle("".concat(r,"-shape")).value;return{opacity:i,color:o,shape:u}}},{key:"getPadding",value:function(r,n){return n.pstyle("".concat(r,"-padding")).pfValue}},{key:"draw",value:function(r,n,i,o){if(this.isVisible(r,i)){var u=this.r,l=o.w,f=o.h,c=l/2,d=f/2,v=this.getStyle(r,i),g=v.shape,y=v.color,p=v.opacity;n.save(),n.fillStyle=Pp(y,p),g==="round-rectangle"||g==="roundrectangle"?u.drawRoundRectanglePath(n,c,d,l,f,"auto"):g==="ellipse"&&u.drawEllipsePath(n,c,d,l,f),n.fill(),n.restore()}}}]),t}();function Dk(t){var e=t&&t.style&&t.style.backgroundColor||"white";return ny(e)}var Bm={};Bm.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL],i=t.cy.container();t.bgColor=Dk(i),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,console.log("max texture units",n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",n.getParameter(n.MAX_TEXTURE_SIZE)),console.log("webgl options",t),r.pickingFrameBuffer=xk(n),r.pickingFrameBuffer.needsDraw=!0;var o=function(d){return r.getTextAngle(d,null)},u=function(d){var v=d.pstyle("label");return v&&v.value};r.eleDrawing=new Tk(r,n,t);var l=new _k(r);r.eleDrawing.addTextureRenderType("node-body",Go({getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement,isVisible:function(d){return d.visible()}})),r.eleDrawing.addTextureRenderType("node-label",Go({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:o,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:u})),r.eleDrawing.addTextureRenderType("node-overlay",Go({getBoundingBox:e.getElementBox,getKey:function(d){return l.getStyleKey("overlay",d)},drawElement:function(d,v,g){return l.draw("overlay",d,v,g)},isVisible:function(d){return l.isVisible("overlay",d)},getPadding:function(d){return l.getPadding("overlay",d)}})),r.eleDrawing.addTextureRenderType("node-underlay",Go({getBoundingBox:e.getElementBox,getKey:function(d){return l.getStyleKey("underlay",d)},drawElement:function(d,v,g){return l.draw("underlay",d,v,g)},isVisible:function(d){return l.isVisible("underlay",d)},getPadding:function(d){return l.getPadding("underlay",d)}})),r.eleDrawing.addTextureRenderType("edge-label",Go({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:o,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:u}));var f=gs(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,d){var v=!1;d&&d.length>0&&(v|=r.eleDrawing.invalidate(d)),v&&f()}),Ak(r)};function Ak(t){{var e=t.render;t.render=function(o){o=o||{};var u=t.cy;t.webgl&&(u.zoom()>Em?(Bk(t),e.call(t,o)):(Lk(t),Rm(t,o,es.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(o){r.call(t,o),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(o,u,l,f){return zk(t,o,u)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(o,u){i.call(t,o,u),o==="viewport"||o==="bounds"?t.pickingFrameBuffer.needsDraw=!0:o==="background"&&t.eleDrawing.invalidate(u,{type:"node-body"})}}}function Bk(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function Lk(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function Rk(t){var e=t.canvasWidth,r=t.canvasHeight,n=Dd(t),i=n.pan,o=n.zoom,u=Jo();wl(u,u,[i.x,i.y]),Ad(u,u,[o,o]);var l=Jo();Ek(l,e,r);var f=Jo();return bk(f,l,u),f}function Lm(t,e){var r=t.canvasWidth,n=t.canvasHeight,i=Dd(t),o=i.pan,u=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(o.x,o.y),e.scale(u,u)}function Mk(t,e){t.drawSelectionRectangle(e,function(r){return Lm(t,r)})}function Nk(t){var e=t.data.contexts[t.NODE];e.save(),Lm(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function Ok(t){var e=function(i,o,u){for(var l=i.atlasManager.getRenderTypeOpts(o),f=t.data.contexts[t.NODE],c=.125,d=l.atlasCollection.atlases,v=0;v<d.length;v++){var g=d[v],y=g.canvas,p=y.width,w=y.height,x=p*v,E=y.height*u;f.save(),f.scale(c,c),f.drawImage(y,x,E),f.strokeStyle="black",f.rect(x,E,p,w),f.stroke(),f.restore()}},r=0;e(t.eleDrawing,"node-body",r++),e(t.eleDrawing,"node-label",r++)}function Ik(t,e,r,n,i){var o,u,l,f,c=Dd(t),d=c.pan,v=c.zoom;{var g=gk(t,d,v,e,r),y=Xt(g,2),p=y[0],w=y[1],x=6;o=p-x/2,u=w-x/2,l=x,f=x}if(l===0||f===0)return[];var E=t.data.contexts[t.WEBGL];E.bindFramebuffer(E.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(E.viewport(0,0,E.canvas.width,E.canvas.height),Rm(t,null,es.PICKING),t.pickingFrameBuffer.needsDraw=!1);var b=l*f,S=new Uint8Array(b*4);E.readPixels(o,u,l,f,E.RGBA,E.UNSIGNED_BYTE,S),E.bindFramebuffer(E.FRAMEBUFFER,null);for(var T=new Set,O=0;O<b;O++){var L=S.slice(O*4,O*4+4),M=pk(L)-1;M>=0&&T.add(M)}return T}function zk(t,e,r){var n=Ik(t,e,r),i=t.getCachedZSortedEles(),o,u,l=Ir(n),f;try{for(l.s();!(f=l.n()).done;){var c=f.value,d=i[c];if(!o&&d.isNode()&&(o=d),!u&&d.isEdge()&&(u=d),o&&u)break}}catch(v){l.e(v)}finally{l.f()}return[o,u].filter(Boolean)}function Rm(t,e,r){var n,i;t.webglDebug&&(i=[],n=performance.now());var o=t.eleDrawing,u=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&Mk(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var l=function(A,B){B+=1,A.isNode()?(o.drawTexture(A,B,"node-underlay"),o.drawTexture(A,B,"node-body"),o.drawTexture(A,B,"node-label"),o.drawTexture(A,B,"node-overlay")):(o.drawEdgeLine(A,B),o.drawEdgeArrow(A,B,"source"),o.drawEdgeArrow(A,B,"target"),o.drawTexture(A,B,"edge-label"))},f=t.data.contexts[t.WEBGL];r.screen?(f.clearColor(0,0,0,0),f.enable(f.BLEND),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA)):f.disable(f.BLEND),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.viewport(0,0,f.canvas.width,f.canvas.height);var c=Rk(t),d=t.getCachedZSortedEles();if(u=d.length,o.startFrame(c,i,r),r.screen){for(var v=0;v<d.nondrag.length;v++)l(d.nondrag[v],v);for(var g=0;g<d.drag.length;g++)l(d.drag[g],-1)}else if(r.picking)for(var y=0;y<d.length;y++)l(d[y],y);o.endFrame(),t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,o.gc()),r.screen&&t.webglDebugShowAtlases&&(Nk(t),Ok(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var p=performance.now(),w=!0,x=0,E=0,b=Ir(i),S;try{for(b.s();!(S=b.n()).done;){var T=S.value;x++,E+=T.count}}catch(R){b.e(R)}finally{b.f()}var O=Math.ceil(p-n),L="".concat(u," elements, ").concat(E," rectangles, ").concat(x," batches");if(w)console.log("WebGL (".concat(r.name,") - ").concat(L));else{console.log("WebGL render (".concat(r.name,") - frame time ").concat(O,"ms")),console.log("  ".concat(L)),console.log("Texture Atlases Used:");var M=o.getAtlasDebugInfo(),_=Ir(M),P;try{for(_.s();!(P=_.n()).done;){var N=P.value;console.log("  ".concat(N.type,": ").concat(N.keyCount," keys, ").concat(N.atlasCount," atlases"))}}catch(R){_.e(R)}finally{_.f()}console.log("")}}}var ba={};ba.drawPolygonPath=function(t,e,r,n,i,o){var u=n/2,l=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+u*o[0],r+l*o[1]);for(var f=1;f<o.length/2;f++)t.lineTo(e+u*o[f*2],r+l*o[f*2+1]);t.closePath()};ba.drawRoundPolygonPath=function(t,e,r,n,i,o,u){u.forEach(function(l){return vm(t,l)}),t.closePath()};ba.drawRoundRectanglePath=function(t,e,r,n,i,o){var u=n/2,l=i/2,f=o==="auto"?$a(n,i):Math.min(o,l,u);t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.arcTo(e+u,r-l,e+u,r,f),t.arcTo(e+u,r+l,e,r+l,f),t.arcTo(e-u,r+l,e-u,r,f),t.arcTo(e-u,r-l,e,r-l,f),t.lineTo(e,r-l),t.closePath()};ba.drawBottomRoundRectanglePath=function(t,e,r,n,i,o){var u=n/2,l=i/2,f=o==="auto"?$a(n,i):o;t.beginPath&&t.beginPath(),t.moveTo(e,r-l),t.lineTo(e+u,r-l),t.lineTo(e+u,r),t.arcTo(e+u,r+l,e,r+l,f),t.arcTo(e-u,r+l,e-u,r,f),t.lineTo(e-u,r-l),t.lineTo(e,r-l),t.closePath()};ba.drawCutRectanglePath=function(t,e,r,n,i,o,u){var l=n/2,f=i/2,c=u==="auto"?hd():u;t.beginPath&&t.beginPath(),t.moveTo(e-l+c,r-f),t.lineTo(e+l-c,r-f),t.lineTo(e+l,r-f+c),t.lineTo(e+l,r+f-c),t.lineTo(e+l-c,r+f),t.lineTo(e-l+c,r+f),t.lineTo(e-l,r+f-c),t.lineTo(e-l,r-f+c),t.closePath()};ba.drawBarrelPath=function(t,e,r,n,i){var o=n/2,u=i/2,l=e-o,f=e+o,c=r-u,d=r+u,v=qc(n,i),g=v.widthOffset,y=v.heightOffset,p=v.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(l,c+y),t.lineTo(l,d-y),t.quadraticCurveTo(l+p,d,l+g,d),t.lineTo(f-g,d),t.quadraticCurveTo(f-p,d,f,d-y),t.lineTo(f,c+y),t.quadraticCurveTo(f-p,c,f-g,c),t.lineTo(l+g,c),t.quadraticCurveTo(l+p,c,l,c+y),t.closePath()};var Tp=Math.sin(0),_p=Math.cos(0),td={},rd={},Mm=Math.PI/40;for(var Pi=0*Math.PI;Pi<2*Math.PI;Pi+=Mm)td[Pi]=Math.sin(Pi),rd[Pi]=Math.cos(Pi);ba.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var o,u,l=n/2,f=i/2,c=0*Math.PI;c<2*Math.PI;c+=Mm)o=e-l*td[c]*Tp+l*rd[c]*_p,u=r+f*rd[c]*Tp+f*td[c]*_p,c===0?t.moveTo(o,u):t.lineTo(o,u);t.closePath()};var bs={};bs.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};bs.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),o=t.full?Math.ceil(n.w):i[2],u=t.full?Math.ceil(n.h):i[3],l=Ee(t.maxWidth)||Ee(t.maxHeight),f=this.getPixelRatio(),c=1;if(t.scale!==void 0)o*=t.scale,u*=t.scale,c=t.scale;else if(l){var d=1/0,v=1/0;Ee(t.maxWidth)&&(d=c*t.maxWidth/o),Ee(t.maxHeight)&&(v=c*t.maxHeight/u),c=Math.min(d,v),o*=c,u*=c}l||(o*=f,u*=f,c*=f);var g=document.createElement("canvas");g.width=o,g.height=u,g.style.width=o+"px",g.style.height=u+"px";var y=g.getContext("2d");if(o>0&&u>0){y.clearRect(0,0,o,u),y.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)y.translate(-n.x1*c,-n.y1*c),y.scale(c,c),this.drawElements(y,p),y.scale(1/c,1/c),y.translate(n.x1*c,n.y1*c);else{var w=e.pan(),x={x:w.x*c,y:w.y*c};c*=e.zoom(),y.translate(x.x,x.y),y.scale(c,c),this.drawElements(y,p),y.scale(1/c,1/c),y.translate(-x.x,-x.y)}t.bg&&(y.globalCompositeOperation="destination-over",y.fillStyle=t.bg,y.rect(0,0,o,u),y.fill())}return g};function Fk(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return new Blob([n],{type:e})}function Dp(t){var e=t.indexOf(",");return t.substr(e+1)}function Nm(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new qi(function(i,o){try{e.toBlob(function(u){u!=null?i(u):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(u){o(u)}});case"blob":return Fk(Dp(n()),r);case"base64":return Dp(n());case"base64uri":default:return n()}}bs.png=function(t){return Nm(t,this.bufferCanvasImage(t),"image/png")};bs.jpg=function(t){return Nm(t,this.bufferCanvasImage(t),"image/jpeg")};var Om={};Om.nodeShapeImpl=function(t,e,r,n,i,o,u,l){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,o);case"polygon":return this.drawPolygonPath(e,r,n,i,o,u);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,o,u,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,o,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,o,u,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,o,l);case"barrel":return this.drawBarrelPath(e,r,n,i,o)}};var Vk=Im,Ze=Im.prototype;Ze.CANVAS_LAYERS=3;Ze.SELECT_BOX=0;Ze.DRAG=1;Ze.NODE=2;Ze.WEBGL=3;Ze.CANVAS_TYPES=["2d","2d","2d","webgl2"];Ze.BUFFER_COUNT=3;Ze.TEXTURE_BUFFER=0;Ze.MOTIONBLUR_BUFFER_NODE=1;Ze.MOTIONBLUR_BUFFER_DRAG=2;function Im(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Ze.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Ze.CANVAS_LAYERS),contexts:new Array(Ze.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ze.CANVAS_LAYERS),bufferCanvases:new Array(Ze.BUFFER_COUNT),bufferContexts:new Array(Ze.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var u=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=o,u.position="relative",u.zIndex="0",u.overflow="hidden";var l=t.cy.container();l.appendChild(e.data.canvasContainer),l.style[i]=o;var f={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};iw()&&(f["-ms-touch-action"]="none",f["touch-action"]="none");for(var c=0;c<Ze.CANVAS_LAYERS;c++){var d=e.data.canvases[c]=n.createElement("canvas"),v=Ze.CANVAS_TYPES[c];e.data.contexts[c]=d.getContext(v),e.data.contexts[c]||Ct("Could not create canvas of type "+v),Object.keys(f).forEach(function(Y){d.style[Y]=f[Y]}),d.style.position="absolute",d.setAttribute("data-id","layer"+c),d.style.zIndex=String(Ze.CANVAS_LAYERS-c),e.data.canvasContainer.appendChild(d),e.data.canvasNeedsRedraw[c]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Ze.NODE].setAttribute("data-id","layer"+Ze.NODE+"-node"),e.data.canvases[Ze.SELECT_BOX].setAttribute("data-id","layer"+Ze.SELECT_BOX+"-selectbox"),e.data.canvases[Ze.DRAG].setAttribute("data-id","layer"+Ze.DRAG+"-drag"),e.data.canvases[Ze.WEBGL]&&e.data.canvases[Ze.WEBGL].setAttribute("data-id","layer"+Ze.WEBGL+"-webgl");for(var c=0;c<Ze.BUFFER_COUNT;c++)e.data.bufferCanvases[c]=n.createElement("canvas"),e.data.bufferContexts[c]=e.data.bufferCanvases[c].getContext("2d"),e.data.bufferCanvases[c].style.position="absolute",e.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),e.data.bufferCanvases[c].style.zIndex=String(-c-1),e.data.bufferCanvases[c].style.visibility="hidden";e.pathsEnabled=!0;var g=Br(),y=function(j){return{x:(j.x1+j.x2)/2,y:(j.y1+j.y2)/2}},p=function(j){return{x:-j.w/2,y:-j.h/2}},w=function(j){var Q=j[0]._private,ce=Q.oldBackgroundTimestamp===Q.backgroundTimestamp;return!ce},x=function(j){return j[0]._private.nodeKey},E=function(j){return j[0]._private.labelStyleKey},b=function(j){return j[0]._private.sourceLabelStyleKey},S=function(j){return j[0]._private.targetLabelStyleKey},T=function(j,Q,ce,he,me){return e.drawElement(j,Q,ce,!1,!1,me)},O=function(j,Q,ce,he,me){return e.drawElementText(j,Q,ce,he,"main",me)},L=function(j,Q,ce,he,me){return e.drawElementText(j,Q,ce,he,"source",me)},M=function(j,Q,ce,he,me){return e.drawElementText(j,Q,ce,he,"target",me)},_=function(j){return j.boundingBox(),j[0]._private.bodyBounds},P=function(j){return j.boundingBox(),j[0]._private.labelBounds.main||g},N=function(j){return j.boundingBox(),j[0]._private.labelBounds.source||g},R=function(j){return j.boundingBox(),j[0]._private.labelBounds.target||g},A=function(j,Q){return Q},B=function(j){return y(_(j))},D=function(j,Q,ce){var he=j?j+"-":"";return{x:Q.x+ce.pstyle(he+"text-margin-x").pfValue,y:Q.y+ce.pstyle(he+"text-margin-y").pfValue}},z=function(j,Q,ce){var he=j[0]._private.rscratch;return{x:he[Q],y:he[ce]}},I=function(j){return D("",z(j,"labelX","labelY"),j)},G=function(j){return D("source",z(j,"sourceLabelX","sourceLabelY"),j)},U=function(j){return D("target",z(j,"targetLabelX","targetLabelY"),j)},q=function(j){return p(_(j))},$=function(j){return p(N(j))},V=function(j){return p(R(j))},W=function(j){var Q=P(j),ce=p(P(j));if(j.isNode()){switch(j.pstyle("text-halign").value){case"left":ce.x=-Q.w-(Q.leftPad||0);break;case"right":ce.x=-(Q.rightPad||0);break}switch(j.pstyle("text-valign").value){case"top":ce.y=-Q.h-(Q.topPad||0);break;case"bottom":ce.y=-(Q.botPad||0);break}}return ce},ee=e.data.eleTxrCache=new jo(e,{getKey:x,doesEleInvalidateKey:w,drawElement:T,getBoundingBox:_,getRotationPoint:B,getRotationOffset:q,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),J=e.data.lblTxrCache=new jo(e,{getKey:E,drawElement:O,getBoundingBox:P,getRotationPoint:I,getRotationOffset:W,isVisible:A}),te=e.data.slbTxrCache=new jo(e,{getKey:b,drawElement:L,getBoundingBox:N,getRotationPoint:G,getRotationOffset:$,isVisible:A}),re=e.data.tlbTxrCache=new jo(e,{getKey:S,drawElement:M,getBoundingBox:R,getRotationPoint:U,getRotationOffset:V,isVisible:A}),fe=e.data.lyrTxrCache=new Sm(e);e.onUpdateEleCalcs(function(j,Q){ee.invalidateElements(Q),J.invalidateElements(Q),te.invalidateElements(Q),re.invalidateElements(Q),fe.invalidateElements(Q);for(var ce=0;ce<Q.length;ce++){var he=Q[ce]._private;he.oldBackgroundTimestamp=he.backgroundTimestamp}});var ue=function(j){for(var Q=0;Q<j.length;Q++)fe.enqueueElementRefinement(j[Q].ele)};ee.onDequeue(ue),J.onDequeue(ue),te.onDequeue(ue),re.onDequeue(ue),t.webgl&&e.initWebgl(t,{getStyleKey:x,getLabelKey:E,drawElement:T,drawLabel:O,getElementBox:_,getLabelBox:P,getElementRotationPoint:B,getElementRotationOffset:q,getLabelRotationPoint:I,getLabelRotationOffset:W})}Ze.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Ze.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Ze.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Ze.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var Gk=typeof Path2D<"u";Ze.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Ze.usePaths=function(){return Gk&&this.pathsEnabled};Ze.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Ze.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Ze.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Vt(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[Cm,xn,On,_d,ja,Qi,Er,Bm,ba,bs,Om].forEach(function(t){Ue(Ze,t)});var Uk=[{name:"null",impl:fm},{name:"base",impl:xm},{name:"canvas",impl:Vk}],qk=[{type:"layout",extensions:CC},{type:"renderer",extensions:Uk}],zm={},Fm={};function Vm(t,e,r){var n=r,i=function(_){ut("Can not register `"+e+"` for `"+t+"` since `"+_+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(cs.prototype[e])return i(e);cs.prototype[e]=r}else if(t==="collection"){if(er.prototype[e])return i(e);er.prototype[e]=r}else if(t==="layout"){for(var o=function(_){this.options=_,r.call(this,_),nt(this._private)||(this._private={}),this._private.cy=_.cy,this._private.listeners=[],this.createEmitter()},u=o.prototype=Object.create(r.prototype),l=[],f=0;f<l.length;f++){var c=l[f];u[c]=u[c]||function(){return this}}u.start&&!u.run?u.run=function(){return this.start(),this}:!u.start&&u.run&&(u.start=function(){return this.run(),this});var d=r.prototype.stop;u.stop=function(){var M=this.options;if(M&&M.animate){var _=this.animations;if(_)for(var P=0;P<_.length;P++)_[P].stop()}return d?d.call(this):this.emit("layoutstop"),this},u.destroy||(u.destroy=function(){return this}),u.cy=function(){return this._private.cy};var v=function(_){return _._private.cy},g={addEventFields:function(_,P){P.layout=_,P.cy=v(_),P.target=_},bubble:function(){return!0},parent:function(_){return v(_)}};Ue(u,{createEmitter:function(){return this._private.emitter=new Dl(g,this),this},emitter:function(){return this._private.emitter},on:function(_,P){return this.emitter().on(_,P),this},one:function(_,P){return this.emitter().one(_,P),this},once:function(_,P){return this.emitter().one(_,P),this},removeListener:function(_,P){return this.emitter().removeListener(_,P),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(_,P){return this.emitter().emit(_,P),this}}),st.eventAliasesOn(u),n=o}else if(t==="renderer"&&e!=="null"&&e!=="base"){var y=Gm("renderer","base"),p=y.prototype,w=r,x=r.prototype,E=function(){y.apply(this,arguments),w.apply(this,arguments)},b=E.prototype;for(var S in p){var T=p[S],O=x[S]!=null;if(O)return i(S);b[S]=T}for(var L in x)b[L]=x[L];p.clientFunctions.forEach(function(M){b[M]=b[M]||function(){Ct("Renderer does not implement `renderer."+M+"()` on its prototype")}}),n=E}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Ct(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return ay({map:zm,keys:[t,e],value:n})}function Gm(t,e){return iy({map:zm,keys:[t,e]})}function Hk(t,e,r,n,i){return ay({map:Fm,keys:[t,e,r,n],value:i})}function $k(t,e,r,n){return iy({map:Fm,keys:[t,e,r,n]})}var nd=function(){if(arguments.length===2)return Gm.apply(null,arguments);if(arguments.length===3)return Vm.apply(null,arguments);if(arguments.length===4)return $k.apply(null,arguments);if(arguments.length===5)return Hk.apply(null,arguments);Ct("Invalid extension access syntax")};cs.prototype.extension=nd;qk.forEach(function(t){t.extensions.forEach(function(e){Vm(t.type,e.name,e.impl)})});var Um=function t(){if(!(this instanceof t))return new t;this.length=0},Xa=Um.prototype;Xa.instanceString=function(){return"stylesheet"};Xa.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Xa.css=function(t,e){var r=this.length-1;if(Ne(t))this[r].properties.push({name:t,value:e});else if(nt(t))for(var n=t,i=Object.keys(n),o=0;o<i.length;o++){var u=i[o],l=n[u];if(l!=null){var f=dr.properties[u]||dr.properties[xl(u)];if(f!=null){var c=f.name,d=l;this[r].properties.push({name:c,value:d})}}}return this};Xa.style=Xa.css;Xa.generateStyle=function(t){var e=new dr(t);return this.appendToStyle(e)};Xa.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var o=0;o<i.length;o++){var u=i[o];t.css(u.name,u.value)}}return t};var Wk="3.31.0",ya=function(e){if(e===void 0&&(e={}),nt(e))return new cs(e);if(Ne(e))return nd.apply(nd,arguments)};ya.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(ya),t.apply(null,e),this};ya.warnings=function(t){return vy(t)};ya.version=Wk;ya.stylesheet=ya.Stylesheet=Um;var sl={exports:{}},Fc={},Ti={},Vc={},Bn={},Ap;function qm(){if(Ap)return Bn;Ap=1,Object.defineProperty(Bn,"__esModule",{value:!0});var t=function(){function f(c,d,v){this.source=c,this.target=d,this.type=v}return f}();Bn.PowerEdge=t;var e=function(){function f(c,d,v,g){var y=this;if(this.linkAccessor=v,this.modules=new Array(c),this.roots=[],g)this.initModulesFromGroup(g);else{this.roots.push(new o);for(var p=0;p<c;++p)this.roots[0].add(this.modules[p]=new n(p))}this.R=d.length,d.forEach(function(w){var x=y.modules[v.getSourceIndex(w)],E=y.modules[v.getTargetIndex(w)],b=v.getType(w);x.outgoing.add(b,E),E.incoming.add(b,x)})}return f.prototype.initModulesFromGroup=function(c){var d=new o;this.roots.push(d);for(var v=0;v<c.leaves.length;++v){var g=c.leaves[v],y=new n(g.id);this.modules[g.id]=y,d.add(y)}if(c.groups)for(var p=0;p<c.groups.length;++p){var w=c.groups[p],x={};for(var E in w)E!=="leaves"&&E!=="groups"&&w.hasOwnProperty(E)&&(x[E]=w[E]);d.add(new n(-1-p,new u,new u,this.initModulesFromGroup(w),x))}return d},f.prototype.merge=function(c,d,v){v===void 0&&(v=0);var g=c.incoming.intersection(d.incoming),y=c.outgoing.intersection(d.outgoing),p=new o;p.add(c),p.add(d);var w=new n(this.modules.length,y,g,p);this.modules.push(w);var x=function(E,b,S){E.forAll(function(T,O){T.forAll(function(L){var M=L[b];M.add(O,w),M.remove(O,c),M.remove(O,d),c[S].remove(O,L),d[S].remove(O,L)})})};return x(y,"incoming","outgoing"),x(g,"outgoing","incoming"),this.R-=g.count()+y.count(),this.roots[v].remove(c),this.roots[v].remove(d),this.roots[v].add(w),w},f.prototype.rootMerges=function(c){c===void 0&&(c=0);for(var d=this.roots[c].modules(),v=d.length,g=new Array(v*(v-1)),y=0,p=0,w=v-1;p<w;++p)for(var x=p+1;x<v;++x){var E=d[p],b=d[x];g[y]={id:y,nEdges:this.nEdges(E,b),a:E,b},y++}return g},f.prototype.greedyMerge=function(){for(var c=0;c<this.roots.length;++c)if(!(this.roots[c].modules().length<2)){var d=this.rootMerges(c).sort(function(g,y){return g.nEdges==y.nEdges?g.id-y.id:g.nEdges-y.nEdges}),v=d[0];if(!(v.nEdges>=this.R))return this.merge(v.a,v.b,c),!0}},f.prototype.nEdges=function(c,d){var v=c.incoming.intersection(d.incoming),g=c.outgoing.intersection(d.outgoing);return this.R-v.count()-g.count()},f.prototype.getGroupHierarchy=function(c){var d=this,v=[],g={};r(this.roots[0],g,v);var y=this.allEdges();return y.forEach(function(p){var w=d.modules[p.source],x=d.modules[p.target];c.push(new t(typeof w.gid>"u"?p.source:v[w.gid],typeof x.gid>"u"?p.target:v[x.gid],p.type))}),v},f.prototype.allEdges=function(){var c=[];return f.getEdges(this.roots[0],c),c},f.getEdges=function(c,d){c.forAll(function(v){v.getEdges(d),f.getEdges(v.children,d)})},f}();Bn.Configuration=e;function r(f,c,d){f.forAll(function(v){if(v.isLeaf())c.leaves||(c.leaves=[]),c.leaves.push(v.id);else{var g=c;if(v.gid=d.length,!v.isIsland()||v.isPredefined()){if(g={id:v.gid},v.isPredefined())for(var y in v.definition)g[y]=v.definition[y];c.groups||(c.groups=[]),c.groups.push(v.gid),d.push(g)}r(v.children,g,d)}})}var n=function(){function f(c,d,v,g,y){d===void 0&&(d=new u),v===void 0&&(v=new u),g===void 0&&(g=new o),this.id=c,this.outgoing=d,this.incoming=v,this.children=g,this.definition=y}return f.prototype.getEdges=function(c){var d=this;this.outgoing.forAll(function(v,g){v.forAll(function(y){c.push(new t(d.id,y.id,g))})})},f.prototype.isLeaf=function(){return this.children.count()===0},f.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},f.prototype.isPredefined=function(){return typeof this.definition<"u"},f}();Bn.Module=n;function i(f,c){var d={};for(var v in f)v in c&&(d[v]=f[v]);return d}var o=function(){function f(){this.table={}}return f.prototype.count=function(){return Object.keys(this.table).length},f.prototype.intersection=function(c){var d=new f;return d.table=i(this.table,c.table),d},f.prototype.intersectionCount=function(c){return this.intersection(c).count()},f.prototype.contains=function(c){return c in this.table},f.prototype.add=function(c){this.table[c.id]=c},f.prototype.remove=function(c){delete this.table[c.id]},f.prototype.forAll=function(c){for(var d in this.table)c(this.table[d])},f.prototype.modules=function(){var c=[];return this.forAll(function(d){d.isPredefined()||c.push(d)}),c},f}();Bn.ModuleSet=o;var u=function(){function f(){this.sets={},this.n=0}return f.prototype.count=function(){return this.n},f.prototype.contains=function(c){var d=!1;return this.forAllModules(function(v){!d&&v.id==c&&(d=!0)}),d},f.prototype.add=function(c,d){var v=c in this.sets?this.sets[c]:this.sets[c]=new o;v.add(d),++this.n},f.prototype.remove=function(c,d){var v=this.sets[c];v.remove(d),v.count()===0&&delete this.sets[c],--this.n},f.prototype.forAll=function(c){for(var d in this.sets)c(this.sets[d],Number(d))},f.prototype.forAllModules=function(c){this.forAll(function(d,v){return d.forAll(c)})},f.prototype.intersection=function(c){var d=new f;return this.forAll(function(v,g){if(g in c.sets){var y=v.intersection(c.sets[g]),p=y.count();p>0&&(d.sets[g]=y,d.n+=p)}}),d},f}();Bn.LinkSets=u;function l(f,c,d,v){for(var g=f.length,y=new e(g,c,d,v);y.greedyMerge(););var p=[],w=y.getGroupHierarchy(p);return p.forEach(function(x){var E=function(b){var S=x[b];typeof S=="number"&&(x[b]=f[S])};E("source"),E("target")}),{groups:w,powerEdges:p}}return Bn.getGroups=l,Bn}var Na={},Bp;function Bd(){if(Bp)return Na;Bp=1,Object.defineProperty(Na,"__esModule",{value:!0});function t(f,c){var d={};for(var v in f)d[v]={};for(var v in c)d[v]={};return Object.keys(d).length}function e(f,c){var d=0;for(var v in f)typeof c[v]<"u"&&++d;return d}function r(f,c){var d={},v=function(g,y){typeof d[g]>"u"&&(d[g]={}),d[g][y]={}};return f.forEach(function(g){var y=c.getSourceIndex(g),p=c.getTargetIndex(g);v(y,p),v(p,y)}),d}function n(f,c,d,v){var g=r(f,v);f.forEach(function(y){var p=g[v.getSourceIndex(y)],w=g[v.getTargetIndex(y)];v.setLength(y,1+c*d(p,w))})}function i(f,c,d){d===void 0&&(d=1),n(f,d,function(v,g){return Math.sqrt(t(v,g)-e(v,g))},c)}Na.symmetricDiffLinkLengths=i;function o(f,c,d){d===void 0&&(d=1),n(f,d,function(v,g){return Math.min(Object.keys(v).length,Object.keys(g).length)<1.1?0:e(v,g)/t(v,g)},c)}Na.jaccardLinkLengths=o;function u(f,c,d,v){var g=l(f,c,v),y={};g.forEach(function(w,x){return w.forEach(function(E){return y[E]=x})});var p=[];return c.forEach(function(w){var x=v.getSourceIndex(w),E=v.getTargetIndex(w),b=y[x],S=y[E];b!==S&&p.push({axis:d,left:x,right:E,gap:v.getMinSeparation(w)})}),p}Na.generateDirectedEdgeConstraints=u;function l(f,c,d){var v=[],g=0,y=[],p=[];function w(P){P.index=P.lowlink=g++,y.push(P),P.onStack=!0;for(var N=0,R=P.out;N<R.length;N++){var A=R[N];typeof A.index>"u"?(w(A),P.lowlink=Math.min(P.lowlink,A.lowlink)):A.onStack&&(P.lowlink=Math.min(P.lowlink,A.index))}if(P.lowlink===P.index){for(var B=[];y.length&&(A=y.pop(),A.onStack=!1,B.push(A),A!==P););p.push(B.map(function(D){return D.id}))}}for(var x=0;x<f;x++)v.push({id:x,out:[]});for(var E=0,b=c;E<b.length;E++){var S=b[E],T=v[d.getSourceIndex(S)],O=v[d.getTargetIndex(S)];T.out.push(O)}for(var L=0,M=v;L<M.length;L++){var _=M[L];typeof _.index>"u"&&w(_)}return p}return Na.stronglyConnectedComponents=l,Na}var _i={},Lp;function Ld(){if(Lp)return _i;Lp=1,Object.defineProperty(_i,"__esModule",{value:!0});var t=function(){function n(){this.locks={}}return n.prototype.add=function(i,o){this.locks[i]=o},n.prototype.clear=function(){this.locks={}},n.prototype.isEmpty=function(){for(var i in this.locks)return!1;return!0},n.prototype.apply=function(i){for(var o in this.locks)i(Number(o),this.locks[o])},n}();_i.Locks=t;var e=function(){function n(i,o,u){u===void 0&&(u=null),this.D=o,this.G=u,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new r,this.project=null,this.x=i,this.k=i.length;var l=this.n=i[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new t,this.minD=Number.MAX_VALUE;for(var f=l,c;f--;)for(c=l;--c>f;){var d=o[f][c];d>0&&d<this.minD&&(this.minD=d)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),f=this.k;f--;){for(this.g[f]=new Array(l),this.H[f]=new Array(l),c=l;c--;)this.H[f][c]=new Array(l);this.Hd[f]=new Array(l),this.a[f]=new Array(l),this.b[f]=new Array(l),this.c[f]=new Array(l),this.d[f]=new Array(l),this.e[f]=new Array(l),this.ia[f]=new Array(l),this.ib[f]=new Array(l),this.xtmp[f]=new Array(l)}}return n.createSquareMatrix=function(i,o){for(var u=new Array(i),l=0;l<i;++l){u[l]=new Array(i);for(var f=0;f<i;++f)u[l][f]=o(l,f)}return u},n.prototype.offsetDir=function(){for(var i=this,o=new Array(this.k),u=0,l=0;l<this.k;++l){var f=o[l]=this.random.getNextBetween(.01,1)-.5;u+=f*f}return u=Math.sqrt(u),o.map(function(c){return c*=i.minD/u})},n.prototype.computeDerivatives=function(i){var o=this,u=this.n;if(!(u<1)){for(var l,f=new Array(this.k),c=new Array(this.k),d=new Array(this.k),v=0,g=0;g<u;++g){for(l=0;l<this.k;++l)d[l]=this.g[l][g]=0;for(var y=0;y<u;++y)if(g!==y){for(var p=u;p--;){var w=0;for(l=0;l<this.k;++l){var x=f[l]=i[l][g]-i[l][y];w+=c[l]=x*x}if(w>1e-9)break;var E=this.offsetDir();for(l=0;l<this.k;++l)i[l][y]+=E[l]}var b=Math.sqrt(w),S=this.D[g][y],T=this.G!=null?this.G[g][y]:1;if(T>1&&b>S||!isFinite(S)){for(l=0;l<this.k;++l)this.H[l][g][y]=0;continue}T>1&&(T=1);var O=S*S,L=2*T*(b-S)/(O*b),M=b*b*b,_=2*-T/(O*M);for(isFinite(L)||console.log(L),l=0;l<this.k;++l)this.g[l][g]+=f[l]*L,d[l]-=this.H[l][g][y]=_*(M+S*(c[l]-w)+b*w)}for(l=0;l<this.k;++l)v=Math.max(v,this.H[l][g][g]=d[l])}for(var P=this.snapGridSize/2,N=this.snapGridSize,R=this.snapStrength,A=R/(P*P),B=this.numGridSnapNodes,g=0;g<B;++g)for(l=0;l<this.k;++l){var D=this.x[l][g],z=D/N,I=z%1,G=z-I,U=Math.abs(I),x=U<=.5?D-G*N:D>0?D-(G+1)*N:D-(G-1)*N;-P<x&&x<=P&&(this.scaleSnapByMaxH?(this.g[l][g]+=v*A*x,this.H[l][g][g]+=v*A):(this.g[l][g]+=A*x,this.H[l][g][g]+=A))}this.locks.isEmpty()||this.locks.apply(function(q,$){for(l=0;l<o.k;++l)o.H[l][q][q]+=v,o.g[l][q]-=v*($[l]-i[l][q])})}},n.dotProd=function(i,o){for(var u=0,l=i.length;l--;)u+=i[l]*o[l];return u},n.rightMultiply=function(i,o,u){for(var l=i.length;l--;)u[l]=n.dotProd(i[l],o)},n.prototype.computeStepSize=function(i){for(var o=0,u=0,l=0;l<this.k;++l)o+=n.dotProd(this.g[l],i[l]),n.rightMultiply(this.H[l],i[l],this.Hd[l]),u+=n.dotProd(i[l],this.Hd[l]);return u===0||!isFinite(u)?0:1*o/u},n.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var i=this.computeStepSize(this.g),o=0;o<this.k;++o)this.takeDescentStep(this.x[o],this.g[o],i);return this.computeStress()},n.copy=function(i,o){for(var u=i.length,l=o[0].length,f=0;f<u;++f)for(var c=0;c<l;++c)o[f][c]=i[f][c]},n.prototype.stepAndProject=function(i,o,u,l){n.copy(i,o),this.takeDescentStep(o[0],u[0],l),this.project&&this.project[0](i[0],i[1],o[0]),this.takeDescentStep(o[1],u[1],l),this.project&&this.project[1](o[0],i[1],o[1]);for(var f=2;f<this.k;f++)this.takeDescentStep(o[f],u[f],l)},n.mApply=function(i,o,u){for(var l=i;l-- >0;)for(var f=o;f-- >0;)u(l,f)},n.prototype.matrixApply=function(i){n.mApply(this.k,this.n,i)},n.prototype.computeNextPosition=function(i,o){var u=this;this.computeDerivatives(i);var l=this.computeStepSize(this.g);if(this.stepAndProject(i,o,this.g,l),this.project){this.matrixApply(function(c,d){return u.e[c][d]=i[c][d]-o[c][d]});var f=this.computeStepSize(this.e);f=Math.max(.2,Math.min(f,1)),this.stepAndProject(i,o,this.e,f)}},n.prototype.run=function(i){for(var o=Number.MAX_VALUE,u=!1;!u&&i-- >0;){var l=this.rungeKutta();u=Math.abs(o/l-1)<this.threshold,o=l}return o},n.prototype.rungeKutta=function(){var i=this;this.computeNextPosition(this.x,this.a),n.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),n.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var o=0;return this.matrixApply(function(u,l){var f=(i.a[u][l]+2*i.b[u][l]+2*i.c[u][l]+i.d[u][l])/6,c=i.x[u][l]-f;o+=c*c,i.x[u][l]=f}),o},n.mid=function(i,o,u){n.mApply(i.length,i[0].length,function(l,f){return u[l][f]=i[l][f]+(o[l][f]-i[l][f])/2})},n.prototype.takeDescentStep=function(i,o,u){for(var l=0;l<this.n;++l)i[l]=i[l]-u*o[l]},n.prototype.computeStress=function(){for(var i=0,o=0,u=this.n-1;o<u;++o)for(var l=o+1,f=this.n;l<f;++l){for(var c=0,d=0;d<this.k;++d){var v=this.x[d][o]-this.x[d][l];c+=v*v}c=Math.sqrt(c);var g=this.D[o][l];if(isFinite(g)){var y=g-c,p=g*g;i+=y*y/p}}return i},n.zeroDistance=1e-10,n}();_i.Descent=e;var r=function(){function n(i){i===void 0&&(i=1),this.seed=i,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return n.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},n.prototype.getNextBetween=function(i,o){return i+this.getNext()*(o-i)},n}();return _i.PseudoRandom=r,_i}var xr={},vn={},Rp;function Rd(){if(Rp)return vn;Rp=1,Object.defineProperty(vn,"__esModule",{value:!0});var t=function(){function l(f){this.scale=f,this.AB=0,this.AD=0,this.A2=0}return l.prototype.addVariable=function(f){var c=this.scale/f.scale,d=f.offset/f.scale,v=f.weight;this.AB+=v*c*d,this.AD+=v*c*f.desiredPosition,this.A2+=v*c*c},l.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},l}();vn.PositionStats=t;var e=function(){function l(f,c,d,v){v===void 0&&(v=!1),this.left=f,this.right=c,this.gap=d,this.equality=v,this.active=!1,this.unsatisfiable=!1,this.left=f,this.right=c,this.gap=d,this.equality=v}return l.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},l}();vn.Constraint=e;var r=function(){function l(f,c,d){c===void 0&&(c=1),d===void 0&&(d=1),this.desiredPosition=f,this.weight=c,this.scale=d,this.offset=0}return l.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},l.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},l.prototype.visitNeighbours=function(f,c){var d=function(v,g){return v.active&&f!==g&&c(v,g)};this.cOut.forEach(function(v){return d(v,v.right)}),this.cIn.forEach(function(v){return d(v,v.left)})},l}();vn.Variable=r;var n=function(){function l(f){this.vars=[],f.offset=0,this.ps=new t(f.scale),this.addVariable(f)}return l.prototype.addVariable=function(f){f.block=this,this.vars.push(f),this.ps.addVariable(f),this.posn=this.ps.getPosn()},l.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var f=0,c=this.vars.length;f<c;++f)this.ps.addVariable(this.vars[f]);this.posn=this.ps.getPosn()},l.prototype.compute_lm=function(f,c,d){var v=this,g=f.dfdv();return f.visitNeighbours(c,function(y,p){var w=v.compute_lm(p,f,d);p===y.right?(g+=w*y.left.scale,y.lm=w):(g+=w*y.right.scale,y.lm=-w),d(y)}),g/f.scale},l.prototype.populateSplitBlock=function(f,c){var d=this;f.visitNeighbours(c,function(v,g){g.offset=f.offset+(g===v.right?v.gap:-v.gap),d.addVariable(g),d.populateSplitBlock(g,f)})},l.prototype.traverse=function(f,c,d,v){var g=this;d===void 0&&(d=this.vars[0]),v===void 0&&(v=null),d.visitNeighbours(v,function(y,p){c.push(f(y)),g.traverse(f,c,p,d)})},l.prototype.findMinLM=function(){var f=null;return this.compute_lm(this.vars[0],null,function(c){!c.equality&&(f===null||c.lm<f.lm)&&(f=c)}),f},l.prototype.findMinLMBetween=function(f,c){this.compute_lm(f,null,function(){});var d=null;return this.findPath(f,null,c,function(v,g){!v.equality&&v.right===g&&(d===null||v.lm<d.lm)&&(d=v)}),d},l.prototype.findPath=function(f,c,d,v){var g=this,y=!1;return f.visitNeighbours(c,function(p,w){!y&&(w===d||g.findPath(w,f,d,v))&&(y=!0,v(p,w))}),y},l.prototype.isActiveDirectedPathBetween=function(f,c){if(f===c)return!0;for(var d=f.cOut.length;d--;){var v=f.cOut[d];if(v.active&&this.isActiveDirectedPathBetween(v.right,c))return!0}return!1},l.split=function(f){return f.active=!1,[l.createSplitBlock(f.left),l.createSplitBlock(f.right)]},l.createSplitBlock=function(f){var c=new l(f);return c.populateSplitBlock(f,null),c},l.prototype.splitBetween=function(f,c){var d=this.findMinLMBetween(f,c);if(d!==null){var v=l.split(d);return{constraint:d,lb:v[0],rb:v[1]}}return null},l.prototype.mergeAcross=function(f,c,d){c.active=!0;for(var v=0,g=f.vars.length;v<g;++v){var y=f.vars[v];y.offset+=d,this.addVariable(y)}this.posn=this.ps.getPosn()},l.prototype.cost=function(){for(var f=0,c=this.vars.length;c--;){var d=this.vars[c],v=d.position()-d.desiredPosition;f+=v*v*d.weight}return f},l}();vn.Block=n;var i=function(){function l(f){this.vs=f;var c=f.length;for(this.list=new Array(c);c--;){var d=new n(f[c]);this.list[c]=d,d.blockInd=c}}return l.prototype.cost=function(){for(var f=0,c=this.list.length;c--;)f+=this.list[c].cost();return f},l.prototype.insert=function(f){f.blockInd=this.list.length,this.list.push(f)},l.prototype.remove=function(f){var c=this.list.length-1,d=this.list[c];this.list.length=c,f!==d&&(this.list[f.blockInd]=d,d.blockInd=f.blockInd)},l.prototype.merge=function(f){var c=f.left.block,d=f.right.block,v=f.right.offset-f.left.offset-f.gap;c.vars.length<d.vars.length?(d.mergeAcross(c,f,v),this.remove(c)):(c.mergeAcross(d,f,-v),this.remove(d))},l.prototype.forEach=function(f){this.list.forEach(f)},l.prototype.updateBlockPositions=function(){this.list.forEach(function(f){return f.updateWeightedPosition()})},l.prototype.split=function(f){var c=this;this.updateBlockPositions(),this.list.forEach(function(d){var v=d.findMinLM();v!==null&&v.lm<o.LAGRANGIAN_TOLERANCE&&(d=v.left.block,n.split(v).forEach(function(g){return c.insert(g)}),c.remove(d),f.push(v))})},l}();vn.Blocks=i;var o=function(){function l(f,c){this.vs=f,this.cs=c,this.vs=f,f.forEach(function(d){d.cIn=[],d.cOut=[]}),this.cs=c,c.forEach(function(d){d.left.cOut.push(d),d.right.cIn.push(d)}),this.inactive=c.map(function(d){return d.active=!1,d}),this.bs=null}return l.prototype.cost=function(){return this.bs.cost()},l.prototype.setStartingPositions=function(f){this.inactive=this.cs.map(function(c){return c.active=!1,c}),this.bs=new i(this.vs),this.bs.forEach(function(c,d){return c.posn=f[d]})},l.prototype.setDesiredPositions=function(f){this.vs.forEach(function(c,d){return c.desiredPosition=f[d]})},l.prototype.mostViolated=function(){for(var f=Number.MAX_VALUE,c=null,d=this.inactive,v=d.length,g=v,y=0;y<v;++y){var p=d[y];if(!p.unsatisfiable){var w=p.slack();if((p.equality||w<f)&&(f=w,c=p,g=y,p.equality))break}}return g!==v&&(f<l.ZERO_UPPERBOUND&&!c.active||c.equality)&&(d[g]=d[v-1],d.length=v-1),c},l.prototype.satisfy=function(){this.bs==null&&(this.bs=new i(this.vs)),this.bs.split(this.inactive);for(var f=null;(f=this.mostViolated())&&(f.equality||f.slack()<l.ZERO_UPPERBOUND&&!f.active);){var c=f.left.block,d=f.right.block;if(c!==d)this.bs.merge(f);else{if(c.isActiveDirectedPathBetween(f.right,f.left)){f.unsatisfiable=!0;continue}var v=c.splitBetween(f.left,f.right);if(v!==null)this.bs.insert(v.lb),this.bs.insert(v.rb),this.bs.remove(c),this.inactive.push(v.constraint);else{f.unsatisfiable=!0;continue}f.slack()>=0?this.inactive.push(f):this.bs.merge(f)}}},l.prototype.solve=function(){this.satisfy();for(var f=Number.MAX_VALUE,c=this.bs.cost();Math.abs(f-c)>1e-4;)this.satisfy(),f=c,c=this.bs.cost();return c},l.LAGRANGIAN_TOLERANCE=-1e-4,l.ZERO_UPPERBOUND=-1e-10,l}();vn.Solver=o;function u(l,f,c){for(var d=l.map(function(M){return new r(M.desiredCenter)}),v=[],g=l.length,y=0;y<g-1;y++){var p=l[y],w=l[y+1];v.push(new e(d[y],d[y+1],(p.size+w.size)/2))}var x=d[0],E=d[g-1],b=l[0].size/2,S=l[g-1].size/2,T=null,O=null;f&&(T=new r(f,x.weight*1e3),d.push(T),v.push(new e(T,x,b))),c&&(O=new r(c,E.weight*1e3),d.push(O),v.push(new e(E,O,S)));var L=new o(d,v);return L.solve(),{newCenters:d.slice(0,l.length).map(function(M){return M.position()}),lowerBound:T?T.position():x.position()-b,upperBound:O?O.position():E.position()+S}}return vn.removeOverlapInOneDimension=u,vn}var Oa={},Mp;function Hm(){if(Mp)return Oa;Mp=1;var t=Oa.__extends||function(){var o=function(u,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])},o(u,l)};return function(u,l){o(u,l);function f(){this.constructor=u}u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}();Object.defineProperty(Oa,"__esModule",{value:!0});var e=function(){function o(){this.findIter=function(u){for(var l=this._root,f=this.iterator();l!==null;){var c=this._comparator(u,l.data);if(c===0)return f._cursor=l,f;f._ancestors.push(l),l=l.get_child(c>0)}return null}}return o.prototype.clear=function(){this._root=null,this.size=0},o.prototype.find=function(u){for(var l=this._root;l!==null;){var f=this._comparator(u,l.data);if(f===0)return l.data;l=l.get_child(f>0)}return null},o.prototype.lowerBound=function(u){return this._bound(u,this._comparator)},o.prototype.upperBound=function(u){var l=this._comparator;function f(c,d){return l(d,c)}return this._bound(u,f)},o.prototype.min=function(){var u=this._root;if(u===null)return null;for(;u.left!==null;)u=u.left;return u.data},o.prototype.max=function(){var u=this._root;if(u===null)return null;for(;u.right!==null;)u=u.right;return u.data},o.prototype.iterator=function(){return new r(this)},o.prototype.each=function(u){for(var l=this.iterator(),f;(f=l.next())!==null;)u(f)},o.prototype.reach=function(u){for(var l=this.iterator(),f;(f=l.prev())!==null;)u(f)},o.prototype._bound=function(u,l){for(var f=this._root,c=this.iterator();f!==null;){var d=this._comparator(u,f.data);if(d===0)return c._cursor=f,c;c._ancestors.push(f),f=f.get_child(d>0)}for(var v=c._ancestors.length-1;v>=0;--v)if(f=c._ancestors[v],l(u,f.data)>0)return c._cursor=f,c._ancestors.length=v,c;return c._ancestors.length=0,c},o}();Oa.TreeBase=e;var r=function(){function o(u){this._tree=u,this._ancestors=[],this._cursor=null}return o.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},o.prototype.next=function(){if(this._cursor===null){var u=this._tree._root;u!==null&&this._minNode(u)}else if(this._cursor.right===null){var l;do if(l=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===l)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},o.prototype.prev=function(){if(this._cursor===null){var u=this._tree._root;u!==null&&this._maxNode(u)}else if(this._cursor.left===null){var l;do if(l=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===l)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},o.prototype._minNode=function(u){for(;u.left!==null;)this._ancestors.push(u),u=u.left;this._cursor=u},o.prototype._maxNode=function(u){for(;u.right!==null;)this._ancestors.push(u),u=u.right;this._cursor=u},o}();Oa.Iterator=r;var n=function(){function o(u){this.data=u,this.left=null,this.right=null,this.red=!0}return o.prototype.get_child=function(u){return u?this.right:this.left},o.prototype.set_child=function(u,l){u?this.right=l:this.left=l},o}(),i=function(o){t(u,o);function u(l){var f=o.call(this)||this;return f._root=null,f._comparator=l,f.size=0,f}return u.prototype.insert=function(l){var f=!1;if(this._root===null)this._root=new n(l),f=!0,this.size++;else{var c=new n(void 0),d=!1,v=!1,g=null,y=c,p=null,w=this._root;for(y.right=this._root;;){if(w===null?(w=new n(l),p.set_child(d,w),f=!0,this.size++):u.is_red(w.left)&&u.is_red(w.right)&&(w.red=!0,w.left.red=!1,w.right.red=!1),u.is_red(w)&&u.is_red(p)){var x=y.right===g;w===p.get_child(v)?y.set_child(x,u.single_rotate(g,!v)):y.set_child(x,u.double_rotate(g,!v))}var E=this._comparator(w.data,l);if(E===0)break;v=d,d=E<0,g!==null&&(y=g),g=p,p=w,w=w.get_child(d)}this._root=c.right}return this._root.red=!1,f},u.prototype.remove=function(l){if(this._root===null)return!1;var f=new n(void 0),c=f;c.right=this._root;for(var d=null,v=null,g=null,y=!0;c.get_child(y)!==null;){var p=y;v=d,d=c,c=c.get_child(y);var w=this._comparator(l,c.data);if(y=w>0,w===0&&(g=c),!u.is_red(c)&&!u.is_red(c.get_child(y))){if(u.is_red(c.get_child(!y))){var x=u.single_rotate(c,y);d.set_child(p,x),d=x}else if(!u.is_red(c.get_child(!y))){var E=d.get_child(!p);if(E!==null)if(!u.is_red(E.get_child(!p))&&!u.is_red(E.get_child(p)))d.red=!1,E.red=!0,c.red=!0;else{var b=v.right===d;u.is_red(E.get_child(p))?v.set_child(b,u.double_rotate(d,p)):u.is_red(E.get_child(!p))&&v.set_child(b,u.single_rotate(d,p));var S=v.get_child(b);S.red=!0,c.red=!0,S.left.red=!1,S.right.red=!1}}}}return g!==null&&(g.data=c.data,d.set_child(d.right===c,c.get_child(c.left===null)),this.size--),this._root=f.right,this._root!==null&&(this._root.red=!1),g!==null},u.is_red=function(l){return l!==null&&l.red},u.single_rotate=function(l,f){var c=l.get_child(!f);return l.set_child(!f,c.get_child(f)),c.set_child(f,l),l.red=!0,c.red=!1,c},u.double_rotate=function(l,f){return l.set_child(!f,u.single_rotate(l.get_child(!f),!f)),u.single_rotate(l,f)},u}(e);return Oa.RBTree=i,Oa}var Np;function Es(){if(Np)return xr;Np=1;var t=xr.__extends||function(){var _=function(P,N){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,A){R.__proto__=A}||function(R,A){for(var B in A)A.hasOwnProperty(B)&&(R[B]=A[B])},_(P,N)};return function(P,N){_(P,N);function R(){this.constructor=P}P.prototype=N===null?Object.create(N):(R.prototype=N.prototype,new R)}}();Object.defineProperty(xr,"__esModule",{value:!0});var e=Rd(),r=Hm();function n(_){return _.bounds=typeof _.leaves<"u"?_.leaves.reduce(function(P,N){return N.bounds.union(P)},i.empty()):i.empty(),typeof _.groups<"u"&&(_.bounds=_.groups.reduce(function(P,N){return n(N).union(P)},_.bounds)),_.bounds=_.bounds.inflate(_.padding),_.bounds}xr.computeGroupBounds=n;var i=function(){function _(P,N,R,A){this.x=P,this.X=N,this.y=R,this.Y=A}return _.empty=function(){return new _(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},_.prototype.cx=function(){return(this.x+this.X)/2},_.prototype.cy=function(){return(this.y+this.Y)/2},_.prototype.overlapX=function(P){var N=this.cx(),R=P.cx();return N<=R&&P.x<this.X?this.X-P.x:R<=N&&this.x<P.X?P.X-this.x:0},_.prototype.overlapY=function(P){var N=this.cy(),R=P.cy();return N<=R&&P.y<this.Y?this.Y-P.y:R<=N&&this.y<P.Y?P.Y-this.y:0},_.prototype.setXCentre=function(P){var N=P-this.cx();this.x+=N,this.X+=N},_.prototype.setYCentre=function(P){var N=P-this.cy();this.y+=N,this.Y+=N},_.prototype.width=function(){return this.X-this.x},_.prototype.height=function(){return this.Y-this.y},_.prototype.union=function(P){return new _(Math.min(this.x,P.x),Math.max(this.X,P.X),Math.min(this.y,P.y),Math.max(this.Y,P.Y))},_.prototype.lineIntersections=function(P,N,R,A){for(var B=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],D=[],z=0;z<4;++z){var I=_.lineIntersection(P,N,R,A,B[z][0],B[z][1],B[z][2],B[z][3]);I!==null&&D.push({x:I.x,y:I.y})}return D},_.prototype.rayIntersection=function(P,N){var R=this.lineIntersections(this.cx(),this.cy(),P,N);return R.length>0?R[0]:null},_.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},_.lineIntersection=function(P,N,R,A,B,D,z,I){var G=R-P,U=z-B,q=A-N,$=I-D,V=$*G-U*q;if(V==0)return null;var W=P-B,ee=N-D,J=U*ee-$*W,te=J/V,re=G*ee-q*W,fe=re/V;return te>=0&&te<=1&&fe>=0&&fe<=1?{x:P+te*G,y:N+te*q}:null},_.prototype.inflate=function(P){return new _(this.x-P,this.X+P,this.y-P,this.Y+P)},_}();xr.Rectangle=i;function o(_,P,N){var R=_.rayIntersection(P.cx(),P.cy())||{x:_.cx(),y:_.cy()},A=P.rayIntersection(_.cx(),_.cy())||{x:P.cx(),y:P.cy()},B=A.x-R.x,D=A.y-R.y,z=Math.sqrt(B*B+D*D),I=z-N;return{sourceIntersection:R,targetIntersection:A,arrowStart:{x:R.x+I*B/z,y:R.y+I*D/z}}}xr.makeEdgeBetween=o;function u(_,P,N){var R=P.rayIntersection(_.x,_.y);R||(R={x:P.cx(),y:P.cy()});var A=R.x-_.x,B=R.y-_.y,D=Math.sqrt(A*A+B*B);return{x:R.x-N*A/D,y:R.y-N*B/D}}xr.makeEdgeTo=u;var l=function(){function _(P,N,R){this.v=P,this.r=N,this.pos=R,this.prev=d(),this.next=d()}return _}(),f=function(){function _(P,N,R){this.isOpen=P,this.v=N,this.pos=R}return _}();function c(_,P){return _.pos>P.pos?1:_.pos<P.pos||_.isOpen?-1:P.isOpen?1:0}function d(){return new r.RBTree(function(_,P){return _.pos-P.pos})}var v={getCentre:function(_){return _.cx()},getOpen:function(_){return _.y},getClose:function(_){return _.Y},getSize:function(_){return _.width()},makeRect:function(_,P,N,R){return new i(N-R/2,N+R/2,_,P)},findNeighbours:w},g={getCentre:function(_){return _.cy()},getOpen:function(_){return _.x},getClose:function(_){return _.X},getSize:function(_){return _.height()},makeRect:function(_,P,N,R){return new i(_,P,N-R/2,N+R/2)},findNeighbours:x};function y(_,P,N,R){R===void 0&&(R=!1);var A=_.padding,B=typeof _.groups<"u"?_.groups.length:0,D=typeof _.leaves<"u"?_.leaves.length:0,z=B?_.groups.reduce(function(Y,j){return Y.concat(y(j,P,N,!0))},[]):[],I=(R?2:0)+D+B,G=new Array(I),U=new Array(I),q=0,$=function(Y,j){U[q]=Y,G[q++]=j};if(R){var V=_.bounds,W=P.getCentre(V),ee=P.getSize(V)/2,J=P.getOpen(V),te=P.getClose(V),re=W-ee+A/2,fe=W+ee-A/2;_.minVar.desiredPosition=re,$(P.makeRect(J,te,re,A),_.minVar),_.maxVar.desiredPosition=fe,$(P.makeRect(J,te,fe,A),_.maxVar)}D&&_.leaves.forEach(function(Y){return $(Y.bounds,Y.variable)}),B&&_.groups.forEach(function(Y){var j=Y.bounds;$(P.makeRect(P.getOpen(j),P.getClose(j),P.getCentre(j),P.getSize(j)),Y.minVar)});var ue=p(U,G,P,N);return B&&(G.forEach(function(Y){Y.cOut=[],Y.cIn=[]}),ue.forEach(function(Y){Y.left.cOut.push(Y),Y.right.cIn.push(Y)}),_.groups.forEach(function(Y){var j=(Y.padding-P.getSize(Y.bounds))/2;Y.minVar.cIn.forEach(function(Q){return Q.gap+=j}),Y.minVar.cOut.forEach(function(Q){Q.left=Y.maxVar,Q.gap+=j})})),z.concat(ue)}function p(_,P,N,R){var A,B=_.length,D=2*B;console.assert(P.length>=B);var z=new Array(D);for(A=0;A<B;++A){var I=_[A],G=new l(P[A],I,N.getCentre(I));z[A]=new f(!0,G,N.getOpen(I)),z[A+B]=new f(!1,G,N.getClose(I))}z.sort(c);var U=new Array,q=d();for(A=0;A<D;++A){var $=z[A],G=$.v;if($.isOpen)q.insert(G),N.findNeighbours(G,q);else{q.remove(G);var V=function(J,te){var re=(N.getSize(J.r)+N.getSize(te.r))/2+R;U.push(new e.Constraint(J.v,te.v,re))},W=function(J,te,re){for(var fe,ue=G[J].iterator();(fe=ue[J]())!==null;)re(fe,G),fe[te].remove(G)};W("prev","next",function(J,te){return V(J,te)}),W("next","prev",function(J,te){return V(te,J)})}}return console.assert(q.size===0),U}function w(_,P){var N=function(R,A){for(var B=P.findIter(_),D;(D=B[R]())!==null;){var z=D.r.overlapX(_.r);if((z<=0||z<=D.r.overlapY(_.r))&&(_[R].insert(D),D[A].insert(_)),z<=0)break}};N("next","prev"),N("prev","next")}function x(_,P){var N=function(R,A){var B=P.findIter(_)[R]();B!==null&&B.r.overlapX(_.r)>0&&(_[R].insert(B),B[A].insert(_))};N("next","prev"),N("prev","next")}function E(_,P){return p(_,P,v,1e-6)}xr.generateXConstraints=E;function b(_,P){return p(_,P,g,1e-6)}xr.generateYConstraints=b;function S(_){return y(_,v,1e-6)}xr.generateXGroupConstraints=S;function T(_){return y(_,g,1e-6)}xr.generateYGroupConstraints=T;function O(_){var P=_.map(function(A){return new e.Variable(A.cx())}),N=E(_,P),R=new e.Solver(P,N);R.solve(),P.forEach(function(A,B){return _[B].setXCentre(A.position())}),P=_.map(function(A){return new e.Variable(A.cy())}),N=b(_,P),R=new e.Solver(P,N),R.solve(),P.forEach(function(A,B){return _[B].setYCentre(A.position())})}xr.removeOverlaps=O;var L=function(_){t(P,_);function P(N,R){var A=_.call(this,0,R)||this;return A.index=N,A}return P}(e.Variable);xr.IndexedVariable=L;var M=function(){function _(P,N,R,A,B){var D=this;if(R===void 0&&(R=null),A===void 0&&(A=null),B===void 0&&(B=!1),this.nodes=P,this.groups=N,this.rootGroup=R,this.avoidOverlaps=B,this.variables=P.map(function(I,G){return I.variable=new L(G,1)}),A&&this.createConstraints(A),B&&R&&typeof R.groups<"u"){P.forEach(function(I){if(!I.width||!I.height){I.bounds=new i(I.x,I.x,I.y,I.y);return}var G=I.width/2,U=I.height/2;I.bounds=new i(I.x-G,I.x+G,I.y-U,I.y+U)}),n(R);var z=P.length;N.forEach(function(I){D.variables[z]=I.minVar=new L(z++,typeof I.stiffness<"u"?I.stiffness:.01),D.variables[z]=I.maxVar=new L(z++,typeof I.stiffness<"u"?I.stiffness:.01)})}}return _.prototype.createSeparation=function(P){return new e.Constraint(this.nodes[P.left].variable,this.nodes[P.right].variable,P.gap,typeof P.equality<"u"?P.equality:!1)},_.prototype.makeFeasible=function(P){var N=this;if(this.avoidOverlaps){var R="x",A="width";P.axis==="x"&&(R="y",A="height");var B=P.offsets.map(function(z){return N.nodes[z.node]}).sort(function(z,I){return z[R]-I[R]}),D=null;B.forEach(function(z){if(D){var I=D[R]+D[A];I>z[R]&&(z[R]=I)}D=z})}},_.prototype.createAlignment=function(P){var N=this,R=this.nodes[P.offsets[0].node].variable;this.makeFeasible(P);var A=P.axis==="x"?this.xConstraints:this.yConstraints;P.offsets.slice(1).forEach(function(B){var D=N.nodes[B.node].variable;A.push(new e.Constraint(R,D,B.offset,!0))})},_.prototype.createConstraints=function(P){var N=this,R=function(A){return typeof A.type>"u"||A.type==="separation"};this.xConstraints=P.filter(function(A){return A.axis==="x"&&R(A)}).map(function(A){return N.createSeparation(A)}),this.yConstraints=P.filter(function(A){return A.axis==="y"&&R(A)}).map(function(A){return N.createSeparation(A)}),P.filter(function(A){return A.type==="alignment"}).forEach(function(A){return N.createAlignment(A)})},_.prototype.setupVariablesAndBounds=function(P,N,R,A){this.nodes.forEach(function(B,D){B.fixed?(B.variable.weight=B.fixedWeight?B.fixedWeight:1e3,R[D]=A(B)):B.variable.weight=1;var z=(B.width||0)/2,I=(B.height||0)/2,G=P[D],U=N[D];B.bounds=new i(G-z,G+z,U-I,U+I)})},_.prototype.xProject=function(P,N,R){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(P,N,P,R,function(A){return A.px},this.xConstraints,S,function(A){return A.bounds.setXCentre(R[A.variable.index]=A.variable.position())},function(A){var B=R[A.minVar.index]=A.minVar.position(),D=R[A.maxVar.index]=A.maxVar.position(),z=A.padding/2;A.bounds.x=B-z,A.bounds.X=D+z})},_.prototype.yProject=function(P,N,R){!this.rootGroup&&!this.yConstraints||this.project(P,N,N,R,function(A){return A.py},this.yConstraints,T,function(A){return A.bounds.setYCentre(R[A.variable.index]=A.variable.position())},function(A){var B=R[A.minVar.index]=A.minVar.position(),D=R[A.maxVar.index]=A.maxVar.position(),z=A.padding/2;A.bounds.y=B-z,A.bounds.Y=D+z})},_.prototype.projectFunctions=function(){var P=this;return[function(N,R,A){return P.xProject(N,R,A)},function(N,R,A){return P.yProject(N,R,A)}]},_.prototype.project=function(P,N,R,A,B,D,z,I,G){this.setupVariablesAndBounds(P,N,A,B),this.rootGroup&&this.avoidOverlaps&&(n(this.rootGroup),D=D.concat(z(this.rootGroup))),this.solve(this.variables,D,R,A),this.nodes.forEach(I),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(G),n(this.rootGroup))},_.prototype.solve=function(P,N,R,A){var B=new e.Solver(P,N);B.setStartingPositions(R),B.setDesiredPositions(A),B.solve()},_}();return xr.Projection=M,xr}var ju={},Uo={},Op;function $m(){if(Op)return Uo;Op=1,Object.defineProperty(Uo,"__esModule",{value:!0});var t=function(){function r(n){this.elem=n,this.subheaps=[]}return r.prototype.toString=function(n){for(var i="",o=!1,u=0;u<this.subheaps.length;++u){var l=this.subheaps[u];if(!l.elem){o=!1;continue}o&&(i=i+","),i=i+l.toString(n),o=!0}return i!==""&&(i="("+i+")"),(this.elem?n(this.elem):"")+i},r.prototype.forEach=function(n){this.empty()||(n(this.elem,this),this.subheaps.forEach(function(i){return i.forEach(n)}))},r.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(n,i){return n+i.count()},0)},r.prototype.min=function(){return this.elem},r.prototype.empty=function(){return this.elem==null},r.prototype.contains=function(n){if(this===n)return!0;for(var i=0;i<this.subheaps.length;i++)if(this.subheaps[i].contains(n))return!0;return!1},r.prototype.isHeap=function(n){var i=this;return this.subheaps.every(function(o){return n(i.elem,o.elem)&&o.isHeap(n)})},r.prototype.insert=function(n,i){return this.merge(new r(n),i)},r.prototype.merge=function(n,i){return this.empty()?n:n.empty()?this:i(this.elem,n.elem)?(this.subheaps.push(n),this):(n.subheaps.push(this),n)},r.prototype.removeMin=function(n){return this.empty()?null:this.mergePairs(n)},r.prototype.mergePairs=function(n){if(this.subheaps.length==0)return new r(null);if(this.subheaps.length==1)return this.subheaps[0];var i=this.subheaps.pop().merge(this.subheaps.pop(),n),o=this.mergePairs(n);return i.merge(o,n)},r.prototype.decreaseKey=function(n,i,o,u){var l=n.removeMin(u);n.elem=l.elem,n.subheaps=l.subheaps,o!==null&&l.elem!==null&&o(n.elem,n);var f=new r(i);return o!==null&&o(i,f),this.merge(f,u)},r}();Uo.PairingHeap=t;var e=function(){function r(n){this.lessThan=n}return r.prototype.top=function(){return this.empty()?null:this.root.elem},r.prototype.push=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o,u=0,l;l=n[u];++u)o=new t(l),this.root=this.empty()?o:this.root.merge(o,this.lessThan);return o},r.prototype.empty=function(){return!this.root||!this.root.elem},r.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},r.prototype.forEach=function(n){this.root.forEach(n)},r.prototype.pop=function(){if(this.empty())return null;var n=this.root.min();return this.root=this.root.removeMin(this.lessThan),n},r.prototype.reduceKey=function(n,i,o){o===void 0&&(o=null),this.root=this.root.decreaseKey(n,i,o,this.lessThan)},r.prototype.toString=function(n){return this.root.toString(n)},r.prototype.count=function(){return this.root.count()},r}();return Uo.PriorityQueue=e,Uo}var Ip;function Il(){if(Ip)return ju;Ip=1,Object.defineProperty(ju,"__esModule",{value:!0});var t=$m(),e=function(){function o(u,l){this.id=u,this.distance=l}return o}(),r=function(){function o(u){this.id=u,this.neighbours=[]}return o}(),n=function(){function o(u,l,f){this.node=u,this.prev=l,this.d=f}return o}(),i=function(){function o(u,l,f,c,d){this.n=u,this.es=l,this.neighbours=new Array(this.n);for(var v=this.n;v--;)this.neighbours[v]=new r(v);for(v=this.es.length;v--;){var g=this.es[v],y=f(g),p=c(g),w=d(g);this.neighbours[y].neighbours.push(new e(p,w)),this.neighbours[p].neighbours.push(new e(y,w))}}return o.prototype.DistanceMatrix=function(){for(var u=new Array(this.n),l=0;l<this.n;++l)u[l]=this.dijkstraNeighbours(l);return u},o.prototype.DistancesFromNode=function(u){return this.dijkstraNeighbours(u)},o.prototype.PathFromNodeToNode=function(u,l){return this.dijkstraNeighbours(u,l)},o.prototype.PathFromNodeToNodeWithPrevCost=function(u,l,f){var c=new t.PriorityQueue(function(T,O){return T.d<=O.d}),d=this.neighbours[u],v=new n(d,null,0),g={};for(c.push(v);!c.empty()&&(v=c.pop(),d=v.node,d.id!==l);)for(var y=d.neighbours.length;y--;){var p=d.neighbours[y],w=this.neighbours[p.id];if(!(v.prev&&w.id===v.prev.node.id)){var x=w.id+","+d.id;if(!(x in g&&g[x]<=v.d)){var E=v.prev?f(v.prev.node.id,d.id,w.id):0,b=v.d+p.distance+E;g[x]=b,c.push(new n(w,v,b))}}}for(var S=[];v.prev;)v=v.prev,S.push(v.node.id);return S},o.prototype.dijkstraNeighbours=function(u,l){l===void 0&&(l=-1);for(var f=new t.PriorityQueue(function(E,b){return E.d<=b.d}),c=this.neighbours.length,d=new Array(c);c--;){var v=this.neighbours[c];v.d=c===u?0:Number.POSITIVE_INFINITY,v.q=f.push(v)}for(;!f.empty();){var g=f.pop();if(d[g.id]=g.d,g.id===l){for(var y=[],p=g;typeof p.prev<"u";)y.push(p.prev.id),p=p.prev;return y}for(c=g.neighbours.length;c--;){var w=g.neighbours[c],p=this.neighbours[w.id],x=g.d+w.distance;g.d!==Number.MAX_VALUE&&p.d>x&&(p.d=x,p.prev=g,f.reduceKey(p.q,p,function(b,S){return b.q=S}))}}return d},o}();return ju.Calculator=i,ju}var St={},zp;function Wm(){if(zp)return St;zp=1;var t=St.__extends||function(){var B=function(D,z){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,G){I.__proto__=G}||function(I,G){for(var U in G)G.hasOwnProperty(U)&&(I[U]=G[U])},B(D,z)};return function(D,z){B(D,z);function I(){this.constructor=D}D.prototype=z===null?Object.create(z):(I.prototype=z.prototype,new I)}}();Object.defineProperty(St,"__esModule",{value:!0});var e=Es(),r=function(){function B(){}return B}();St.Point=r;var n=function(){function B(D,z,I,G){this.x1=D,this.y1=z,this.x2=I,this.y2=G}return B}();St.LineSegment=n;var i=function(B){t(D,B);function D(){return B!==null&&B.apply(this,arguments)||this}return D}(r);St.PolyPoint=i;function o(B,D,z){return(D.x-B.x)*(z.y-B.y)-(z.x-B.x)*(D.y-B.y)}St.isLeft=o;function u(B,D,z){return o(B,D,z)>0}function l(B,D,z){return o(B,D,z)<0}function f(B){var D=B.slice(0).sort(function(te,re){return te.x!==re.x?re.x-te.x:re.y-te.y}),z=B.length,I,G=0,U=D[0].x;for(I=1;I<z&&D[I].x===U;++I);var q=I-1,$=[];if($.push(D[G]),q===z-1)D[q].y!==D[G].y&&$.push(D[q]);else{var V,W=z-1,ee=D[z-1].x;for(I=z-2;I>=0&&D[I].x===ee;I--);for(V=I+1,I=q;++I<=V;)if(!(o(D[G],D[V],D[I])>=0&&I<V)){for(;$.length>1&&!(o($[$.length-2],$[$.length-1],D[I])>0);)$.length-=1;I!=G&&$.push(D[I])}W!=V&&$.push(D[W]);var J=$.length;for(I=V;--I>=q;)if(!(o(D[W],D[q],D[I])>=0&&I>q)){for(;$.length>J&&!(o($[$.length-2],$[$.length-1],D[I])>0);)$.length-=1;I!=G&&$.push(D[I])}}return $}St.ConvexHull=f;function c(B,D,z){D.slice(0).sort(function(I,G){return Math.atan2(I.y-B.y,I.x-B.x)-Math.atan2(G.y-B.y,G.x-B.x)}).forEach(z)}St.clockwiseRadialSweep=c;function d(B,D){var z=D.slice(0);return z.push(D[0]),{rtan:v(B,z),ltan:g(B,z)}}function v(B,D){var z=D.length-1,I,G,U,q,$;if(l(B,D[1],D[0])&&!u(B,D[z-1],D[0]))return 0;for(I=0,G=z;;){if(G-I===1)return u(B,D[I],D[G])?I:G;if(U=Math.floor((I+G)/2),$=l(B,D[U+1],D[U]),$&&!u(B,D[U-1],D[U]))return U;q=u(B,D[I+1],D[I]),q?$||u(B,D[I],D[U])?G=U:I=U:$&&l(B,D[I],D[U])?G=U:I=U}}function g(B,D){var z=D.length-1,I,G,U,q,$;if(u(B,D[z-1],D[0])&&!l(B,D[1],D[0]))return 0;for(I=0,G=z;;){if(G-I===1)return l(B,D[I],D[G])?I:G;if(U=Math.floor((I+G)/2),$=l(B,D[U+1],D[U]),u(B,D[U-1],D[U])&&!$)return U;q=l(B,D[I+1],D[I]),q?$?l(B,D[I],D[U])?G=U:I=U:G=U:$?I=U:u(B,D[I],D[U])?G=U:I=U}}function y(B,D,z,I,G,U){var q,$;q=z(D[0],B),$=I(B[q],D);for(var V=!1;!V;){for(V=!0;q===B.length-1&&(q=0),!G(D[$],B[q],B[q+1]);)++q;for(;$===0&&($=D.length-1),!U(B[q],D[$],D[$-1]);)--$,V=!1}return{t1:q,t2:$}}St.tangent_PolyPolyC=y;function p(B,D){var z=w(D,B);return{t1:z.t2,t2:z.t1}}St.LRtangent_PolyPolyC=p;function w(B,D){return y(B,D,v,g,u,l)}St.RLtangent_PolyPolyC=w;function x(B,D){return y(B,D,g,g,l,l)}St.LLtangent_PolyPolyC=x;function E(B,D){return y(B,D,v,v,u,u)}St.RRtangent_PolyPolyC=E;var b=function(){function B(D,z){this.t1=D,this.t2=z}return B}();St.BiTangent=b;var S=function(){function B(){}return B}();St.BiTangents=S;var T=function(B){t(D,B);function D(){return B!==null&&B.apply(this,arguments)||this}return D}(r);St.TVGPoint=T;var O=function(){function B(D,z,I,G){this.id=D,this.polyid=z,this.polyvertid=I,this.p=G,G.vv=this}return B}();St.VisibilityVertex=O;var L=function(){function B(D,z){this.source=D,this.target=z}return B.prototype.length=function(){var D=this.source.p.x-this.target.p.x,z=this.source.p.y-this.target.p.y;return Math.sqrt(D*D+z*z)},B}();St.VisibilityEdge=L;var M=function(){function B(D,z){if(this.P=D,this.V=[],this.E=[],z)this.V=z.V.slice(0),this.E=z.E.slice(0);else{for(var I=D.length,G=0;G<I;G++){for(var U=D[G],q=0;q<U.length;++q){var $=U[q],V=new O(this.V.length,G,q,$);this.V.push(V),q>0&&this.E.push(new L(U[q-1].vv,V))}U.length>1&&this.E.push(new L(U[0].vv,U[U.length-1].vv))}for(var G=0;G<I-1;G++)for(var W=D[G],q=G+1;q<I;q++){var ee=D[q],J=P(W,ee);for(var te in J){var re=J[te],fe=W[re.t1],ue=ee[re.t2];this.addEdgeIfVisible(fe,ue,G,q)}}}}return B.prototype.addEdgeIfVisible=function(D,z,I,G){this.intersectsPolys(new n(D.x,D.y,z.x,z.y),I,G)||this.E.push(new L(D.vv,z.vv))},B.prototype.addPoint=function(D,z){var I=this.P.length;this.V.push(new O(this.V.length,I,0,D));for(var G=0;G<I;++G)if(G!==z){var U=this.P[G],q=d(D,U);this.addEdgeIfVisible(D,U[q.ltan],z,G),this.addEdgeIfVisible(D,U[q.rtan],z,G)}return D.vv},B.prototype.intersectsPolys=function(D,z,I){for(var G=0,U=this.P.length;G<U;++G)if(G!=z&&G!=I&&_(D,this.P[G]).length>0)return!0;return!1},B}();St.TangentVisibilityGraph=M;function _(B,D){for(var z=[],I=1,G=D.length;I<G;++I){var U=e.Rectangle.lineIntersection(B.x1,B.y1,B.x2,B.y2,D[I-1].x,D[I-1].y,D[I].x,D[I].y);U&&z.push(U)}return z}function P(B,D){for(var z=B.length-1,I=D.length-1,G=new S,U=0;U<z;++U)for(var q=0;q<I;++q){var $=B[U==0?z-1:U-1],V=B[U],W=B[U+1],ee=D[q==0?I-1:q-1],J=D[q],te=D[q+1],re=o($,V,J),fe=o(V,ee,J),ue=o(V,J,te),Y=o(ee,J,V),j=o(J,$,V),Q=o(J,V,W);re>=0&&fe>=0&&ue<0&&Y>=0&&j>=0&&Q<0?G.ll=new b(U,q):re<=0&&fe<=0&&ue>0&&Y<=0&&j<=0&&Q>0?G.rr=new b(U,q):re<=0&&fe>0&&ue<=0&&Y>=0&&j<0&&Q>=0?G.rl=new b(U,q):re>=0&&fe<0&&ue>=0&&Y<=0&&j>0&&Q<=0&&(G.lr=new b(U,q))}return G}St.tangents=P;function N(B,D){for(var z=1,I=D.length;z<I;++z)if(l(D[z-1],D[z],B))return!1;return!0}function R(B,D){return!B.every(function(z){return!N(z,D)})}function A(B,D){if(R(B,D)||R(D,B))return!0;for(var z=1,I=B.length;z<I;++z){var G=B[z],U=B[z-1];if(_(new n(U.x,U.y,G.x,G.y),D).length>0)return!0}return!1}return St.polysOverlap=A,St}var qo={},Fp;function Km(){if(Fp)return qo;Fp=1,Object.defineProperty(qo,"__esModule",{value:!0});var t={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function e(n,i,o,p,y,f){y===void 0&&(y=1),f===void 0&&(f=!0);var c=0,d=0,v=i,g=o,y=typeof y<"u"?y:1,p=typeof p<"u"?p:0,w=0,x=0,E=0,b=0,S=[];if(n.length==0)return;T(n),L(n),f&&O(n);function T(R){R.forEach(function(B){A(B)});function A(B){var D=Number.MAX_VALUE,z=Number.MAX_VALUE,I=0,G=0;B.array.forEach(function(U){var q=typeof U.width<"u"?U.width:p,$=typeof U.height<"u"?U.height:p;q/=2,$/=2,I=Math.max(U.x+q,I),D=Math.min(U.x-q,D),G=Math.max(U.y+$,G),z=Math.min(U.y-$,z)}),B.width=I-D,B.height=G-z}}function O(R){R.forEach(function(A){var B={x:0,y:0};A.array.forEach(function(I){B.x+=I.x,B.y+=I.y}),B.x/=A.array.length,B.y/=A.array.length;var D={x:B.x-A.width/2,y:B.y-A.height/2},z={x:A.x-D.x+v/2-w/2,y:A.y-D.y+g/2-x/2};A.array.forEach(function(I){I.x+=z.x,I.y+=z.y})})}function L(R,A){var B=Number.POSITIVE_INFINITY,D=0;R.sort(function(te,re){return re.height-te.height}),E=R.reduce(function(te,re){return te.width<re.width?te.width:re.width});for(var z=ee=E,I=J=P(R),G=0,U=Number.MAX_VALUE,q=Number.MAX_VALUE,$=-1,V=Number.MAX_VALUE,W=Number.MAX_VALUE;V>E||W>t.FLOAT_EPSILON;){if($!=1)var ee=I-(I-z)/t.GOLDEN_SECTION,U=M(R,ee);if($!=0)var J=z+(I-z)/t.GOLDEN_SECTION,q=M(R,J);if(V=Math.abs(ee-J),W=Math.abs(U-q),U<B&&(B=U,D=ee),q<B&&(B=q,D=J),U>q?(z=ee,ee=J,U=q,$=1):(I=J,J=ee,q=U,$=0),G++>100)break}M(R,D)}function M(R,A){S=[],w=0,x=0,b=d;for(var B=0;B<R.length;B++){var D=R[B];_(D,A)}return Math.abs(N()-y)}function _(R,A){for(var B=void 0,D=0;D<S.length;D++)if(S[D].space_left>=R.height&&S[D].x+S[D].width+R.width+t.PADDING-A<=t.FLOAT_EPSILON){B=S[D];break}S.push(R),B!==void 0?(R.x=B.x+B.width+t.PADDING,R.y=B.bottom,R.space_left=R.height,R.bottom=R.y,B.space_left-=R.height+t.PADDING,B.bottom+=R.height+t.PADDING):(R.y=b,b+=R.height+t.PADDING,R.x=c,R.bottom=R.y,R.space_left=R.height),R.y+R.height-x>-1e-4&&(x=R.y+R.height-d),R.x+R.width-w>-1e-4&&(w=R.x+R.width-c)}function P(R){var A=0;return R.forEach(function(B){return A+=B.width+t.PADDING}),A}function N(){return w/x}}qo.applyPacking=e;function r(n,i){for(var o={},u={},l=[],f=0,c=0;c<i.length;c++){var d=i[c],v=d.source,g=d.target;u[v.index]?u[v.index].push(g):u[v.index]=[g],u[g.index]?u[g.index].push(v):u[g.index]=[v]}for(var c=0;c<n.length;c++){var y=n[c];o[y.index]||p(y,!0)}function p(w,x){if(o[w.index]===void 0){x&&(f++,l.push({array:[]})),o[w.index]=f,l[f-1].array.push(w);var E=u[w.index];if(E)for(var b=0;b<E.length;b++)p(E[b],!1)}}return l}return qo.separateGraphs=r,qo}var Vp;function Ss(){return Vp||(Vp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=qm(),r=Bd(),n=Ld(),i=Es(),o=Il(),u=Wm(),l=Km(),f;(function(v){v[v.start=0]="start",v[v.tick=1]="tick",v[v.end=2]="end"})(f=t.EventType||(t.EventType={}));function c(v){return typeof v.leaves<"u"||typeof v.groups<"u"}var d=function(){function v(){var g=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:v.getSourceIndex,getTargetIndex:v.getTargetIndex,setLength:v.setLinkLength,getType:function(y){return typeof g._linkType=="function"?g._linkType(y):0}}}return v.prototype.on=function(g,y){return this.event||(this.event={}),typeof g=="string"?this.event[f[g]]=y:this.event[g]=y,this},v.prototype.trigger=function(g){this.event&&typeof this.event[g.type]<"u"&&this.event[g.type](g)},v.prototype.kick=function(){for(;!this.tick(););},v.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:f.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var g=this._nodes.length;this._links.length;var y,p;for(this._descent.locks.clear(),p=0;p<g;++p)if(y=this._nodes[p],y.fixed){(typeof y.px>"u"||typeof y.py>"u")&&(y.px=y.x,y.py=y.y);var w=[y.px,y.py];this._descent.locks.add(p,w)}var x=this._descent.rungeKutta();return x===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=x),this._lastStress=x,this.updateNodePositions(),this.trigger({type:f.tick,alpha:this._alpha,stress:this._lastStress}),!1},v.prototype.updateNodePositions=function(){for(var g=this._descent.x[0],y=this._descent.x[1],p,w=this._nodes.length;w--;)p=this._nodes[w],p.x=g[w],p.y=y[w]},v.prototype.nodes=function(g){if(!g){if(this._nodes.length===0&&this._links.length>0){var y=0;this._links.forEach(function(w){y=Math.max(y,w.source,w.target)}),this._nodes=new Array(++y);for(var p=0;p<y;++p)this._nodes[p]={}}return this._nodes}return this._nodes=g,this},v.prototype.groups=function(g){var y=this;return g?(this._groups=g,this._rootGroup={},this._groups.forEach(function(p){typeof p.padding>"u"&&(p.padding=1),typeof p.leaves<"u"&&p.leaves.forEach(function(w,x){typeof w=="number"&&((p.leaves[x]=y._nodes[w]).parent=p)}),typeof p.groups<"u"&&p.groups.forEach(function(w,x){typeof w=="number"&&((p.groups[x]=y._groups[w]).parent=p)})}),this._rootGroup.leaves=this._nodes.filter(function(p){return typeof p.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(p){return typeof p.parent>"u"}),this):this._groups},v.prototype.powerGraphGroups=function(g){var y=e.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(y.groups),g(y),this},v.prototype.avoidOverlaps=function(g){return arguments.length?(this._avoidOverlaps=g,this):this._avoidOverlaps},v.prototype.handleDisconnected=function(g){return arguments.length?(this._handleDisconnected=g,this):this._handleDisconnected},v.prototype.flowLayout=function(g,y){return arguments.length||(g="y"),this._directedLinkConstraints={axis:g,getMinSeparation:typeof y=="number"?function(){return y}:y},this},v.prototype.links=function(g){return arguments.length?(this._links=g,this):this._links},v.prototype.constraints=function(g){return arguments.length?(this._constraints=g,this):this._constraints},v.prototype.distanceMatrix=function(g){return arguments.length?(this._distanceMatrix=g,this):this._distanceMatrix},v.prototype.size=function(g){return g?(this._canvasSize=g,this):this._canvasSize},v.prototype.defaultNodeSize=function(g){return g?(this._defaultNodeSize=g,this):this._defaultNodeSize},v.prototype.groupCompactness=function(g){return g?(this._groupCompactness=g,this):this._groupCompactness},v.prototype.linkDistance=function(g){return g?(this._linkDistance=typeof g=="function"?g:+g,this._linkLengthCalculator=null,this):this._linkDistance},v.prototype.linkType=function(g){return this._linkType=g,this},v.prototype.convergenceThreshold=function(g){return g?(this._threshold=typeof g=="function"?g:+g,this):this._threshold},v.prototype.alpha=function(g){return arguments.length?(g=+g,this._alpha?g>0?this._alpha=g:this._alpha=0:g>0&&(this._running||(this._running=!0,this.trigger({type:f.start,alpha:this._alpha=g}),this.kick())),this):this._alpha},v.prototype.getLinkLength=function(g){return typeof this._linkDistance=="function"?+this._linkDistance(g):this._linkDistance},v.setLinkLength=function(g,y){g.length=y},v.prototype.getLinkType=function(g){return typeof this._linkType=="function"?this._linkType(g):0},v.prototype.symmetricDiffLinkLengths=function(g,y){var p=this;return y===void 0&&(y=1),this.linkDistance(function(w){return g*w.length}),this._linkLengthCalculator=function(){return r.symmetricDiffLinkLengths(p._links,p.linkAccessor,y)},this},v.prototype.jaccardLinkLengths=function(g,y){var p=this;return y===void 0&&(y=1),this.linkDistance(function(w){return g*w.length}),this._linkLengthCalculator=function(){return r.jaccardLinkLengths(p._links,p.linkAccessor,y)},this},v.prototype.start=function(g,y,p,w,x,E){var b=this;g===void 0&&(g=0),y===void 0&&(y=0),p===void 0&&(p=0),w===void 0&&(w=0),x===void 0&&(x=!0),E===void 0&&(E=!0);var S,T=this.nodes().length,O=T+2*this._groups.length;this._links.length;var L=this._canvasSize[0],M=this._canvasSize[1],_=new Array(O),P=new Array(O),N=null,R=this._avoidOverlaps;this._nodes.forEach(function(q,$){q.index=$,typeof q.x>"u"&&(q.x=L/2,q.y=M/2),_[$]=q.x,P[$]=q.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var A;this._distanceMatrix?A=this._distanceMatrix:(A=new o.Calculator(O,this._links,v.getSourceIndex,v.getTargetIndex,function(q){return b.getLinkLength(q)}).DistanceMatrix(),N=n.Descent.createSquareMatrix(O,function(){return 2}),this._links.forEach(function(q){typeof q.source=="number"&&(q.source=b._nodes[q.source]),typeof q.target=="number"&&(q.target=b._nodes[q.target])}),this._links.forEach(function(q){var $=v.getSourceIndex(q),V=v.getTargetIndex(q);N[$][V]=N[V][$]=q.weight||1}));var B=n.Descent.createSquareMatrix(O,function(q,$){return A[q][$]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var S=T,D=function($,V,W,ee){N[$][V]=N[V][$]=W,B[$][V]=B[V][$]=ee};this._groups.forEach(function($){D(S,S+1,b._groupCompactness,.1),_[S]=0,P[S++]=0,_[S]=0,P[S++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var z=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,z=z.concat(r.generateDirectedEdgeConstraints(T,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new n.Descent([_,P],B),this._descent.locks.clear();for(var S=0;S<T;++S){var I=this._nodes[S];if(I.fixed){I.px=I.x,I.py=I.y;var G=[I.x,I.y];this._descent.locks.add(S,G)}}if(this._descent.threshold=this._threshold,this.initialLayout(g,_,P),z.length>0&&(this._descent.project=new i.Projection(this._nodes,this._groups,this._rootGroup,z).projectFunctions()),this._descent.run(y),this.separateOverlappingComponents(L,M,E),this.avoidOverlaps(R),R&&(this._nodes.forEach(function(q,$){q.x=_[$],q.y=P[$]}),this._descent.project=new i.Projection(this._nodes,this._groups,this._rootGroup,z,!0).projectFunctions(),this._nodes.forEach(function(q,$){_[$]=q.x,P[$]=q.y})),this._descent.G=N,this._descent.run(p),w){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=T,this._descent.scaleSnapByMaxH=T!=O;var U=n.Descent.createSquareMatrix(O,function(q,$){return q>=T||$>=T?N[q][$]:0});this._descent.G=U,this._descent.run(w)}return this.updateNodePositions(),this.separateOverlappingComponents(L,M,E),x?this.resume():this},v.prototype.initialLayout=function(g,y,p){if(this._groups.length>0&&g>0){var w=this._nodes.length,x=this._links.map(function(b){return{source:b.source.index,target:b.target.index}}),E=this._nodes.map(function(b){return{index:b.index}});this._groups.forEach(function(b,S){E.push({index:b.index=w+S})}),this._groups.forEach(function(b,S){typeof b.leaves<"u"&&b.leaves.forEach(function(T){return x.push({source:b.index,target:T.index})}),typeof b.groups<"u"&&b.groups.forEach(function(T){return x.push({source:b.index,target:T.index})})}),new v().size(this.size()).nodes(E).links(x).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(g,0,0,0,!1),this._nodes.forEach(function(b){y[b.index]=E[b.index].x,p[b.index]=E[b.index].y})}else this._descent.run(g)},v.prototype.separateOverlappingComponents=function(g,y,p){var w=this;if(p===void 0&&(p=!0),!this._distanceMatrix&&this._handleDisconnected){var x=this._descent.x[0],E=this._descent.x[1];this._nodes.forEach(function(S,T){S.x=x[T],S.y=E[T]});var b=l.separateGraphs(this._nodes,this._links);l.applyPacking(b,g,y,this._defaultNodeSize,1,p),this._nodes.forEach(function(S,T){w._descent.x[0][T]=S.x,w._descent.x[1][T]=S.y,S.bounds&&(S.bounds.setXCentre(S.x),S.bounds.setYCentre(S.y))})}},v.prototype.resume=function(){return this.alpha(.1)},v.prototype.stop=function(){return this.alpha(0)},v.prototype.prepareEdgeRouting=function(g){g===void 0&&(g=0),this._visibilityGraph=new u.TangentVisibilityGraph(this._nodes.map(function(y){return y.bounds.inflate(-g).vertices()}))},v.prototype.routeEdge=function(g,y,p){y===void 0&&(y=5);var w=[],x=new u.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),E={x:g.source.x,y:g.source.y},b={x:g.target.x,y:g.target.y},S=x.addPoint(E,g.source.index),T=x.addPoint(b,g.target.index);x.addEdgeIfVisible(E,b,g.source.index,g.target.index),typeof p<"u"&&p(x);var O=function(z){return z.source.id},L=function(z){return z.target.id},M=function(z){return z.length()},_=new o.Calculator(x.V.length,x.E,O,L,M),P=_.PathFromNodeToNode(S.id,T.id);if(P.length===1||P.length===x.V.length){var N=i.makeEdgeBetween(g.source.innerBounds,g.target.innerBounds,y);w=[N.sourceIntersection,N.arrowStart]}else{for(var R=P.length-2,A=x.V[P[R]].p,B=x.V[P[0]].p,w=[g.source.innerBounds.rayIntersection(A.x,A.y)],D=R;D>=0;--D)w.push(x.V[P[D]].p);w.push(i.makeEdgeTo(B,g.target.innerBounds,y))}return w},v.getSourceIndex=function(g){return typeof g.source=="number"?g.source:g.source.index},v.getTargetIndex=function(g){return typeof g.target=="number"?g.target:g.target.index},v.linkId=function(g){return v.getSourceIndex(g)+"-"+v.getTargetIndex(g)},v.dragStart=function(g){c(g)?v.storeOffset(g,v.dragOrigin(g)):(v.stopNode(g),g.fixed|=2)},v.stopNode=function(g){g.px=g.x,g.py=g.y},v.storeOffset=function(g,y){typeof g.leaves<"u"&&g.leaves.forEach(function(p){p.fixed|=2,v.stopNode(p),p._dragGroupOffsetX=p.x-y.x,p._dragGroupOffsetY=p.y-y.y}),typeof g.groups<"u"&&g.groups.forEach(function(p){return v.storeOffset(p,y)})},v.dragOrigin=function(g){return c(g)?{x:g.bounds.cx(),y:g.bounds.cy()}:g},v.drag=function(g,y){c(g)?(typeof g.leaves<"u"&&g.leaves.forEach(function(p){g.bounds.setXCentre(y.x),g.bounds.setYCentre(y.y),p.px=p._dragGroupOffsetX+y.x,p.py=p._dragGroupOffsetY+y.y}),typeof g.groups<"u"&&g.groups.forEach(function(p){return v.drag(p,y)})):(g.px=y.x,g.py=y.y)},v.dragEnd=function(g){c(g)?(typeof g.leaves<"u"&&g.leaves.forEach(function(y){v.dragEnd(y),delete y._dragGroupOffsetX,delete y._dragGroupOffsetY}),typeof g.groups<"u"&&g.groups.forEach(v.dragEnd)):g.fixed&=-7},v.mouseOver=function(g){g.fixed|=4,g.px=g.x,g.py=g.y},v.mouseOut=function(g){g.fixed&=-5},v}();t.Layout=d}(Vc)),Vc}var Gp;function Kk(){if(Gp)return Ti;Gp=1;var t=Ti.__extends||function(){var i=function(o,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var c in f)f.hasOwnProperty(c)&&(l[c]=f[c])},i(o,u)};return function(o,u){i(o,u);function l(){this.constructor=o}o.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();Object.defineProperty(Ti,"__esModule",{value:!0});var e=Ss(),r=function(i){t(o,i);function o(u){var l=i.call(this)||this,f=u;return f.trigger&&(l.trigger=f.trigger),f.kick&&(l.kick=f.kick),f.drag&&(l.drag=f.drag),f.on&&(l.on=f.on),l.dragstart=l.dragStart=e.Layout.dragStart,l.dragend=l.dragEnd=e.Layout.dragEnd,l}return o.prototype.trigger=function(u){},o.prototype.kick=function(){},o.prototype.drag=function(){},o.prototype.on=function(u,l){return this},o}(e.Layout);Ti.LayoutAdaptor=r;function n(i){return new r(i)}return Ti.adaptor=n,Ti}var Qu={},Di={},Up;function Xk(){if(Up)return Di;Up=1;var t=Di.__extends||function(){var i=function(o,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var c in f)f.hasOwnProperty(c)&&(l[c]=f[c])},i(o,u)};return function(o,u){i(o,u);function l(){this.constructor=o}o.prototype=u===null?Object.create(u):(l.prototype=u.prototype,new l)}}();Object.defineProperty(Di,"__esModule",{value:!0});var e=Ss(),r=function(i){t(o,i);function o(){var u=i.call(this)||this;u.event=d3.dispatch(e.EventType[e.EventType.start],e.EventType[e.EventType.tick],e.EventType[e.EventType.end]);var l=u;return u.drag=function(){if(!f)var f=d3.behavior.drag().origin(e.Layout.dragOrigin).on("dragstart.d3adaptor",e.Layout.dragStart).on("drag.d3adaptor",function(c){e.Layout.drag(c,d3.event),l.resume()}).on("dragend.d3adaptor",e.Layout.dragEnd);if(!arguments.length)return f;this.call(f)},u}return o.prototype.trigger=function(u){var l={type:e.EventType[u.type],alpha:u.alpha,stress:u.stress};this.event[l.type](l)},o.prototype.kick=function(){var u=this;d3.timer(function(){return i.prototype.tick.call(u)})},o.prototype.on=function(u,l){return typeof u=="string"?this.event.on(u,l):this.event.on(e.EventType[u],l),this},o}(e.Layout);Di.D3StyleLayoutAdaptor=r;function n(){return new r}return Di.d3adaptor=n,Di}var Ho={},qp;function Yk(){if(qp)return Ho;qp=1;var t=Ho.__extends||function(){var n=function(i,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var f in l)l.hasOwnProperty(f)&&(u[f]=l[f])},n(i,o)};return function(i,o){n(i,o);function u(){this.constructor=i}i.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}();Object.defineProperty(Ho,"__esModule",{value:!0});var e=Ss(),r=function(n){t(i,n);function i(o){var u=n.call(this)||this;u.d3Context=o,u.event=o.dispatch(e.EventType[e.EventType.start],e.EventType[e.EventType.tick],e.EventType[e.EventType.end]);var l=u;return u.drag=function(){if(!f)var f=o.drag().subject(e.Layout.dragOrigin).on("start.d3adaptor",e.Layout.dragStart).on("drag.d3adaptor",function(c){e.Layout.drag(c,o.event),l.resume()}).on("end.d3adaptor",e.Layout.dragEnd);if(!arguments.length)return f;arguments[0].call(f)},u}return i.prototype.trigger=function(o){var u={type:e.EventType[o.type],alpha:o.alpha,stress:o.stress};this.event.call(u.type,u)},i.prototype.kick=function(){var o=this,u=this.d3Context.timer(function(){return n.prototype.tick.call(o)&&u.stop()})},i.prototype.on=function(o,u){return typeof o=="string"?this.event.on(o,u):this.event.on(e.EventType[o],u),this},i}(e.Layout);return Ho.D3StyleLayoutAdaptor=r,Ho}var Hp;function jk(){if(Hp)return Qu;Hp=1,Object.defineProperty(Qu,"__esModule",{value:!0});var t=Xk(),e=Yk();function r(i){return!i||n(i)?new t.D3StyleLayoutAdaptor:new e.D3StyleLayoutAdaptor(i)}Qu.d3adaptor=r;function n(i){var o=/^3\./;return i.version&&i.version.match(o)!==null}return Qu}var Ia={},$p;function Xm(){if($p)return Ia;$p=1,Object.defineProperty(Ia,"__esModule",{value:!0});var t=Es(),e=Rd(),r=Il(),n=function(){function l(f,c,d){this.id=f,this.rect=c,this.children=d,this.leaf=typeof d>"u"||d.length===0}return l}();Ia.NodeWrapper=n;var i=function(){function l(f,c,d,v,g){v===void 0&&(v=null),g===void 0&&(g=null),this.id=f,this.x=c,this.y=d,this.node=v,this.line=g}return l}();Ia.Vert=i;var o=function(){function l(f,c){this.s=f,this.t=c;var d=l.findMatch(f,c),v=c.slice(0).reverse(),g=l.findMatch(f,v);d.length>=g.length?(this.length=d.length,this.si=d.si,this.ti=d.ti,this.reversed=!1):(this.length=g.length,this.si=g.si,this.ti=c.length-g.ti-g.length,this.reversed=!0)}return l.findMatch=function(f,c){for(var d=f.length,v=c.length,g={length:0,si:-1,ti:-1},y=new Array(d),p=0;p<d;p++){y[p]=new Array(v);for(var w=0;w<v;w++)if(f[p]===c[w]){var x=y[p][w]=p===0||w===0?1:y[p-1][w-1]+1;x>g.length&&(g.length=x,g.si=p-x+1,g.ti=w-x+1)}else y[p][w]=0}return g},l.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},l}();Ia.LongestCommonSubsequence=o;var u=function(){function l(f,c,d){var v=this;d===void 0&&(d=12),this.originalnodes=f,this.groupPadding=d,this.leaves=null,this.nodes=f.map(function(L,M){return new n(M,c.getBounds(L),c.getChildren(L))}),this.leaves=this.nodes.filter(function(L){return L.leaf}),this.groups=this.nodes.filter(function(L){return!L.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(L){return L.children.forEach(function(M){return v.nodes[M].parent=L})}),this.root={children:[]},this.nodes.forEach(function(L){typeof L.parent>"u"&&(L.parent=v.root,v.root.children.push(L.id)),L.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(L,M){return v.getDepth(L)-v.getDepth(M)});var g=this.backToFront.slice(0).reverse().filter(function(L){return!L.leaf});g.forEach(function(L){var M=t.Rectangle.empty();L.children.forEach(function(_){return M=M.union(v.nodes[_].rect)}),L.rect=M.inflate(v.groupPadding)});var y=this.midPoints(this.cols.map(function(L){return L.pos})),p=this.midPoints(this.rows.map(function(L){return L.pos})),w=y[0],x=y[y.length-1],E=p[0],b=p[p.length-1],S=this.rows.map(function(L){return{x1:w,x2:x,y1:L.pos,y2:L.pos}}).concat(p.map(function(L){return{x1:w,x2:x,y1:L,y2:L}})),T=this.cols.map(function(L){return{x1:L.pos,x2:L.pos,y1:E,y2:b}}).concat(y.map(function(L){return{x1:L,x2:L,y1:E,y2:b}})),O=S.concat(T);O.forEach(function(L){return L.verts=[]}),this.verts=[],this.edges=[],S.forEach(function(L){return T.forEach(function(M){var _=new i(v.verts.length,M.x1,L.y1);L.verts.push(_),M.verts.push(_),v.verts.push(_);for(var P=v.backToFront.length;P-- >0;){var N=v.backToFront[P],R=N.rect,A=Math.abs(_.x-R.cx()),B=Math.abs(_.y-R.cy());if(A<R.width()/2&&B<R.height()/2){_.node=N;break}}})}),O.forEach(function(L,M){v.nodes.forEach(function(B,D){B.rect.lineIntersections(L.x1,L.y1,L.x2,L.y2).forEach(function(z,I){var G=new i(v.verts.length,z.x,z.y,B,L);v.verts.push(G),L.verts.push(G),B.ports.push(G)})});var _=Math.abs(L.y1-L.y2)<.1,P=function(B,D){return _?D.x-B.x:D.y-B.y};L.verts.sort(P);for(var N=1;N<L.verts.length;N++){var R=L.verts[N-1],A=L.verts[N];R.node&&R.node===A.node&&R.node.leaf||v.edges.push({source:R.id,target:A.id,length:Math.abs(P(R,A))})}})}return l.prototype.avg=function(f){return f.reduce(function(c,d){return c+d})/f.length},l.prototype.getGridLines=function(f){for(var c=[],d=this.leaves.slice(0,this.leaves.length);d.length>0;){var v=d.filter(function(y){return y.rect["overlap"+f.toUpperCase()](d[0].rect)}),g={nodes:v,pos:this.avg(v.map(function(y){return y.rect["c"+f]()}))};c.push(g),g.nodes.forEach(function(y){return d.splice(d.indexOf(y),1)})}return c.sort(function(y,p){return y.pos-p.pos}),c},l.prototype.getDepth=function(f){for(var c=0;f.parent!==this.root;)c++,f=f.parent;return c},l.prototype.midPoints=function(f){for(var c=f[1]-f[0],d=[f[0]-c/2],v=1;v<f.length;v++)d.push((f[v]+f[v-1])/2);return d.push(f[f.length-1]+c/2),d},l.prototype.findLineage=function(f){var c=[f];do f=f.parent,c.push(f);while(f!==this.root);return c.reverse()},l.prototype.findAncestorPathBetween=function(f,c){for(var d=this.findLineage(f),v=this.findLineage(c),g=0;d[g]===v[g];)g++;return{commonAncestor:d[g-1],lineages:d.slice(g).concat(v.slice(g))}},l.prototype.siblingObstacles=function(f,c){var d=this,v=this.findAncestorPathBetween(f,c),g={};v.lineages.forEach(function(p){return g[p.id]={}});var y=v.commonAncestor.children.filter(function(p){return!(p in g)});return v.lineages.filter(function(p){return p.parent!==v.commonAncestor}).forEach(function(p){return y=y.concat(p.parent.children.filter(function(w){return w!==p.id}))}),y.map(function(p){return d.nodes[p]})},l.getSegmentSets=function(f,c,d){for(var v=[],g=0;g<f.length;g++)for(var y=f[g],p=0;p<y.length;p++){var w=y[p];w.edgeid=g,w.i=p;var x=w[1][c]-w[0][c];Math.abs(x)<.1&&v.push(w)}v.sort(function(T,O){return T[0][c]-O[0][c]});for(var E=[],b=null,S=0;S<v.length;S++){var w=v[S];(!b||Math.abs(w[0][c]-b.pos)>.1)&&(b={pos:w[0][c],segments:[]},E.push(b)),b.segments.push(w)}return E},l.nudgeSegs=function(f,c,d,v,g,y){var p=v.length;if(!(p<=1)){for(var w=v.map(function(N){return new e.Variable(N[0][f])}),x=[],E=0;E<p;E++)for(var b=0;b<p;b++)if(E!==b){var S=v[E],T=v[b],O=S.edgeid,L=T.edgeid,M=-1,_=-1;f=="x"?g(O,L)&&(S[0][c]<S[1][c]?(M=b,_=E):(M=E,_=b)):g(O,L)&&(S[0][c]<S[1][c]?(M=E,_=b):(M=b,_=E)),M>=0&&x.push(new e.Constraint(w[M],w[_],y))}var P=new e.Solver(w,x);P.solve(),w.forEach(function(N,R){var A=v[R],B=N.position();A[0][f]=A[1][f]=B;var D=d[A.edgeid];A.i>0&&(D[A.i-1][1][f]=B),A.i<D.length-1&&(D[A.i+1][0][f]=B)})}},l.nudgeSegments=function(f,c,d,v,g){for(var y=l.getSegmentSets(f,c,d),p=0;p<y.length;p++){for(var w=y[p],x=[],E=0;E<w.segments.length;E++){var b=w.segments[E];x.push({type:0,s:b,pos:Math.min(b[0][d],b[1][d])}),x.push({type:1,s:b,pos:Math.max(b[0][d],b[1][d])})}x.sort(function(O,L){return O.pos-L.pos+O.type-L.type});var S=[],T=0;x.forEach(function(O){O.type===0?(S.push(O.s),T++):T--,T==0&&(l.nudgeSegs(c,d,f,S,v,g),S=[])})}},l.prototype.routeEdges=function(f,c,d,v){var g=this,y=f.map(function(x){return g.route(d(x),v(x))}),p=l.orderEdges(y),w=y.map(function(x){return l.makeSegments(x)});return l.nudgeSegments(w,"x","y",p,c),l.nudgeSegments(w,"y","x",p,c),l.unreverseEdges(w,y),w},l.unreverseEdges=function(f,c){f.forEach(function(d,v){var g=c[v];g.reversed&&(d.reverse(),d.forEach(function(y){y.reverse()}))})},l.angleBetween2Lines=function(f,c){var d=Math.atan2(f[0].y-f[1].y,f[0].x-f[1].x),v=Math.atan2(c[0].y-c[1].y,c[0].x-c[1].x),g=d-v;return(g>Math.PI||g<-Math.PI)&&(g=v-d),g},l.isLeft=function(f,c,d){return(c.x-f.x)*(d.y-f.y)-(c.y-f.y)*(d.x-f.x)<=0},l.getOrder=function(f){for(var c={},d=0;d<f.length;d++){var v=f[d];typeof c[v.l]>"u"&&(c[v.l]={}),c[v.l][v.r]=!0}return function(g,y){return typeof c[g]<"u"&&c[g][y]}},l.orderEdges=function(f){for(var c=[],d=0;d<f.length-1;d++)for(var v=d+1;v<f.length;v++){var g=f[d],y=f[v],p=new o(g,y),w,x,E;if(p.length!==0){if(p.reversed&&(y.reverse(),y.reversed=!0,p=new o(g,y)),(p.si<=0||p.ti<=0)&&(p.si+p.length>=g.length||p.ti+p.length>=y.length)){c.push({l:d,r:v});continue}p.si+p.length>=g.length||p.ti+p.length>=y.length?(w=g[p.si+1],E=g[p.si-1],x=y[p.ti-1]):(w=g[p.si+p.length-2],x=g[p.si+p.length],E=y[p.ti+p.length]),l.isLeft(w,x,E)?c.push({l:v,r:d}):c.push({l:d,r:v})}}return l.getOrder(c)},l.makeSegments=function(f){function c(x){return{x:x.x,y:x.y}}for(var d=function(x,E,b){return Math.abs((E.x-x.x)*(b.y-x.y)-(E.y-x.y)*(b.x-x.x))<.001},v=[],g=c(f[0]),y=1;y<f.length;y++){var p=c(f[y]),w=y<f.length-1?f[y+1]:null;(!w||!d(g,p,w))&&(v.push([g,p]),g=p)}return v},l.prototype.route=function(f,c){var d=this,v=this.nodes[f],g=this.nodes[c];this.obstacles=this.siblingObstacles(v,g);var y={};this.obstacles.forEach(function(_){return y[_.id]=_}),this.passableEdges=this.edges.filter(function(_){var P=d.verts[_.source],N=d.verts[_.target];return!(P.node&&P.node.id in y||N.node&&N.node.id in y)});for(var p=1;p<v.ports.length;p++){var w=v.ports[0].id,x=v.ports[p].id;this.passableEdges.push({source:w,target:x,length:0})}for(var p=1;p<g.ports.length;p++){var w=g.ports[0].id,x=g.ports[p].id;this.passableEdges.push({source:w,target:x,length:0})}var E=function(_){return _.source},b=function(_){return _.target},S=function(_){return _.length},T=new r.Calculator(this.verts.length,this.passableEdges,E,b,S),O=function(_,P,N){var R=d.verts[_],A=d.verts[P],B=d.verts[N],D=Math.abs(B.x-R.x),z=Math.abs(B.y-R.y);return R.node===v&&R.node===A.node||A.node===g&&A.node===B.node?0:D>1&&z>1?1e3:0},L=T.PathFromNodeToNodeWithPrevCost(v.ports[0].id,g.ports[0].id,O),M=L.reverse().map(function(_){return d.verts[_]});return M.push(this.nodes[g.id].ports[0]),M.filter(function(_,P){return!(P<M.length-1&&M[P+1].node===v&&_.node===v||P>0&&_.node===g&&M[P-1].node===g)})},l.getRoutePath=function(f,c,d,v){var g={routepath:"M "+f[0][0].x+" "+f[0][0].y+" ",arrowpath:""};if(f.length>1)for(var y=0;y<f.length;y++){var p=f[y],w=p[1].x,x=p[1].y,E=w-p[0].x,b=x-p[0].y;if(y<f.length-1){Math.abs(E)>0?w-=E/Math.abs(E)*c:x-=b/Math.abs(b)*c,g.routepath+="L "+w+" "+x+" ";var S=f[y+1],T=S[0].x,O=S[0].y,L=S[1].x,M=S[1].y;E=L-T,b=M-O;var _=l.angleBetween2Lines(p,S)<0?1:0,P,N;Math.abs(E)>0?(P=T+E/Math.abs(E)*c,N=O):(P=T,N=O+b/Math.abs(b)*c);var R=Math.abs(P-w),A=Math.abs(N-x);g.routepath+="A "+R+" "+A+" 0 0 "+_+" "+P+" "+N+" "}else{var B=[w,x],D,z;Math.abs(E)>0?(w-=E/Math.abs(E)*v,D=[w,x+d],z=[w,x-d]):(x-=b/Math.abs(b)*v,D=[w+d,x],z=[w-d,x]),g.routepath+="L "+w+" "+x+" ",v>0&&(g.arrowpath="M "+B[0]+" "+B[1]+" L "+D[0]+" "+D[1]+" L "+z[0]+" "+z[1])}}else{var p=f[0],w=p[1].x,x=p[1].y,E=w-p[0].x,b=x-p[0].y,B=[w,x],D,z;Math.abs(E)>0?(w-=E/Math.abs(E)*v,D=[w,x+d],z=[w,x-d]):(x-=b/Math.abs(b)*v,D=[w+d,x],z=[w-d,x]),g.routepath+="L "+w+" "+x+" ",v>0&&(g.arrowpath="M "+B[0]+" "+B[1]+" L "+D[0]+" "+D[1]+" L "+z[0]+" "+z[1])}return g},l}();return Ia.GridRouter=u,Ia}var Ai={},Wp;function Qk(){if(Wp)return Ai;Wp=1,Object.defineProperty(Ai,"__esModule",{value:!0});var t=Il(),e=Ld(),r=Es(),n=Bd(),i=function(){function f(c,d){this.source=c,this.target=d}return f.prototype.actualLength=function(c){var d=this;return Math.sqrt(c.reduce(function(v,g){var y=g[d.target]-g[d.source];return v+y*y},0))},f}();Ai.Link3D=i;var o=function(){function f(c,d,v){c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),this.x=c,this.y=d,this.z=v}return f}();Ai.Node3D=o;var u=function(){function f(c,d,v){var g=this;v===void 0&&(v=1),this.nodes=c,this.links=d,this.idealLinkLength=v,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(f.k);for(var y=0;y<f.k;++y)this.result[y]=new Array(c.length);c.forEach(function(p,w){for(var x=0,E=f.dims;x<E.length;x++){var b=E[x];typeof p[b]>"u"&&(p[b]=Math.random())}g.result[0][w]=p.x,g.result[1][w]=p.y,g.result[2][w]=p.z})}return f.prototype.linkLength=function(c){return c.actualLength(this.result)},f.prototype.start=function(c){var d=this;c===void 0&&(c=100);var v=this.nodes.length,g=new l;this.useJaccardLinkLengths&&n.jaccardLinkLengths(this.links,g,1.5),this.links.forEach(function(b){return b.length*=d.idealLinkLength});var y=new t.Calculator(v,this.links,function(b){return b.source},function(b){return b.target},function(b){return b.length}).DistanceMatrix(),p=e.Descent.createSquareMatrix(v,function(b,S){return y[b][S]}),w=e.Descent.createSquareMatrix(v,function(){return 2});this.links.forEach(function(b){var S=b.source,T=b.target;return w[S][T]=w[T][S]=1}),this.descent=new e.Descent(this.result,p),this.descent.threshold=.001,this.descent.G=w,this.constraints&&(this.descent.project=new r.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var x=0;x<this.nodes.length;x++){var E=this.nodes[x];E.fixed&&this.descent.locks.add(x,[E.x,E.y,E.z])}return this.descent.run(c),this},f.prototype.tick=function(){this.descent.locks.clear();for(var c=0;c<this.nodes.length;c++){var d=this.nodes[c];d.fixed&&this.descent.locks.add(c,[d.x,d.y,d.z])}return this.descent.rungeKutta()},f.dims=["x","y","z"],f.k=f.dims.length,f}();Ai.Layout3D=u;var l=function(){function f(){}return f.prototype.getSourceIndex=function(c){return c.source},f.prototype.getTargetIndex=function(c){return c.target},f.prototype.getLength=function(c){return c.length},f.prototype.setLength=function(c,d){c.length=d},f}();return Ai}var $o={},Kp;function Zk(){if(Kp)return $o;Kp=1,Object.defineProperty($o,"__esModule",{value:!0});var t=Ss(),e=Xm();function r(o,u,l,f){o.cola.start(0,0,0,10,!1);var c=n(o.cola.nodes(),o.cola.groups(),l,f);return c.routeEdges(o.powerGraph.powerEdges,u,function(d){return d.source.routerNode.id},function(d){return d.target.routerNode.id})}$o.gridify=r;function n(o,u,l,f){o.forEach(function(d){d.routerNode={name:d.name,bounds:d.bounds.inflate(-l)}}),u.forEach(function(d){d.routerNode={bounds:d.bounds.inflate(-f),children:(typeof d.groups<"u"?d.groups.map(function(v){return o.length+v.id}):[]).concat(typeof d.leaves<"u"?d.leaves.map(function(v){return v.index}):[])}});var c=o.concat(u).map(function(d,v){return d.routerNode.id=v,d.routerNode});return new e.GridRouter(c,{getChildren:function(d){return d.children},getBounds:function(d){return d.bounds}},l-f)}function i(o,u,l){var f;o.nodes.forEach(function(g,y){return g.index=y}),new t.Layout().avoidOverlaps(!1).nodes(o.nodes).links(o.links).powerGraphGroups(function(g){f=g,f.groups.forEach(function(y){return y.padding=l})});var c=o.nodes.length,d=[],v=o.nodes.slice(0);return v.forEach(function(g,y){return g.index=y}),f.groups.forEach(function(g){var y=g.index=g.id+c;v.push(g),typeof g.leaves<"u"&&g.leaves.forEach(function(p){return d.push({source:y,target:p.index})}),typeof g.groups<"u"&&g.groups.forEach(function(p){return d.push({source:y,target:p.id+c})})}),f.powerEdges.forEach(function(g){d.push({source:g.source.index,target:g.target.index})}),new t.Layout().size(u).nodes(v).links(d).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new t.Layout().convergenceThreshold(.001).size(u).avoidOverlaps(!0).nodes(o.nodes).links(o.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(g){f=g,f.groups.forEach(function(y){y.padding=l})}).start(50,0,100,0,!1),powerGraph:f}}return $o.powerGraphGridLayout=i,$o}var Xp;function Jk(){return Xp||(Xp=1,function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(Kk()),e(jk()),e(Ld()),e(Wm()),e(Xm()),e(Km()),e(Ss()),e(Qk()),e(Bd()),e(qm()),e($m()),e(Hm()),e(Es()),e(Il()),e(Rd()),e(Zk())}(Fc)),Fc}var eP=sl.exports,Yp;function tP(){return Yp||(Yp=1,function(t,e){(function(n,i){t.exports=i(Jk())})(eP,function(r){return function(n){var i={};function o(u){if(i[u])return i[u].exports;var l=i[u]={i:u,l:!1,exports:{}};return n[u].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=n,o.c=i,o.i=function(u){return u},o.d=function(u,l,f){o.o(u,l)||Object.defineProperty(u,l,{configurable:!1,enumerable:!0,get:f})},o.n=function(u){var l=u&&u.__esModule?function(){return u.default}:function(){return u};return o.d(l,"a",l),l},o.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)},o.p="",o(o.s=3)}([function(n,i,o){var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l=o(1),f=o(2),c=o(5)||(typeof window<"u"?window.cola:null),d=o(4),v=function(S){return(typeof S>"u"?"undefined":u(S))===u("")},g=function(S){return(typeof S>"u"?"undefined":u(S))===u(0)},y=function(S){return S!=null&&(typeof S>"u"?"undefined":u(S))===u({})},p=function(S){return S!=null&&(typeof S>"u"?"undefined":u(S))===u(function(){})},w=function(){},x=function(S,T){if(p(S)){var O=S;return O.apply(T,[T])}else return S};function E(b){this.options=l({},f,b)}E.prototype.run=function(){var b=this,S=this.options;b.manuallyStopped=!1;var T=S.cy,O=S.eles,L=O.nodes(),M=O.edges(),_=!1,P=function(ce){return ce.isParent()},N=L.filter(P),R=L.subtract(N),A=S.boundingBox||{x1:0,y1:0,w:T.width(),h:T.height()};A.x2===void 0&&(A.x2=A.x1+A.w),A.w===void 0&&(A.w=A.x2-A.x1),A.y2===void 0&&(A.y2=A.y1+A.h),A.h===void 0&&(A.h=A.y2-A.y1);var B=function(){for(var ce=0;ce<L.length;ce++){var he=L[ce],me=he.layoutDimensions(S),Le=he.scratch("cola");if(!Le.updatedDims){var $e=x(S.nodeSpacing,he);Le.width=me.w+2*$e,Le.height=me.h+2*$e}}L.positions(function(Xe){var ke=Xe.scratch().cola,Se=void 0;return!Xe.grabbed()&&R.contains(Xe)&&(Se={x:A.x1+ke.x,y:A.y1+ke.y},(!g(Se.x)||!g(Se.y))&&(Se=void 0)),Se}),L.updateCompoundBounds(),_||(z(),_=!0),S.fit&&T.fit(S.padding)},D=function(){S.ungrabifyWhileSimulating&&U.grabify(),T.off("destroy",q),L.off("grab free position",$),L.off("lock unlock",V),b.one("layoutstop",S.stop),b.trigger({type:"layoutstop",layout:b})},z=function(){b.one("layoutready",S.ready),b.trigger({type:"layoutready",layout:b})},I=S.refresh;S.refresh<0?I=1:I=Math.max(1,I);var G=b.adaptor=c.adaptor({trigger:function(ce){var he=c.EventType?c.EventType.tick:null,me=c.EventType?c.EventType.end:null;switch(ce.type){case"tick":case he:S.animate&&B();break;case"end":case me:B(),S.infinite||D();break}},kick:function(){var ce=!0,he=function(){if(b.manuallyStopped)return D(),!0;var Xe=G.tick();return!S.infinite&&!ce&&G.convergenceThreshold(S.convergenceThreshold),ce=!1,Xe&&S.infinite&&G.resume(),Xe},me=function(){for(var Xe=void 0,ke=0;ke<I&&!Xe;ke++)Xe=Xe||he();return Xe};if(S.animate){var Le=function $e(){me()||d($e)};d(Le)}else for(;!he(););},on:w,drag:w});b.adaptor=G;var U=L.filter(":grabbable");S.ungrabifyWhileSimulating&&U.ungrabify();var q=void 0;T.one("destroy",q=function(){b.stop()});var $=void 0;L.on("grab free position",$=function(ce){var he=this,me=he.scratch().cola,Le=he.position(),$e=ce.cyTarget===he||ce.target===he;if($e)switch(ce.type){case"grab":G.dragstart(me);break;case"free":G.dragend(me);break;case"position":(me.px!==Le.x-A.x1||me.py!==Le.y-A.y1)&&(me.px=Le.x-A.x1,me.py=Le.y-A.y1);break}});var V=void 0;L.on("lock unlock",V=function(){var ce=this,he=ce.scratch().cola;he.fixed=ce.locked(),ce.locked()?G.dragstart(he):G.dragend(he)}),G.nodes(R.map(function(Q,ce){var he=x(S.nodeSpacing,Q),me=Q.position(),Le=Q.layoutDimensions(S),$e=Q.scratch().cola={x:S.randomize&&!Q.locked()||me.x===void 0?Math.round(Math.random()*A.w):me.x,y:S.randomize&&!Q.locked()||me.y===void 0?Math.round(Math.random()*A.h):me.y,width:Le.w+2*he,height:Le.h+2*he,index:ce,fixed:Q.locked()};return $e}));var W=[];if(S.alignment){if(S.alignment.vertical){var ee=S.alignment.vertical;ee.forEach(function(Q){var ce=[];Q.forEach(function(he){var me=he.node,Le=me.scratch().cola,$e=Le.index;ce.push({node:$e,offset:he.offset?he.offset:0})}),W.push({type:"alignment",axis:"x",offsets:ce})})}if(S.alignment.horizontal){var J=S.alignment.horizontal;J.forEach(function(Q){var ce=[];Q.forEach(function(he){var me=he.node,Le=me.scratch().cola,$e=Le.index;ce.push({node:$e,offset:he.offset?he.offset:0})}),W.push({type:"alignment",axis:"y",offsets:ce})})}}S.gapInequalities&&S.gapInequalities.forEach(function(Q){var ce=Q.left.scratch().cola.index,he=Q.right.scratch().cola.index;W.push({axis:Q.axis,left:ce,right:he,gap:Q.gap,equality:Q.equality})}),W.length>0&&G.constraints(W),G.groups(N.map(function(Q,ce){var he=x(S.nodeSpacing,Q),me=function(Me){return parseFloat(Q.style("padding-"+Me))},Le=me("left")+he,$e=me("right")+he,Xe=me("top")+he,ke=me("bottom")+he;return Q.scratch().cola={index:ce,padding:Math.max(Le,$e,Xe,ke),leaves:Q.children().intersection(R).map(function(Se){return Se[0].scratch().cola.index}),fixed:Q.locked()},Q}).map(function(Q){return Q.scratch().cola.groups=Q.children().intersection(N).map(function(ce){return ce.scratch().cola.index}),Q.scratch().cola}));var te=void 0,re=void 0;S.edgeLength!=null?(te=S.edgeLength,re="linkDistance"):S.edgeSymDiffLength!=null?(te=S.edgeSymDiffLength,re="symmetricDiffLinkLengths"):S.edgeJaccardLength!=null?(te=S.edgeJaccardLength,re="jaccardLinkLengths"):(te=100,re="linkDistance");var fe=function(ce){return ce.calcLength};if(G.links(M.stdFilter(function(Q){return R.contains(Q.source())&&R.contains(Q.target())}).map(function(Q){var ce=Q.scratch().cola={source:Q.source()[0].scratch().cola.index,target:Q.target()[0].scratch().cola.index};return te!=null&&(ce.calcLength=x(te,Q)),ce})),G.size([A.w,A.h]),te!=null&&G[re](fe),S.flow){var ue=void 0,Y="y",j=50;v(S.flow)?ue={axis:S.flow,minSeparation:j}:g(S.flow)?ue={axis:Y,minSeparation:S.flow}:y(S.flow)?(ue=S.flow,ue.axis=ue.axis||Y,ue.minSeparation=ue.minSeparation!=null?ue.minSeparation:j):ue={axis:Y,minSeparation:j},G.flowLayout(ue.axis,ue.minSeparation)}return b.trigger({type:"layoutstart",layout:b}),G.avoidOverlaps(S.avoidOverlap).handleDisconnected(S.handleDisconnected).start(S.unconstrIter,S.userConstIter,S.allConstIter,void 0,void 0,S.centerGraph),S.infinite||setTimeout(function(){b.manuallyStopped||G.stop()},S.maxSimulationTime),this},E.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},n.exports=E},function(n,i,o){n.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var l=arguments.length,f=Array(l>1?l-1:0),c=1;c<l;c++)f[c-1]=arguments[c];return f.filter(function(d){return d!=null}).forEach(function(d){Object.keys(d).forEach(function(v){return u[v]=d[v]})}),u}},function(n,i,o){var u={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(f){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};n.exports=u},function(n,i,o){var u=o(0),l=function(c){c&&c("layout","cola",u)};typeof cytoscape<"u"&&l(cytoscape),n.exports=l},function(n,i,o){var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l=void 0;(typeof window>"u"?"undefined":u(window))!=="undefined"?l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(f){return setTimeout(f,16)}:l=function(c){c()},n.exports=l},function(n,i){n.exports=r}])})}(sl)),sl.exports}var rP=tP();const nP=R1(rP),aP=[{selector:"node",style:{shape:"rectangle",height:"8px",width:"label",padding:"16px","font-size":"12px",content:"data(label)","text-valign":"center","text-halign":"center"}},{selector:":parent",style:{"text-valign":"top","text-halign":"center",padding:"16px"}},{selector:"node[hidden]",style:{display:"none"}},{selector:"edge",style:{label:"data(labels)","curve-style":"bezier","text-opacity":1,"font-size":10,color:"#000","edge-text-rotation":"autorotate","arrow-scale":1.5}}],iP=JSON.parse('{"nodes":[{"data":{"id":"refactoring_guru.strategy.example.Demo.b9de727b8efa9b02e62ffa7c79d21c5d","properties":{"simpleName":"b9de727b8efa9b02e62ffa7c79d21c5d","kind":"script"},"labels":["Script"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.getTotalCost()","properties":{"simpleName":"getTotalCost()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"boolean","properties":{"simpleName":"boolean"},"labels":["Primitive"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.getAmount()","properties":{"simpleName":"getAmount()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.pay(int).paymentAmount","properties":{"simpleName":"paymentAmount","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.setTotalCost(int).cost","properties":{"simpleName":"cost","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByCreditCard.refactoring_guru.strategy.example.strategies.PayByCreditCard()","properties":{"simpleName":"refactoring_guru.strategy.example.strategies.PayByCreditCard()","kind":"ctor"},"labels":["Constructor"]}},{"data":{"id":"refactoring_guru.strategy.example.Demo.reader","properties":{"simpleName":"reader","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String)","properties":{"simpleName":"refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String)","kind":"ctor"},"labels":["Constructor"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.amount","properties":{"simpleName":"amount","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayStrategy","properties":{"simpleName":"PayStrategy","kind":"interface"},"labels":["Structure"]}},{"data":{"id":"refactoring_guru.strategy.example.Demo.order","properties":{"simpleName":"order","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.isClosed","properties":{"simpleName":"isClosed","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.date","properties":{"simpleName":"date","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.setAmount(int)","properties":{"simpleName":"setAmount(int)","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.collectPaymentDetails()","properties":{"simpleName":"collectPaymentDetails()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayStrategy.pay(int)","properties":{"simpleName":"pay(int)","kind":"method"},"labels":["Operation"]}},{"data":{"id":"char","properties":{"simpleName":"char"},"labels":["Primitive"]}},{"data":{"id":"refactoring_guru.strategy.example.order","properties":{"simpleName":"order","kind":"package"},"labels":["Container"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.processOrder(refactoring_guru.strategy.example.strategies.PayStrategy).strategy","properties":{"simpleName":"strategy","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.cvv","properties":{"simpleName":"cvv","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.Demo.priceOnProducts","properties":{"simpleName":"priceOnProducts","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.verify()","properties":{"simpleName":"verify()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.pay(int)","properties":{"simpleName":"pay(int)","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy","properties":{"simpleName":"strategy","kind":"package"},"labels":["Container"]}},{"data":{"id":"refactoring_guru.strategy.example.Demo.main(java.lang.String[]).args","properties":{"simpleName":"args","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.setSignedIn(boolean).signedIn","properties":{"simpleName":"signedIn","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order","properties":{"simpleName":"Order","kind":"class"},"labels":["Structure"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.refactoring_guru.strategy.example.strategies.PayByPayPal()","properties":{"simpleName":"refactoring_guru.strategy.example.strategies.PayByPayPal()","kind":"ctor"},"labels":["Constructor"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayStrategy.pay(int).paymentAmount","properties":{"simpleName":"paymentAmount","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"float","properties":{"simpleName":"float"},"labels":["Primitive"]}},{"data":{"id":"refactoring_guru.strategy.example.Demo.strategy","properties":{"simpleName":"strategy","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.processOrder(refactoring_guru.strategy.example.strategies.PayStrategy)","properties":{"simpleName":"processOrder(refactoring_guru.strategy.example.strategies.PayStrategy)","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.password","properties":{"simpleName":"password","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example","properties":{"simpleName":"example","kind":"package"},"labels":["Container"]}},{"data":{"id":"refactoring_guru","properties":{"simpleName":"refactoring_guru","kind":"package"},"labels":["Container"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.refactoring_guru.strategy.example.order.Order()","properties":{"simpleName":"refactoring_guru.strategy.example.order.Order()","kind":"ctor"},"labels":["Constructor"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"simpleName":"PayByPayPal","kind":"class"},"labels":["Structure"]}},{"data":{"id":"refactoring_guru.strategy.example.Demo.refactoring_guru.strategy.example.Demo()","properties":{"simpleName":"refactoring_guru.strategy.example.Demo()","kind":"ctor"},"labels":["Constructor"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.number","properties":{"simpleName":"number","kind":"field"},"labels":["Variable"]}},{"data":{"id":"double","properties":{"simpleName":"double"},"labels":["Primitive"]}},{"data":{"id":"short","properties":{"simpleName":"short"},"labels":["Primitive"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.email","properties":{"simpleName":"email","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayStrategy.collectPaymentDetails()","properties":{"simpleName":"collectPaymentDetails()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"byte","properties":{"simpleName":"byte"},"labels":["Primitive"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByCreditCard","properties":{"simpleName":"PayByCreditCard","kind":"class"},"labels":["Structure"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.DATA_BASE","properties":{"simpleName":"DATA_BASE","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.READER","properties":{"simpleName":"READER","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).number","properties":{"simpleName":"number","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"int","properties":{"simpleName":"int"},"labels":["Primitive"]}},{"data":{"id":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"simpleName":"main(java.lang.String[])","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.setClosed()","properties":{"simpleName":"setClosed()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.setAmount(int).amount","properties":{"simpleName":"amount","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByCreditCard.READER","properties":{"simpleName":"READER","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.signedIn","properties":{"simpleName":"signedIn","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).cvv","properties":{"simpleName":"cvv","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByCreditCard.collectPaymentDetails()","properties":{"simpleName":"collectPaymentDetails()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.de9a5bf43be7b5ef9b1217d6348543ba","properties":{"simpleName":"de9a5bf43be7b5ef9b1217d6348543ba","kind":"script"},"labels":["Script"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByPayPal.setSignedIn(boolean)","properties":{"simpleName":"setSignedIn(boolean)","kind":"method"},"labels":["Operation"]}},{"data":{"id":"java.lang.String","properties":{"simpleName":"String"},"labels":["Structure"]}},{"data":{"id":"refactoring_guru.strategy.example.Demo","properties":{"simpleName":"Demo","kind":"class"},"labels":["Structure"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard","properties":{"simpleName":"CreditCard","kind":"class"},"labels":["Structure"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByCreditCard.cardIsPresent()","properties":{"simpleName":"cardIsPresent()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int)","properties":{"simpleName":"pay(int)","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int).paymentAmount","properties":{"simpleName":"paymentAmount","kind":"parameter"},"labels":["Variable"]}},{"data":{"id":"long","properties":{"simpleName":"long"},"labels":["Primitive"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.totalCost","properties":{"simpleName":"totalCost","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.isClosed()","properties":{"simpleName":"isClosed()","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.order.Order.setTotalCost(int)","properties":{"simpleName":"setTotalCost(int)","kind":"method"},"labels":["Operation"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.PayByCreditCard.card","properties":{"simpleName":"card","kind":"field"},"labels":["Variable"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies","properties":{"simpleName":"strategies","kind":"package"},"labels":["Container"]}},{"data":{"id":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).date","properties":{"simpleName":"date","kind":"parameter"},"labels":["Variable"]}}],"edges":[{"data":{"id":"b9eaad683317191a177ee6000d117aeb","source":"refactoring_guru.strategy.example.strategies.PayStrategy.pay(int).paymentAmount","properties":{"weight":1},"target":"int","labels":["type"]}},{"data":{"id":"30a63ed5028f3dfca9f4f83417ddbd93","source":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).cvv","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"1de4855c89206d26c2d21a2e307aee60","source":"refactoring_guru.strategy.example.order.Order.totalCost","properties":{"weight":1},"target":"int","labels":["type"]}},{"data":{"id":"33c92d0dc9aa33a5d4343f1f77d1b47c","source":"refactoring_guru.strategy.example.strategies.CreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.date","labels":["hasVariable"]}},{"data":{"id":"14838429a0fbfd7f026dbc7cd75ffba2","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.isClosed()","labels":["invokes"]}},{"data":{"id":"00ff4977252abc850a31866e4b397cdc","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard.cardIsPresent()","labels":["invokes"]}},{"data":{"id":"3938a8f584317242f38e1de9e52b1561","source":"refactoring_guru.strategy.example.order.Order.setTotalCost(int).cost","properties":{"weight":1},"target":"int","labels":["type"]}},{"data":{"id":"af1a096375715a93879378b7522cf809","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.password","labels":["hasVariable"]}},{"data":{"id":"fb5ee7826a777dd8645b38eb0446dd0f","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard.cardIsPresent()","labels":["hasScript"]}},{"data":{"id":"84c7f10b6e7fad264fdddb7499ee6bd4","source":"refactoring_guru.strategy.example.strategies.PayStrategy","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy.pay(int)","labels":["hasScript"]}},{"data":{"id":"4e312ecff6592f8f5a7a962b33f65515","source":"refactoring_guru.strategy.example.Demo.refactoring_guru.strategy.example.Demo()","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo","labels":["returnType"]}},{"data":{"id":"cce620d8410269e537291f607bbe2e2e","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.DATA_BASE","labels":["hasVariable"]}},{"data":{"id":"62b5292e8475872bbd2f7cb84f7201c7","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.setSignedIn(boolean).signedIn","properties":{"weight":1},"target":"boolean","labels":["type"]}},{"data":{"id":"cfc455f64b08669af12cbfa9a0f017d8","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[]).args","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"5ad1e3d0c1c32ae6fd679ec44bf90e67","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard.collectPaymentDetails()","labels":["hasScript"]}},{"data":{"id":"8e422f5954255d707b1cfa435caf4339","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.setTotalCost(int)","labels":["invokes"]}},{"data":{"id":"990fe1c59afe90cd0af309dc16bf6606","source":"refactoring_guru.strategy.example.strategies","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard","labels":["contains"]}},{"data":{"id":"a863996e9ce8d65ab5d92f37f399ce4f","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.de9a5bf43be7b5ef9b1217d6348543ba","labels":["hasScript"]}},{"data":{"id":"2d021589e0672aa8a58fec379080876d","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int)","properties":{"weight":1},"target":"boolean","labels":["returnType"]}},{"data":{"id":"0a17277ebb79f5720bd7145f58e08091","source":"refactoring_guru.strategy.example.order.Order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.getTotalCost()","labels":["hasScript"]}},{"data":{"id":"0d450fd3b374054e7334656319ad896c","source":"refactoring_guru.strategy.example.strategies.PayStrategy.pay(int)","properties":{"weight":1},"target":"boolean","labels":["returnType"]}},{"data":{"id":"86c9c71829ab95d1a3e5be92832e6b52","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.setClosed()","labels":["invokes"]}},{"data":{"id":"97a650526d680561be78602aab343dc6","source":"refactoring_guru.strategy.example.strategies.CreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.getAmount()","labels":["hasScript"]}},{"data":{"id":"7769d40220dbf2f5fc3d5fe82410e115","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":2},"target":"refactoring_guru.strategy.example.order.Order.getTotalCost()","labels":["invokes"]}},{"data":{"id":"0252340e8707b7dd93899b1d732d688b","source":"refactoring_guru.strategy.example.order.Order.processOrder(refactoring_guru.strategy.example.strategies.PayStrategy)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy.collectPaymentDetails()","labels":["invokes"]}},{"data":{"id":"c16a90e4ecb793ef56cedce41c5fad64","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.verify()","labels":["hasScript"]}},{"data":{"id":"6108cbe681d0de749b3fc5c2b33338eb","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy.pay(int)","labels":["invokes"]}},{"data":{"id":"a67d546c18e358ca814bd4b3cd43c0a2","source":"refactoring_guru.strategy.example.strategies.CreditCard.amount","properties":{"weight":1},"target":"int","labels":["type"]}},{"data":{"id":"06916a51a4ded121fba44e7218b32125","source":"refactoring_guru.strategy.example.strategies.CreditCard.setAmount(int)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.setAmount(int).amount","labels":["hasParameter"]}},{"data":{"id":"5abed1d531d69801596ab5e5c4515c50","source":"refactoring_guru.strategy.example.Demo","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","labels":["hasScript"]}},{"data":{"id":"8a5211da363974c185c3ffed99aee72b","source":"refactoring_guru.strategy.example.order.Order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.processOrder(refactoring_guru.strategy.example.strategies.PayStrategy)","labels":["hasScript"]}},{"data":{"id":"2f0cdb2dc999b3aee1b4e8586fa01f75","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.verify()","properties":{"weight":1},"target":"boolean","labels":["returnType"]}},{"data":{"id":"762727518a8bb6c2505c7edd16f6f1b6","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo.main(java.lang.String[]).args","labels":["hasParameter"]}},{"data":{"id":"58483b27b5b773e9811e8a7b065ab3f1","source":"refactoring_guru.strategy.example.Demo","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo.b9de727b8efa9b02e62ffa7c79d21c5d","labels":["hasScript"]}},{"data":{"id":"8ae784c1fb1fc4114c5a13db1fa3d9f2","source":"refactoring_guru.strategy.example.order.Order.processOrder(refactoring_guru.strategy.example.strategies.PayStrategy)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.processOrder(refactoring_guru.strategy.example.strategies.PayStrategy).strategy","labels":["hasParameter"]}},{"data":{"id":"451e27c0c836b79ff3d77624e259f6ca","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.getAmount()","labels":["invokes"]}},{"data":{"id":"a352ef00b217312da471429ee8104c40","source":"refactoring_guru.strategy.example.order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order","labels":["contains"]}},{"data":{"id":"6cd36585a2e72cb83b58752ebd2bc3e2","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.verify()","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.setSignedIn(boolean)","labels":["invokes"]}},{"data":{"id":"e35ff39759be4e5c6e2032ce09ac2f2c","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.refactoring_guru.strategy.example.strategies.PayByPayPal()","labels":["hasScript"]}},{"data":{"id":"50b3fede2244b5ad4588c96e3ad0f675","source":"refactoring_guru.strategy.example","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order","labels":["contains"]}},{"data":{"id":"35e7e8d67d4863e5dbcedbcab8df9fa2","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.refactoring_guru.strategy.example.strategies.PayByCreditCard()","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard","labels":["returnType"]}},{"data":{"id":"25f16d376953f2ec8cf46824a7fdb6d2","source":"refactoring_guru.strategy.example.order.Order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.setTotalCost(int)","labels":["hasScript"]}},{"data":{"id":"3da302cfc3b708c2606fbac6c54eb38c","source":"refactoring_guru.strategy.example.strategies.CreditCard.setAmount(int).amount","properties":{"weight":1},"target":"int","labels":["type"]}},{"data":{"id":"005fa7b4a6d334f21c84ec9380fc866a","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.cardIsPresent()","properties":{"weight":1},"target":"boolean","labels":["returnType"]}},{"data":{"id":"75885e0ad6fe586fe82d1ca6382a64fe","source":"refactoring_guru.strategy.example.Demo.order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order","labels":["type"]}},{"data":{"id":"d6a6f3952bb87095fbdae76001687c3a","source":"refactoring_guru.strategy.example.strategies.CreditCard.number","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"5e1fc12ab672cc56ec28624ac4556109","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int).paymentAmount","properties":{"weight":1},"target":"int","labels":["type"]}},{"data":{"id":"fb54d0e89e8b7d2ee0b04e9107cc3769","source":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard","labels":["returnType"]}},{"data":{"id":"bca16078db3f83545084b0399e8a14a7","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.collectPaymentDetails()","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.verify()","labels":["invokes"]}},{"data":{"id":"d1a89277c3795e6ffae54c258c187e97","source":"refactoring_guru.strategy.example.order.Order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.setClosed()","labels":["hasScript"]}},{"data":{"id":"44ab9ea674b346c434cbf5f95c5826b9","source":"refactoring_guru.strategy.example.strategies.CreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.setAmount(int)","labels":["hasScript"]}},{"data":{"id":"9dc6d0d9ff07d86b7af8b823cce7fd62","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.processOrder(refactoring_guru.strategy.example.strategies.PayStrategy)","labels":["invokes"]}},{"data":{"id":"e1f9d662c6b05bbb11fb9cca8929a698","source":"refactoring_guru.strategy.example","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo","labels":["contains"]}},{"data":{"id":"1a80f7775e5c5ce58ce0c9cfca72367e","source":"refactoring_guru.strategy.example.order.Order.processOrder(refactoring_guru.strategy.example.strategies.PayStrategy).strategy","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy","labels":["type"]}},{"data":{"id":"27c37e5740c6be7c02fc00ca423d18f6","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.email","labels":["hasVariable"]}},{"data":{"id":"e8d53fe8ca6ba206a9d4f2b03531e4cc","source":"refactoring_guru.strategy.example.strategies.PayStrategy.pay(int)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy.pay(int).paymentAmount","labels":["hasParameter"]}},{"data":{"id":"bf9a6e4cd2a31da52e29c6f898ce167c","source":"refactoring_guru.strategy.example.Demo.strategy","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy","labels":["type"]}},{"data":{"id":"74f1b0978d1e8177453e722b1ea1923b","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.password","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"17d42c2d9190d2da48d1b6396b3b6e1e","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.pay(int)","properties":{"weight":1},"target":"boolean","labels":["returnType"]}},{"data":{"id":"27c8d1a9fa8992564fcaca079d7495c4","source":"refactoring_guru.strategy.example.order.Order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.isClosed","labels":["hasVariable"]}},{"data":{"id":"9371f81d37024f9b40a1ee543487865f","source":"refactoring_guru.strategy.example.strategies.CreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.cvv","labels":["hasVariable"]}},{"data":{"id":"381cf86455450d1d9568ea84d6fbef91","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.setSignedIn(boolean)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.setSignedIn(boolean).signedIn","labels":["hasParameter"]}},{"data":{"id":"0bed699279f7d7eb595e62fbcb5f509c","source":"refactoring_guru.strategy.example.Demo","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo.refactoring_guru.strategy.example.Demo()","labels":["hasScript"]}},{"data":{"id":"ed01159880cda58e8ebda1ef352576cc","source":"refactoring_guru.strategy.example.strategies","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal","labels":["contains"]}},{"data":{"id":"b495e2df6215920e995e37b16ed22054","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.READER","labels":["hasVariable"]}},{"data":{"id":"0c6fc7faffdb95add6ce8c56c21e361d","source":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).number","labels":["hasParameter"]}},{"data":{"id":"70ccd96600ea45e8a28a9b47ac01a11d","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int).paymentAmount","labels":["hasParameter"]}},{"data":{"id":"2a842ae5570d9449fce8ba53a0d4f77d","source":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).number","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"b827c6bc8403f00d50a951916dc48c83","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int)","labels":["hasScript"]}},{"data":{"id":"adaef456090aaf1c9782928c8aa7d65b","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.collectPaymentDetails()","labels":["hasScript"]}},{"data":{"id":"151168cab355a020c96c7d5afedab9b9","source":"refactoring_guru.strategy.example.order.Order.isClosed()","properties":{"weight":1},"target":"boolean","labels":["returnType"]}},{"data":{"id":"ba7578e5cea19c285304218898e234a3","source":"refactoring_guru.strategy.example.strategies.CreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.number","labels":["hasVariable"]}},{"data":{"id":"2c715c30cfa7428e8cf6ee5f8361e2c2","source":"refactoring_guru.strategy.example.Demo","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo.priceOnProducts","labels":["hasVariable"]}},{"data":{"id":"198d684cc5a291c69b764d142a710813","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.email","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"f179f658c829bf4c06dce97e9dea10a4","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal","labels":["instantiates"]}},{"data":{"id":"8dc7e23a9eaf8cb285f073835048a059","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.setSignedIn(boolean)","labels":["hasScript"]}},{"data":{"id":"d9d6a39d039418e2b129c3a952077f5a","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.card","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard","labels":["type"]}},{"data":{"id":"043b5ddd033829ae6d0a0956dd66f181","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.refactoring_guru.strategy.example.strategies.PayByPayPal()","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal","labels":["returnType"]}},{"data":{"id":"9b18314484bb9ff96a4c52af9bc97694","source":"refactoring_guru.strategy.example.order.Order.getTotalCost()","properties":{"weight":1},"target":"int","labels":["returnType"]}},{"data":{"id":"89095576307bfba09aa8850e23e84541","source":"refactoring_guru.strategy.example.strategies.PayStrategy","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy.collectPaymentDetails()","labels":["hasScript"]}},{"data":{"id":"eb63c941ab60270e96e6346004225aaf","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.signedIn","labels":["hasVariable"]}},{"data":{"id":"8d20f53e761e4c64ed7ffbe44a1a450f","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard.READER","labels":["hasVariable"]}},{"data":{"id":"67cb787e7c359f428100d366f17a9d8b","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy","labels":["specializes"]}},{"data":{"id":"67c2e9429c00b35706c07f946bf470ff","source":"refactoring_guru.strategy.example.strategies.CreditCard.cvv","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"985489455d1bdb70b6f318e3cc1a5985","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.pay(int)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.pay(int).paymentAmount","labels":["hasParameter"]}},{"data":{"id":"9e22a6f77aab58af4434cb7baad1acdf","source":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).cvv","labels":["hasParameter"]}},{"data":{"id":"3b7fe859fcadea1bc4c548af5b4074e4","source":"refactoring_guru.strategy.example","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies","labels":["contains"]}},{"data":{"id":"3e4d92ebafd7077e4daafd0abfc88429","source":"refactoring_guru.strategy.example.strategies","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy","labels":["contains"]}},{"data":{"id":"3b2ca0af2389b2a408542c1edf61985b","source":"refactoring_guru","properties":{"weight":1},"target":"refactoring_guru.strategy","labels":["contains"]}},{"data":{"id":"1131d5da3f7d264b15786ec07e450e7c","source":"refactoring_guru.strategy.example.strategies.CreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String)","labels":["hasScript"]}},{"data":{"id":"9a4a2e8eb9b8f076a2313ff2c249c455","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.pay(int).paymentAmount","properties":{"weight":1},"target":"int","labels":["type"]}},{"data":{"id":"f6d13677f329107515cc3060507fd27c","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard.card","labels":["hasVariable"]}},{"data":{"id":"eb8d76b0b3e0cdf0e424d69244d8b345","source":"refactoring_guru.strategy.example.strategies.PayByPayPal.signedIn","properties":{"weight":1},"target":"boolean","labels":["type"]}},{"data":{"id":"908ea43a2fd8d02db466d3bd8bb0161f","source":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).date","labels":["hasParameter"]}},{"data":{"id":"e5bd1992dec9edc19d33b68d9b91b58b","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayStrategy","labels":["specializes"]}},{"data":{"id":"35ab11152e07b19ac6a843196cc10066","source":"refactoring_guru.strategy.example.strategies.CreditCard.date","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"d054bbcda74ef19925380fa6d4d846f7","source":"refactoring_guru.strategy.example.strategies","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard","labels":["contains"]}},{"data":{"id":"3dc3e8c93f2025b0a66765fcd06c0dda","source":"refactoring_guru.strategy","properties":{"weight":1},"target":"refactoring_guru.strategy.example","labels":["contains"]}},{"data":{"id":"7cf9c4dbe187b9d96635aa79047d1f34","source":"refactoring_guru.strategy.example.strategies.PayByPayPal","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByPayPal.pay(int)","labels":["hasScript"]}},{"data":{"id":"84ba90b9333b0432a0964c8c535cc38e","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.collectPaymentDetails()","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard","labels":["instantiates"]}},{"data":{"id":"cecf741477148c7c5e724fdd9b66cda0","source":"refactoring_guru.strategy.example.order.Order.isClosed","properties":{"weight":1},"target":"boolean","labels":["type"]}},{"data":{"id":"99523a1f98bd5f688ee5a7d83671d737","source":"refactoring_guru.strategy.example.strategies.CreditCard.getAmount()","properties":{"weight":1},"target":"int","labels":["returnType"]}},{"data":{"id":"1ea3017422b77dd6c2595d22d38444c0","source":"refactoring_guru.strategy.example.order.Order.refactoring_guru.strategy.example.order.Order()","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order","labels":["returnType"]}},{"data":{"id":"d1164097b5763f8522627424c7708266","source":"refactoring_guru.strategy.example.Demo.main(java.lang.String[])","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard","labels":["instantiates"]}},{"data":{"id":"9c74e8d8592a575baa09caf533eca7d7","source":"refactoring_guru.strategy.example.Demo","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo.strategy","labels":["hasVariable"]}},{"data":{"id":"8e56f25bbd7e784a49f8711eea593d26","source":"refactoring_guru.strategy.example.order.Order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.refactoring_guru.strategy.example.order.Order()","labels":["hasScript"]}},{"data":{"id":"7b32ea5ab8ecf0ae8cdb4c92f7e2ba35","source":"refactoring_guru.strategy.example.order.Order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.isClosed()","labels":["hasScript"]}},{"data":{"id":"a19a30a8b01882a8475fe60a6a4c1305","source":"refactoring_guru.strategy.example.strategies.CreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.amount","labels":["hasVariable"]}},{"data":{"id":"70ee5210ba4547062b5f77fa8d3ea05b","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.PayByCreditCard.refactoring_guru.strategy.example.strategies.PayByCreditCard()","labels":["hasScript"]}},{"data":{"id":"773d788b950d8b662da44e3420c98c4f","source":"refactoring_guru.strategy.example.order.Order.setTotalCost(int)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.setTotalCost(int).cost","labels":["hasParameter"]}},{"data":{"id":"b1063e26b85edfc3b561a0faa74d80f9","source":"refactoring_guru.strategy.example.strategies.PayByCreditCard.pay(int)","properties":{"weight":1},"target":"refactoring_guru.strategy.example.strategies.CreditCard.setAmount(int)","labels":["invokes"]}},{"data":{"id":"b2499db4085ee3decf1a7e87834f67e2","source":"refactoring_guru.strategy.example.strategies.CreditCard.refactoring_guru.strategy.example.strategies.CreditCard(java.lang.String,java.lang.String,java.lang.String).date","properties":{"weight":1},"target":"java.lang.String","labels":["type"]}},{"data":{"id":"11aac22a72440d13d54f2562ee0d03cc","source":"refactoring_guru.strategy.example.Demo","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo.reader","labels":["hasVariable"]}},{"data":{"id":"afeeba06f25032c261c4ec63ec02db03","source":"refactoring_guru.strategy.example.Demo","properties":{"weight":1},"target":"refactoring_guru.strategy.example.Demo.order","labels":["hasVariable"]}},{"data":{"id":"99835a50f840d78cd4d2dcf7341cc67e","source":"refactoring_guru.strategy.example.order.Order","properties":{"weight":1},"target":"refactoring_guru.strategy.example.order.Order.totalCost","labels":["hasVariable"]}}]}'),oP={elements:iP},ad=["Operation","Constructor","Script","Variable"];function sP(t){let{nodes:e,edges:r}=t;if(e.some(o=>(o.data.labels||[o.data.label]).some(l=>ad.includes(l)))){const{nodes:o,edges:u}=uP(e,r);e=o,r=u}const i=new Map;return r=r.filter(o=>{var u;return(u=o.data.labels)!=null&&u.includes("contains")||o.data.label==="contains"?(i.set(o.data.target,o.data.source),!1):!0}),e=e.map(o=>({...o,data:{...o.data,parent:i.get(o.data.id)||o.data.parent}})),e.forEach(o=>{((o.data.labels||[o.data.label]).includes("Primitive")||o.data.id.includes("java.lang.String"))&&(o.data.hidden=!0);const{name:l,shortname:f,simpleName:c}=o.data.properties||{};o.data.label=l||f||c}),{nodes:e,edges:r}}function uP(t,e){var w,x,E;const r=t.filter(b=>{var S;return((S=b.data.labels)==null?void 0:S.some(T=>!ad.includes(T)))||ad.includes(b.data.label)}),n=new Map;e.forEach(b=>{var T,O;const S=((T=b.data.labels)==null?void 0:T.join())||b.data.label;n.has(S)||n.set(S,new Set),(O=n.get(S))==null||O.add(b)});const i=new Map;(w=n.get("hasScript"))==null||w.forEach(b=>{var S;i.has(b.data.target)||i.set(b.data.target,new Set),(S=i.get(b.data.target))==null||S.add(b.data.source)});const o=new Map;(x=n.get("hasVariable"))==null||x.forEach(b=>{var S;o.has(b.data.target)||o.set(b.data.target,new Set),(S=o.get(b.data.target))==null||S.add(b.data.source)});const u=new Map;(E=n.get("type"))==null||E.forEach(b=>{var S;u.has(b.data.source)||u.set(b.data.source,new Set),(S=u.get(b.data.source))==null||S.add(b.data.target)}),console.log("typesMap:",u);function l(b,S,T){let O=[];return S==null||S.forEach(L=>{let M=L.data.target;const _=b.get(L.data.source);_&&_.forEach(P=>{P!=M&&O.push({data:{id:`${P}-${M}-${T}`,source:P,target:M,labels:[`${T}`]}})})}),O}function f(b,S,T,O=void 0){let L=[];return S==null||S.forEach(M=>{const _=b.get(M.data.source);_&&_.forEach(P=>{const N=(O==null?void 0:O.get(M.data.target))??b.get(M.data.target);N==null||N.forEach(R=>{P!=R&&L.push({data:{id:`${P}-${R}-${T}`,source:P,target:R,labels:T}})})})}),L}const c=l(i,n.get("instantiates"),"constructs"),d=l(i,n.get("returnType"),"returns"),v=l(o,n.get("type"),"holds"),g=f(i,n.get("invokes"),"calls"),y=f(i,n.get("hasParameter"),"accepts",u);let p=[...n.get("specializes")||[],...c||[],...n.get("contains")||[],...d||[],...v||[],...g||[],...y||[]];return{nodes:r,edges:lP(r,p)}}function lP(t,e){const r=new Set(t.map(n=>n.data.id));return e.filter(({data:{source:n,target:i}})=>r.has(n)&&r.has(i))}const fP=aP;ya.use(nP);function cP(){const t=hn.useRef(null),[e,r]=hn.useState(oP),[n,i]=hn.useState(null),[o,u]=hn.useState(!1),[l,f]=hn.useState("grid"),[c,d]=hn.useState({calls:!0,contains:!1,constructs:!1,holds:!1,accepts:!1,specializes:!1,returns:!1,accesses:!1}),v=["contains","calls","constructs","holds","accepts","specializes","returns","accesses"],g=["grid","cola"];hn.useEffect(()=>{if(!t.current)return;const b=ya({container:t.current,elements:sP(e.elements),style:fP});return i(b),()=>{b.destroy()}},[e]);const y=b=>{console.log("toggle primitives"),u(b.target.checked)};hn.useEffect(()=>{n&&n.nodes().forEach(b=>{((b.data("labels")||[]).includes("Primitive")||b.data("id")==="java.lang.String")&&b.style({display:o?"element":"none"})})},[o,n]);const p=b=>{const S=b.target.files[0];if(!S)return;const T=new FileReader;T.onload=O=>{try{const L=JSON.parse(O.target.result);r(L)}catch(L){console.error("Error parsing JSON file:",L)}},T.readAsText(S)},w=b=>{const{name:S,checked:T}=b.target;d(O=>({...O,[S]:T}))};hn.useEffect(()=>{n&&n.edges().forEach(b=>{const S=b._private.data.labels||b._private.data.label;b.style({display:c[S]?"element":"none"})})},[c,n]);const x=b=>{f(b.target.value)},E=()=>{n&&n.layout({name:l==="cola"?"cola":"grid",animated:!1,avoidOverlap:!0,nodeSpacing:10}).run()};return _t.jsxs("div",{className:"app-container",children:[_t.jsx("div",{className:"canvas",children:_t.jsx("div",{ref:t,style:{width:"100%",height:"100%"}})}),_t.jsxs("div",{className:"menu-bar",children:[_t.jsx("h1",{children:"ArchiLens"}),_t.jsx("hr",{}),_t.jsx("input",{type:"file",accept:".json",onChange:p}),_t.jsxs("label",{children:[_t.jsx("input",{type:"checkbox",checked:o,onChange:y}),"Show Primitive"]}),_t.jsx("hr",{}),_t.jsx("h2",{children:"Layout"}),_t.jsx("select",{value:l,onChange:x,children:g.map(b=>_t.jsx("option",{value:b,children:b=="grid"?"default":b}))}),_t.jsx("button",{onClick:E,children:"Relayout"}),_t.jsx("hr",{}),_t.jsx("h2",{children:"Relationships"}),_t.jsx("ul",{children:v.map(b=>_t.jsx("li",{children:_t.jsxs("label",{children:[_t.jsx("input",{type:"checkbox",name:b,checked:c[b],onChange:w}),b]})},b))})]})]})}U1.createRoot(document.getElementById("root")).render(_t.jsx(hn.StrictMode,{children:_t.jsx(cP,{})}));
